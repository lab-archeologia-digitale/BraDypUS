function sprintf(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,r=arguments,t=0,n=r[t++],a=function(e,r,t,n){t||(t=" ");var a=e.length>=r?"":Array(1+r-e.length>>>0).join(t);return n?e+a:a+e},i=function(e,r,t,n,i,c){var s=n-e.length;return s>0&&(e=t||!i?a(e,n,c,t):e.slice(0,r.length)+a("",s,"0",!0)+e.slice(r.length)),e},c=function(e,r,t,n,c,s,u){var o=e>>>0;return e=(t=t&&o&&{2:"0b",8:"0",16:"0x"}[r]||"")+a(o.toString(r),s||0,"0",!1),i(e,t,n,c,u)},s=function(e,r,t,n,a,c){return null!==n&&(e=e.slice(0,n)),i(e,"",r,t,a,c)},u=function(e,n,u,o,f,h,l){var d,g,p,b,v;if("%%"==e)return"%";for(var x=!1,w="",E=!1,k=!1,m=" ",A=u.length,C=0;u&&C<A;C++)switch(u.charAt(C)){case" ":w=" ";break;case"+":w="+";break;case"-":x=!0;break;case"'":m=u.charAt(C+1);break;case"0":E=!0;break;case"#":k=!0}if((o=o?"*"==o?+r[t++]:"*"==o.charAt(0)?+r[o.slice(1,-1)]:+o:0)<0&&(o=-o,x=!0),!isFinite(o))throw new Error("sprintf: (minimum-)width must be finite");switch(h=h?"*"==h?+r[t++]:"*"==h.charAt(0)?+r[h.slice(1,-1)]:+h:"fFeE".indexOf(l)>-1?6:"d"==l?0:void 0,v=n?r[n.slice(0,-1)]:r[t++],l){case"s":return s(String(v),x,o,h,E,m);case"c":return s(String.fromCharCode(+v),x,o,h,E);case"b":return c(v,2,k,x,o,h,E);case"o":return c(v,8,k,x,o,h,E);case"x":return c(v,16,k,x,o,h,E);case"X":return c(v,16,k,x,o,h,E).toUpperCase();case"u":return c(v,10,k,x,o,h,E);case"i":case"d":return v=(g=(d=0|+v)<0?"-":w)+a(String(Math.abs(d)),h,"0",!1),i(v,g,x,o,E);case"e":case"E":case"f":case"F":case"g":case"G":return g=(d=+v)<0?"-":w,p=["toExponential","toFixed","toPrecision"]["efg".indexOf(l.toLowerCase())],b=["toString","toUpperCase"]["eEfFgG".indexOf(l)%2],v=g+Math.abs(d)[p](h),i(v,g,x,o,E)[b]();default:return e}};return n.replace(e,u)}function vsprintf(e,r){return this.sprintf.apply(this,[e].concat(r))}
/*!
jQuery UI Virtual Keyboard
Version 1.12

Author: Jeremy Satterfield
Modified: Rob Garrison (Mottie on github)
-----------------------------------------
Licensed under the MIT License

Caret code modified from jquery.caret.1.02.js
Licensed under the MIT License:
http://www.opensource.org/licenses/mit-license.php
-----------------------------------------

An on-screen virtual keyboard embedded within the browser window which
will popup when a specified entry field is focused. The user can then
type and preview their input before Accepting or Canceling.

As a plugin to jQuery UI styling and theme will automatically
match that used by jQuery UI with the exception of the required
CSS listed below.

Requires:
	jQuery
	jQuery UI (position utility only) & CSS

Usage:
	$('input[type=text], input[type=password], textarea')
		.keyboard({
			layout:"qwerty",
			customLayout: {
				'default': [
					"q w e r t y {bksp}",
					"s a m p l e {shift}",
					"{accept} {space} {cancel}"
				],
				'shift' : [
					"Q W E R T Y {bksp}",
					"S A M P L E {shift}",
					"{accept} {space} {cancel}"
				]
			}
		});

Options:
	layout
		[String] specify which keyboard layout to use
		qwerty - Standard QWERTY layout (Default)
		international - US international layout
		alpha  - Alphabetical layout
		dvorak - Dvorak Simplified layout
		num    - Numerical (ten-key) layout
		custom - Uses a custom layout as defined by the customLayout option

	customLayout
		[Object] Specify a custom layout
			An Object containing a set of key:value pairs, each key is a keyset.
			The key can be one to four rows (default, shifted, alt and alt-shift) or any number of meta key sets (meta1, meta2, etc).
			The value is an array with string elements of which each defines a new keyboard row.
			Each string element must have each character or key seperated by a space.
			To include an action key, select the desired one from the list below, or define your own by adding it to the $.keyboard.keyaction variable
			In the list below where two special/"Action" keys are shown, both keys have the same action but different appearances (abbreviated/full name keys).
			Special/"Action" keys include:
				{a}, {accept} - Updates element value and closes keyboard
				{alt},{altgr} - AltGr for International keyboard
				{b}, {bksp}   - Backspace
				{c}, {cancel} - Clears changes and closes keyboard
				{clear}       - Clear input window - used in num pad
				{combo}       - Toggle combo (diacritic) key
				{dec}         - Decimal for numeric entry, only allows one decimal (optional use in num pad)
				{e}, {enter}  - Return/New Line
				{lock}        - Caps lock key
				{meta#}       - Meta keys that change the key set (# can be any integer)
				{next}        - Switch to next keyboard input/textarea
				{prev}        - Switch to previous keyboard input/textarea
				{s}, {shift}  - Shift
				{sign}        - Change sign of numeric entry (positive or negative)
				{sp:#}        - Replace # with a numerical value, adds blank space, value of 1 ~ width of one key
				{space}       - Spacebar
				{t}, {tab}    - Tab

CSS:
	.ui-keyboard { padding: .3em; position: absolute; left: 0; top: 0; z-index: 16000; }
	.ui-keyboard-has-focus { z-index: 16001; }
	.ui-keyboard div { font-size: 1.1em; }
	.ui-keyboard-button { height: 2em; width: 2em; margin: .1em; cursor: pointer; overflow: hidden; line-height: 2em; }
	.ui-keyboard-button span { padding: 0; margin: 0; white-space:nowrap; }
	.ui-keyboard-button-endrow { clear: left; }
	.ui-keyboard-widekey { width: 4em; }
	.ui-keyboard-space { width: 15em; text-indent: -999em; }
	.ui-keyboard-preview-wrapper { text-align: center; }
	.ui-keyboard-preview { text-align: left; margin: 0 0 3px 0; display: inline; width: 99%;} - width is calculated in IE, since 99% = 99% full browser width
	.ui-keyboard-keyset { text-align: center; white-space: nowrap; }
	.ui-keyboard-input { text-align: left; }
	.ui-keyboard-input-current { -moz-box-shadow: 1px 1px 10px #00f; -webkit-box-shadow: 1px 1px 10px #00f; box-shadow: 1px 1px 10px #00f; }
	.ui-keyboard-placeholder { color: #888; }
	.ui-keyboard-nokeyboard { color: #888; border-color: #888; } - disabled or readonly inputs, or use input[disabled='disabled'] { color: #f00; }
*/
!function(e){e.keyboard=function(t,a){var i,s=this;s.$el=e(t),s.el=t,s.$el.data("keyboard",s),s.init=function(){s.options=i=e.extend(!0,{},e.keyboard.defaultOptions,a),s.shiftActive=s.altActive=s.metaActive=s.sets=s.capsLock=!1,s.lastKeyset=[!1,!1,!1],s.rows=["","-shift","-alt","-alt-shift"],s.acceptedKeys=[],s.mappedKeys={},e('\x3c!--[if lte IE 8]><script>jQuery("body").addClass("oldie");<\/script><![endif]--\x3e\x3c!--[if IE]><script>jQuery("body").addClass("ie");<\/script><![endif]--\x3e').appendTo("body").remove(),s.msie=e("body").hasClass("oldie"),s.allie=e("body").hasClass("ie"),s.inPlaceholder=s.$el.attr("placeholder")||"",s.watermark=void 0!==document.createElement("input").placeholder&&""!==s.inPlaceholder,s.regex=e.keyboard.comboRegex,s.decimal=!!/^\./.test(i.display.dec),s.repeatTime=1e3/(i.repeatRate||20),s.temp=e('<input style="position:absolute;left:-9999em;top:-9999em;" type="text" value="testing">').appendTo("body").caret(3,3),s.checkCaret=!(!i.lockInput&&3===s.temp.hide().show().caret().start),s.temp.remove(),s.lastCaret={start:0,end:0},s.temp=["",0,0],e.each("initialized visible change hidden canceled accepted beforeClose".split(" "),(function(t,a){e.isFunction(i[a])&&s.$el.bind(a+".keyboard",i[a])})),i.alwaysOpen&&(i.stayOpen=!0),e(document).bind("mousedown.keyboard keyup.keyboard",(function(t){if(!s.opening&&(s.escClose(t),t.target&&e(t.target).hasClass("ui-keyboard-input"))){var a=e(t.target).data("keyboard");a&&a.options.openOn.length&&a.focusOn()}})),s.$el.addClass("ui-keyboard-input "+i.css.input).attr({"aria-haspopup":"true",role:"textbox"}),(s.$el.is(":disabled")||s.$el.attr("readonly")&&!s.$el.hasClass("ui-keyboard-lockedinput"))&&s.$el.addClass("ui-keyboard-nokeyboard"),i.openOn&&s.$el.bind(i.openOn+".keyboard",(function(){s.focusOn()})),s.watermark||""!==s.$el.val()||""===s.inPlaceholder||""===s.$el.attr("placeholder")||s.$el.addClass("ui-keyboard-placeholder").val(s.inPlaceholder),s.$el.trigger("initialized.keyboard",[s,s.el]),i.alwaysOpen&&s.reveal()},s.focusOn=function(){s.$el.is(":visible")&&(s.lastCaret=s.$el.caret()),s.isVisible()&&!i.alwaysOpen||(clearTimeout(s.timer),s.reveal(),setTimeout((function(){s.$preview.focus()}),100))},s.reveal=function(){var t,a;if(s.opening=!0,e(".ui-keyboard:not(.ui-keyboard-always-open)").hide(),!(s.$el.is(":disabled")||s.$el.attr("readonly")&&!s.$el.hasClass("ui-keyboard-lockedinput")))return s.$el.removeClass("ui-keyboard-nokeyboard"),i.openOn&&s.$el.unbind(i.openOn+".keyboard"),void 0===s.$keyboard&&s.startup(),e(".ui-keyboard-has-focus").removeClass("ui-keyboard-has-focus"),e(".ui-keyboard-input-current").removeClass("ui-keyboard-input-current"),s.$el.addClass("ui-keyboard-input-current"),s.isCurrent(!0),s.watermark||s.el.value!==s.inPlaceholder||s.$el.removeClass("ui-keyboard-placeholder").val(""),s.originalContent=s.$el.val(),s.$preview.val(s.originalContent),i.acceptValid&&s.checkValid(),s.position=i.position,s.position.of=s.position.of||s.$el.data("keyboardPosition")||s.$el,s.position.collision=i.usePreview?s.position.collision||"fit fit":"flip flip",i.resetDefault&&(s.shiftActive=s.altActive=s.metaActive=!1,s.showKeySet()),s.$keyboard.css({position:"absolute",left:0,top:0}).addClass("ui-keyboard-has-focus").show(),i.usePreview&&s.msie&&(void 0===s.width&&(s.$preview.hide(),s.width=Math.ceil(s.$keyboard.width()),s.$preview.show()),s.$preview.width(s.width)),s.$keyboard.position(s.position),s.$preview.focus(),s.checkDecimal(),s.lineHeight=parseInt(s.$preview.css("lineHeight"),10)||parseInt(s.$preview.css("font-size"),10)+4,s.allie&&(t={start:a=s.lastCaret.start||s.originalContent.length,end:a},s.lastCaret||(s.lastCaret=t),0===s.lastCaret.end&&s.lastCaret.start>0&&(s.lastCaret.end=s.lastCaret.start),s.lastCaret.start<0&&(s.lastCaret=t)),s.$preview.caret(s.lastCaret.start,s.lastCaret.end),s.$el.trigger("visible.keyboard",[s,s.el]),setTimeout((function(){s.opening=!1}),500),s;s.$el.addClass("ui-keyboard-nokeyboard")},s.startup=function(){s.$keyboard=s.buildKeyboard(),s.$allKeys=s.$keyboard.find("button.ui-keyboard-button"),s.preview=s.$preview[0],s.$decBtn=s.$keyboard.find(".ui-keyboard-dec"),s.wheel=e.isFunction(e.fn.mousewheel),s.alwaysAllowed=[20,33,34,35,36,37,38,39,40,45,46],i.enterNavigation&&s.alwaysAllowed.push(13),s.$preview.bind("keypress.keyboard",(function(t){var a=String.fromCharCode(t.charCode||t.which);if(s.checkCaret&&(s.lastCaret=s.$preview.caret()),s.capsLock=!!(a>=65&&a<=90&&!t.shiftKey||a>=97&&a<=122&&t.shiftKey),i.restrictInput){if((8===t.which||0===t.which)&&e.inArray(t.keyCode,s.alwaysAllowed))return;-1===e.inArray(a,s.acceptedKeys)&&t.preventDefault()}else if((t.ctrlKey||t.metaKey)&&(97===t.which||99===t.which||118===t.which||t.which>=120&&t.which<=122))return;s.hasMappedKeys&&s.mappedKeys.hasOwnProperty(a)&&(s.insertText(s.mappedKeys[a]),t.preventDefault()),s.checkMaxLength()})).bind("keyup.keyboard",(function(t){switch(t.which){case 9:s.tab&&!i.lockInput?(e.keyboard.keyaction.tab(s),s.tab=!1):t.preventDefault();break;case 27:return s.close(),!1}clearTimeout(s.throttled),s.throttled=setTimeout((function(){s.checkCombos()}),100),s.checkMaxLength(),s.$el.trigger("change.keyboard",[s,s.el])})).bind("keydown.keyboard",(function(t){switch(t.which){case 9:return!!i.tabNavigation||(s.tab=!0,!1);case 13:e.keyboard.keyaction.enter(s,null,t);break;case 20:s.shiftActive=s.capsLock=!s.capsLock,s.showKeySet(this);break;case 86:if(t.ctrlKey||t.metaKey){if(i.preventPaste)return void t.preventDefault();s.checkCombos()}}})).bind("mouseup.keyboard",(function(){s.checkCaret&&(s.lastCaret=s.$preview.caret())})),s.$keyboard.bind("mousedown.keyboard click.keyboard",(function(e){e.stopPropagation()})),i.preventPaste&&(s.$preview.bind("contextmenu.keyboard",(function(e){e.preventDefault()})),s.$el.bind("contextmenu.keyboard",(function(e){e.preventDefault()}))),i.appendLocally?s.$el.after(s.$keyboard):s.$keyboard.appendTo("body"),s.$allKeys.bind(i.keyBinding.split(" ").join(".keyboard ")+".keyboard repeater.keyboard",(function(t){var a,r=e.data(this,"key"),o=r.action.split(":")[0];if(s.$preview.focus(),s.checkCaret&&s.$preview.caret(s.lastCaret.start,s.lastCaret.end),o.match("meta")&&(o="meta"),e.keyboard.keyaction.hasOwnProperty(o)&&e(this).hasClass("ui-keyboard-actionkey")){if(!1===e.keyboard.keyaction[o](s,this,t))return}else void 0!==r.action&&(a=s.wheel&&!e(this).hasClass("ui-keyboard-actionkey")?r.curTxt:r.action,s.insertText(a),s.capsLock||i.stickyShift||t.shiftKey||(s.shiftActive=!1,s.showKeySet(this)));s.checkCombos(),s.checkMaxLength(),s.$el.trigger("change.keyboard",[s,s.el]),s.$preview.focus(),t.preventDefault()})).bind("mouseenter.keyboard mouseleave.keyboard",(function(t){var a=e(this),r=e.data(this,"key");"mouseenter"===t.type&&"password"!==s.el.type&&a.addClass(i.css.buttonHover).attr("title",(function(e,t){return s.wheel&&""===t&&s.sets?i.wheelMessage:t})),"mouseleave"===t.type&&(r.curTxt=r.original,r.curNum=0,e.data(this,"key",r),a.removeClass("password"===s.el.type?"":i.css.buttonHover).attr("title",(function(e,t){return t===i.wheelMessage?"":t})).find("span").text(r.original))})).bind("mousewheel.keyboard",(function(t,a){if(s.wheel){var i,r=e(this),o=e.data(this,"key");return i=o.layers||s.getLayers(r),o.curNum+=a>0?-1:1,o.curNum>i.length-1&&(o.curNum=0),o.curNum<0&&(o.curNum=i.length-1),o.layers=i,o.curTxt=i[o.curNum],e.data(this,"key",o),r.find("span").text(i[o.curNum]),!1}})).bind("mouseup.keyboard mouseleave.kb touchend.kb touchmove.kb touchcancel.kb",(function(){return s.isVisible()&&s.isCurrent()&&s.$preview.focus(),s.mouseRepeat=[!1,""],clearTimeout(s.repeater),s.checkCaret&&s.$preview.caret(s.lastCaret.start,s.lastCaret.end),!1})).bind("click.keyboard",(function(){return!1})).filter(":not(.ui-keyboard-actionkey)").add(".ui-keyboard-tab, .ui-keyboard-bksp, .ui-keyboard-space, .ui-keyboard-enter",s.$keyboard).bind("mousedown.kb touchstart.kb",(function(){if(0!==i.repeatRate){var t=e(this);s.mouseRepeat=[!0,t],setTimeout((function(){s.mouseRepeat[0]&&s.mouseRepeat[1]===t&&s.repeatKey(t)}),i.repeatDelay)}return!1})),e(window).resize((function(){s.isVisible()&&s.$keyboard.position(s.position)}))},s.isVisible=function(){return void 0!==s.$keyboard&&s.$keyboard.is(":visible")},s.insertText=function(e){var t,a,i,r=s.$preview.val(),o=s.$preview.caret(),n=s.$preview.scrollLeft(),c=s.$preview.scrollTop(),l=r.length;o.end<o.start&&(o.end=o.start),o.start>l&&(o.end=o.start=l),"TEXTAREA"===s.preview.tagName&&(s.msie&&"\n"===r.substr(o.start,1)&&(o.start+=1,o.end+=1),i=r.split("\n").length-1,s.preview.scrollTop=i>0?s.lineHeight*i:c),t="bksp"===e&&o.start===o.end,e="bksp"===e?"":e,a=o.start+(t?-1:e.length),n+=parseInt(s.$preview.css("fontSize"),10)*("bksp"===e?-1:1),s.$preview.val(s.$preview.val().substr(0,o.start-(t?1:0))+e+s.$preview.val().substr(o.end)).caret(a,a).scrollLeft(n),s.checkCaret&&(s.lastCaret={start:a,end:a})},s.checkMaxLength=function(){var e,t=s.$preview.val();!1!==i.maxLength&&t.length>i.maxLength&&(e=Math.min(s.$preview.caret().start,i.maxLength),s.$preview.val(t.substring(0,i.maxLength)),s.$preview.caret(e,e),s.lastCaret={start:e,end:e}),s.$decBtn.length&&s.checkDecimal()},s.repeatKey=function(e){e.trigger("repeater.keyboard"),s.mouseRepeat[0]&&(s.repeater=setTimeout((function(){s.repeatKey(e)}),s.repeatTime))},s.showKeySet=function(e){var t="",a=(s.shiftActive?1:0)+(s.altActive?2:0);if(s.shiftActive||(s.capsLock=!1),s.metaActive?(""===(t=e&&e.name&&/meta/.test(e.name)?e.name:"")?t=!0===s.metaActive?"":s.metaActive:s.metaActive=t,(!i.stickyShift&&s.lastKeyset[2]!==s.metaActive||(s.shiftActive||s.altActive)&&!s.$keyboard.find(".ui-keyboard-keyset-"+t+s.rows[a]).length)&&(s.shiftActive=s.altActive=!1)):!i.stickyShift&&s.lastKeyset[2]!==s.metaActive&&s.shiftActive&&(s.shiftActive=s.altActive=!1),t=0!==(a=(s.shiftActive?1:0)+(s.altActive?2:0))||s.metaActive?""===t?"":"-"+t:"-default",!s.$keyboard.find(".ui-keyboard-keyset"+t+s.rows[a]).length)return s.shiftActive=s.lastKeyset[0],s.altActive=s.lastKeyset[1],void(s.metaActive=s.lastKeyset[2]);s.$keyboard.find(".ui-keyboard-alt, .ui-keyboard-shift, .ui-keyboard-actionkey[class*=meta]").removeClass(i.css.buttonAction).end().find(".ui-keyboard-alt")[s.altActive?"addClass":"removeClass"](i.css.buttonAction).end().find(".ui-keyboard-shift")[s.shiftActive?"addClass":"removeClass"](i.css.buttonAction).end().find(".ui-keyboard-lock")[s.capsLock?"addClass":"removeClass"](i.css.buttonAction).end().find(".ui-keyboard-keyset").hide().end().find(".ui-keyboard-keyset"+t+s.rows[a]).show().end().find(".ui-keyboard-actionkey.ui-keyboard"+t).addClass(i.css.buttonAction),s.lastKeyset=[s.shiftActive,s.altActive,s.metaActive]},s.checkCombos=function(){var e,t,a,r,o=s.$preview.val(),n=s.$preview.caret(),c=o.length;if(n.end<n.start&&(n.end=n.start),n.start>c&&(n.end=n.start=c),s.msie&&"\n"===o.substr(n.start,1)&&(n.start+=1,n.end+=1),i.useCombos&&(s.msie?o=o.replace(s.regex,(function(e,t,a){return i.combos.hasOwnProperty(t)&&i.combos[t][a]||e})):(a=n.start-(n.start-2>=0?2:0),s.$preview.caret(a,n.end),r=s.$preview.caret().text.replace(s.regex,(function(e,t,a){return i.combos.hasOwnProperty(t)&&i.combos[t][a]||e})),s.$preview.val(s.$preview.caret().replace(r)),o=s.$preview.val())),i.restrictInput&&""!==o){for(a=o,t=s.acceptedKeys.length,e=0;e<t;e++)""!==a&&(r=s.acceptedKeys[e],o.indexOf(r)>=0&&(/[\[|\]|\\|\^|\$|\.|\||\?|\*|\+|\(|\)|\{|\}]/g.test(r)&&(r="\\"+r),a=a.replace(new RegExp(r,"g"),"")));""!==a&&(o=o.replace(a,""))}return n.start+=o.length-c,n.end+=o.length-c,s.$preview.val(o),s.$preview.caret(n.start,n.end),s.preview.scrollTop=s.lineHeight*(o.substring(0,n.start).split("\n").length-1),s.lastCaret={start:n.start,end:n.end},i.acceptValid&&s.checkValid(),o},s.checkValid=function(){var e=!0;i.validate&&"function"==typeof i.validate&&(e=i.validate(s,s.$preview.val(),!1)),s.$keyboard.find(".ui-keyboard-accept")[e?"removeClass":"addClass"]("ui-keyboard-invalid-input")[e?"addClass":"removeClass"]("ui-keyboard-valid-input")},s.checkDecimal=function(){s.decimal&&/\./g.test(s.preview.value)||!s.decimal&&/\,/g.test(s.preview.value)?s.$decBtn.attr({disabled:"disabled","aria-disabled":"true"}).removeClass(i.css.buttonDefault+" "+i.css.buttonHover).addClass(i.css.buttonDisabled):s.$decBtn.removeAttr("disabled").attr({"aria-disabled":"false"}).addClass(i.css.buttonDefault).removeClass(i.css.buttonDisabled)},s.getLayers=function(t){var a;return a=t.attr("data-pos"),t.closest(".ui-keyboard").find('button[data-pos="'+a+'"]').map((function(){return e(this).find("> span").text()})).get()},s.isCurrent=function(t){var a=e.keyboard.currentKeyboard||!1;return t?a=e.keyboard.currentKeyboard=s.el:!1===t&&a===s.el&&(a=e.keyboard.currentKeyboard=""),a===s.el},s.switchInput=function(t,a){if("function"==typeof i.switchInput)i.switchInput(s,t,a);else{var r,o=!1,n=e(".ui-keyboard-input:visible"),c=n.index(s.$el)+(t?1:-1);c>n.length-1&&(o=i.stopAtEnd,c=0),c<0&&(o=i.stopAtEnd,c=n.length-1),o||(s.close(a),(r=n.eq(c).data("keyboard"))&&r.options.openOn.length&&r.focusOn())}return!1},s.close=function(t){if(s.isVisible()){clearTimeout(s.throttled);var a=t?s.checkCombos():s.originalContent;if(t&&i.validate&&"function"==typeof i.validate&&!i.validate(s,a,!0)&&(a=s.originalContent,t=!1,i.cancelClose))return;s.isCurrent(!1),s.$el.removeClass("ui-keyboard-input-current ui-keyboard-autoaccepted").addClass(t?!0===t?"":"ui-keyboard-autoaccepted":"").trigger(i.alwaysOpen?"":"beforeClose.keyboard",[s,s.el,t||!1]).val(a).scrollTop(s.el.scrollHeight).trigger(t?"accepted.keyboard":"canceled.keyboard",[s,s.el]).trigger(i.alwaysOpen?"inactive.keyboard":"hidden.keyboard",[s,s.el]).blur(),i.openOn&&(s.timer=setTimeout((function(){s.$el.bind(i.openOn+".keyboard",(function(){s.focusOn()})),e(":focus")[0]===s.el&&s.$el.blur()}),500)),i.alwaysOpen||s.$keyboard.hide(),s.watermark||""!==s.el.value||""===s.inPlaceholder||s.$el.addClass("ui-keyboard-placeholder").val(s.inPlaceholder)}return!!t},s.accept=function(){return s.close(!0)},s.escClose=function(e){if("keyup"===e.type)return 27===e.which?s.close():"";var t=s.isCurrent();!s.isVisible()||i.alwaysOpen&&!t||!i.alwaysOpen&&i.stayOpen&&t&&!s.isVisible()||e.target!==s.el&&t&&(s.allie&&e.preventDefault(),s.close(!!i.autoAccept&&"true"))},s.keyBtn=e("<button />").attr({role:"button","aria-disabled":"false",tabindex:"-1"}).addClass("ui-keyboard-button"),s.addKey=function(t,a,r){var o,n,c,l,d,u=!0===r?t:i.display[a]||t,p=!0===r?t.charCodeAt(0):t;return/\(.+\)/.test(u)&&(l=u.replace(/\(([^()]+)\)/,""),c=u.match(/\(([^()]+)\)/)[1],u=l,d=l.split(":"),l=""!==d[0]&&d.length>1?d[0]:l,s.mappedKeys[c]=l),""===(d=u.split(":"))[0]&&""===d[1]&&(u=":"),u=""!==d[0]&&d.length>1?e.trim(d[0]):u,o=d.length>1&&e.trim(d[1]).replace(/_/g," ")||"",n=u.length>1?" ui-keyboard-widekey":"",n+=r?"":" ui-keyboard-actionkey",s.keyBtn.clone().attr({"data-value":u,name:p,"data-pos":s.temp[1]+","+s.temp[2],title:o}).data("key",{action:t,original:u,curTxt:u,curNum:0}).addClass("ui-keyboard-"+p+n+" "+i.css.buttonDefault).html("<span>"+u+"</span>").appendTo(s.temp[0])},s.buildKeyboard=function(){var t,a,r,o,n,c,l,d,u=0,p=e("<div />").addClass("ui-keyboard "+i.css.container+(i.alwaysOpen?" ui-keyboard-always-open":"")).attr({role:"textbox"}).hide();return i.usePreview?(s.$preview=s.$el.clone(!1).removeAttr("id").removeClass("ui-keyboard-placeholder ui-keyboard-input").addClass("ui-keyboard-preview "+i.css.input).attr("tabindex","-1").show(),e("<div />").addClass("ui-keyboard-preview-wrapper").append(s.$preview).appendTo(p)):(s.$preview=s.$el,i.position.at=i.position.at2),i.lockInput&&s.$preview.addClass("ui-keyboard-lockedinput").attr({readonly:"readonly"}),"custom"!==i.layout&&e.keyboard.layouts.hasOwnProperty(i.layout)||(i.layout="custom",e.keyboard.layouts.custom=i.customLayout||{default:["{cancel}"]}),e.each(e.keyboard.layouts[i.layout],(function(b,y){if(""!==b)for(u++,r=e("<div />").attr("name",b).addClass("ui-keyboard-keyset ui-keyboard-keyset-"+b).appendTo(p)["default"===b?"show":"hide"](),a=0;a<y.length;a++){for(n=e.trim(y[a]).replace(/\{(\.?)[\s+]?:[\s+]?(\.?)\}/g,"{$1:$2}"),l=n.split(/\s+/),c=0;c<l.length;c++)if(s.temp=[r,a,c],o=!1,0!==l[c].length)if(/^\{\S+\}$/.test(l[c])){if(t=l[c].match(/^\{(\S+)\}$/)[1].toLowerCase(),/\!\!/.test(t)&&(t=t.replace("!!",""),o=!0),/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/.test(t)&&(d=parseFloat(t.replace(/,/,".").match(/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/)[1]||0),e("<span>&nbsp;</span>").width(t.match("px")?d+"px":2*d+"em").addClass("ui-keyboard-button ui-keyboard-spacer").appendTo(r)),/^meta\d+\:?(\w+)?/.test(t)){s.addKey(t,t);continue}switch(t){case"a":case"accept":s.addKey("accept",t).addClass(i.css.buttonAction);break;case"alt":case"altgr":s.addKey("alt","alt");break;case"b":case"bksp":s.addKey("bksp",t);break;case"c":case"cancel":s.addKey("cancel",t).addClass(i.css.buttonAction);break;case"combo":s.addKey("combo","combo").addClass(i.css.buttonAction);break;case"dec":s.acceptedKeys.push(s.decimal?".":","),s.addKey("dec","dec");break;case"e":case"enter":s.addKey("enter",t).addClass(i.css.buttonAction);break;case"s":case"shift":s.addKey("shift",t);break;case"sign":s.acceptedKeys.push("-"),s.addKey("sign","sign");break;case"space":s.acceptedKeys.push(" "),s.addKey("space","space");break;case"t":case"tab":s.addKey("tab",t);break;default:e.keyboard.keyaction.hasOwnProperty(t)&&s.addKey(t,t)[o?"addClass":"removeClass"](i.css.buttonAction)}}else s.acceptedKeys.push(l[c].split(":")[0]),s.addKey(l[c],l[c],!0);r.find(".ui-keyboard-button:last").after('<br class="ui-keyboard-button-endrow">')}})),u>1&&(s.sets=!0),s.hasMappedKeys=!e.isEmptyObject(s.mappedKeys),p},s.destroy=function(){e(document).unbind("mousedown.keyboard keyup.keyboard"),s.$keyboard&&s.$keyboard.remove();var t=e.trim(i.openOn+" accepted beforeClose canceled change contextmenu hidden initialized keydown keypress keyup visible").split(" ").join(".keyboard ");s.$el.removeClass("ui-keyboard-input ui-keyboard-lockedinput ui-keyboard-placeholder ui-keyboard-notallowed ui-keyboard-always-open "+i.css.input).removeAttr("aria-haspopup").removeAttr("role").unbind(t+".keyboard").removeData("keyboard")},s.init()},e.keyboard.keyaction={accept:function(e){return e.close(!0),!1},alt:function(e,t){e.altActive=!e.altActive,e.showKeySet(t)},bksp:function(e){e.insertText("bksp")},cancel:function(e){return e.close(),!1},clear:function(e){e.$preview.val("")},combo:function(e){var t=!e.options.useCombos;return e.options.useCombos=t,e.$keyboard.find(".ui-keyboard-combo")[t?"addClass":"removeClass"](e.options.css.buttonAction),t&&e.checkCombos(),!1},dec:function(e){e.insertText(e.decimal?".":",")},enter:function(t,a,i){var s=t.el.tagName,r=t.options;return i.shiftKey?r.enterNavigation?t.switchInput(!i[r.enterMod],!0):t.close(!0):r.enterNavigation&&("TEXTAREA"!==s||i[r.enterMod])?t.switchInput(!i[r.enterMod],!!r.autoAccept&&"true"):void("TEXTAREA"===s&&e(i.target).closest("button").length&&t.insertText(" \n"))},lock:function(e,t){e.lastKeyset[0]=e.shiftActive=e.capsLock=!e.capsLock,e.showKeySet(t)},meta:function(t,a){t.metaActive=!e(a).hasClass(t.options.css.buttonAction),t.showKeySet(a)},next:function(e){return e.switchInput(!0,e.options.autoAccept),!1},prev:function(e){return e.switchInput(!1,e.options.autoAccept),!1},shift:function(e,t){e.lastKeyset[0]=e.shiftActive=!e.shiftActive,e.showKeySet(t)},sign:function(e){/^\-?\d*\.?\d*$/.test(e.$preview.val())&&e.$preview.val(-1*e.$preview.val())},space:function(e){e.insertText(" ")},tab:function(e){var t=e.el.tagName,a=e.options;if("INPUT"===t)return!!a.tabNavigation&&e.switchInput(!e.shiftActive,!0);e.insertText("\t")}},e.keyboard.layouts={alpha:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} a b c d e f g h i j [ ] \\","k l m n o p q r s ; ' {enter}","{shift} t u v w x y z , . / {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} A B C D E F G H I J { } |",'K L M N O P Q R S : " {enter}',"{shift} T U V W X Y Z < > ? {shift}","{accept} {space} {cancel}"]},qwerty:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{accept} {space} {cancel}"]},international:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}","{accept} {alt} {space} {alt} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{accept} {alt} {space} {alt} {cancel}"],alt:["~ ¡ ² ³ ¤ € ¼ ½ ¾ ‘ ’ ¥ × {bksp}","{tab} ä å é ® þ ü ú í ó ö « » ¬","á ß ð f g h j k ø ¶ ´ {enter}","{shift} æ x © v b ñ µ ç > ¿ {shift}","{accept} {alt} {space} {alt} {cancel}"],"alt-shift":["~ ¹ ² ³ £ € ¼ ½ ¾ ‘ ’ ¥ ÷ {bksp}","{tab} Ä Å É ® Þ Ü Ú Í Ó Ö « » ¦","Ä § Ð F G H J K Ø ° ¨ {enter}","{shift} Æ X ¢ V B Ñ µ Ç . ¿ {shift}","{accept} {alt} {space} {alt} {cancel}"]},dvorak:{default:["` 1 2 3 4 5 6 7 8 9 0 [ ] {bksp}","{tab} ' , . p y f g c r l / = \\","a o e u i d h t n s - {enter}","{shift} ; q j k x b m w v z {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) { } {bksp}",'{tab} " < > P Y F G C R L ? + |',"A O E U I D H T N S _ {enter}","{shift} : Q J K X B M W V Z {shift}","{accept} {space} {cancel}"]},num:{default:["= ( ) {b}","{clear} / * -","7 8 9 +","4 5 6 {sign}","1 2 3 %","0 . {a} {c}"]}},e.keyboard.defaultOptions={layout:"qwerty",customLayout:null,position:{of:null,my:"center top",at:"center top",at2:"center bottom"},usePreview:!0,alwaysOpen:!1,stayOpen:!1,display:{a:"✔:Accept (Shift-Enter)",accept:"Accept:Accept (Shift-Enter)",alt:"AltGr:Alternate Graphemes",b:"←:Backspace",bksp:"Bksp:Backspace",c:"✖:Cancel (Esc)",cancel:"Cancel:Cancel (Esc)",clear:"C:Clear",combo:"ö:Toggle Combo Keys",dec:".:Decimal",e:"↵:Enter",enter:"Enter:Enter",lock:"⇪ Lock:Caps Lock",next:"Next",prev:"Prev",s:"⇧:Shift",shift:"Shift:Shift",sign:"±:Change Sign",space:"&nbsp;:Space",t:"⇥:Tab",tab:"⇥ Tab:Tab"},wheelMessage:"Use mousewheel to see other keys",css:{input:"ui-widget-content ui-corner-all",container:"ui-widget-content ui-widget ui-corner-all ui-helper-clearfix",buttonDefault:"ui-state-default ui-corner-all",buttonHover:"ui-state-hover",buttonAction:"ui-state-active",buttonDisabled:"ui-state-disabled"},autoAccept:!1,lockInput:!1,restrictInput:!1,acceptValid:!1,cancelClose:!0,tabNavigation:!1,enterNavigation:!1,enterMod:"altKey",stopAtEnd:!0,appendLocally:!1,stickyShift:!0,preventPaste:!1,maxLength:!1,repeatDelay:500,repeatRate:20,resetDefault:!1,openOn:"focus",keyBinding:"mousedown",useCombos:!0,combos:{"`":{a:"à",A:"À",e:"è",E:"È",i:"ì",I:"Ì",o:"ò",O:"Ò",u:"ù",U:"Ù",y:"ỳ",Y:"Ỳ"},"'":{a:"á",A:"Á",e:"é",E:"É",i:"í",I:"Í",o:"ó",O:"Ó",u:"ú",U:"Ú",y:"ý",Y:"Ý"},'"':{a:"ä",A:"Ä",e:"ë",E:"Ë",i:"ï",I:"Ï",o:"ö",O:"Ö",u:"ü",U:"Ü",y:"ÿ",Y:"Ÿ"},"^":{a:"â",A:"Â",e:"ê",E:"Ê",i:"î",I:"Î",o:"ô",O:"Ô",u:"û",U:"Û",y:"ŷ",Y:"Ŷ"},"~":{a:"ã",A:"Ã",e:"ẽ",E:"Ẽ",i:"ĩ",I:"Ĩ",o:"õ",O:"Õ",u:"ũ",U:"Ũ",y:"ỹ",Y:"Ỹ",n:"ñ",N:"Ñ"}},validate:function(e,t,a){return!0}},e.keyboard.comboRegex=/([`\'~\^\"ao])([a-z])/gim,e.keyboard.currentKeyboard="",e.fn.keyboard=function(t){return this.each((function(){e(this).data("keyboard")||new e.keyboard(this,t)}))},e.fn.getkeyboard=function(){return this.data("keyboard")}}(jQuery),function(e,t,a,i){e.fn.caret=function(e,a){if(void 0===this[0]||this.is(":hidden")||"hidden"===this.css("visibility"))return this;var i,s,r,o,n,c,l,d,u,p,b=document.selection,y=this[0],h=y.scrollTop,k=window.opera&&"[object Opera]"===window.opera.toString(),f=void 0!==y.selectionStart;return"number"==typeof e&&"number"==typeof a&&(r=e,n=a),void 0!==r?(f?("TEXTAREA"===y.tagName&&k&&(r+=(i=(p=this.val()).substring(0,r).split("\n")[t]-1)>0?i:0,n+=i>0?i:0),y.selectionStart=r,y.selectionEnd=n):((c=y.createTextRange()).collapse(!0),c.moveStart("character",r),c.moveEnd("character",n-r),c.select()),(this.is(":visible")||"hidden"!==this.css("visibility"))&&this.focus(),y.scrollTop=h,this):(f?(s=y.selectionStart,o=y.selectionEnd,"TEXTAREA"===y.tagName&&k&&(i=(p=this.val()).substring(0,s).split("\n")[t]-1,s+=i>0?-i:0,o+=i>0?-i:0)):"TEXTAREA"===y.tagName?(p=this.val(),(d=(l=b.createRange()).duplicate()).moveToElementText(y),d.setEndPoint("EndToEnd",l),s=d.text.replace(/\r\n/g,"\r")[t],o=s+l.text.replace(/\r\n/g,"\r")[t]):(p=this.val().replace(/\r\n/g,"\r"),(l=b.createRange().duplicate()).moveEnd("character",p[t]),s=""===l.text?p[t]:p.lastIndexOf(l.text),(l=b.createRange().duplicate()).moveStart("character",-p[t]),o=l.text[t]),u=y.value.substring(s,o),{start:s,end:o,text:u,replace:function(e){return y.value.substring(0,s)+e+y.value.substring(o,y.value[t])}})}}(jQuery,"length");
/**
* @author			Julian Bogdani <jbogdani@gmail.com>
* @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
* @license			See file LICENSE distributed with this code
*/
var utils={myClone:function(e,t){if(0===e.length)return!1;t=t||{};var a=$.extend({where:!1,baseName:"a",empty:!0,changeName:!0,cloneEvents:!1,loaded:!1,preserveEnhance:!0},t),n=function(e){var t=e.attr("name");t&&(t=t.replace(new RegExp(a.baseName,"g"),a.baseName+"s"+m+"e"),e.attr("name",t))},m=(new Date).getTime();a.preserveEnhance&&e.find(":input.multiselect, select, :input.combobox, :input.date").each((function(e,t){enhance.pimpEl(t,"destroy")})),e.each((function(e,t){if(!(t=$(t)).hasClass("cloned")){var c=t.clone(a.cloneEvents);c.addClass("cloned"),c.is(":visible")||c.show(),(a.empty||a.changeName)&&(c.is(":input")?(a.empty&&c.val(""),a.changeName&&n(c)):c.find(":input").each((function(e,t){a.empty&&$(t).val(""),a.changeName&&n($(t))})));var i=$("<button />").attr("type","button").addClass("btn btn-default btn-sm").css("margin","10px 0").html('<i class="fa fa-minus"></i>').on("click",(function(){$(this).parent("div.clonedContainer").remove()})),o=$("<div />").attr("class","clonedContainer").html(c).append(i);a.where?a.where.append(o):t.after(o),a.preserveEnhance&&c.find(":input.multiselect, select, :input.combobox, :input.date").each((function(e,t){const a=$(t).attr("id");a&&$(t).attr("id",a+"-"+m),enhance.pimpEl(t)})),a.loaded&&a.loaded(o)}})),a.preserveEnhance&&e.find(":input.multiselect, select, :input.combobox, :input.date").each((function(e,t){enhance.pimpEl(t)}))},myKeyboard:function(e){$(e).keyboard({initialized:function(e,t,a){t.reveal()},accepted:function(e,t,a){t.destroy(),$(a).attr("changed","auto")},canceled:function(e,t,a){t.destroy()},hidden:function(e,t,a){t.destroy()},layout:"custom",display:{meta1:"Greek",meta2:"Coptic",meta3:"Arabic",meta4:"Phonetic",meta5:"Diacritics"},customLayout:{default:["{meta1} {meta2} {meta3} {meta4} {meta5}","","  ¡ ¢ £ ¤ ¥ ¦ § ¨ © ª « ¬ ­ ® ¯","{sp:1} ° ± ² ³ ´ µ ¶ · ¸ ¹ º » ¼ ½ ¾ ¿","À Á Â Ã Ä Å Æ Ç È É Ê Ë Ì Í Î Ï","{sp:1} Ð Ñ Ò Ó Ô Õ Ö × Ø Ù Ú Û Ü Ý Þ ß","à á â ã ä å æ ç è é ê ë ì í î ï","{sp:1} ð ñ ò ó ô õ ö ÷ ø ù ú û ü ý þ ÿ","Ā ā Ă ă Ą ą Ć ć Ĉ ĉ Ċ ċ Č č Ď ď","{sp:1} Đ đ Ē ē Ĕ ĕ Ė ė Ę ę Ě ě Ĝ ĝ Ğ ğ","Ġ ġ Ģ ģ Ĥ ĥ Ħ ħ Ĩ ĩ Ī ī Ĭ ĭ Į į","{sp:1} İ ı Ĳ ĳ Ĵ ĵ Ķ ķ ĸ Ĺ ĺ Ļ ļ Ľ ľ Ŀ","ŀ Ł ł Ń ń Ņ ņ Ň ň ŉ Ŋ ŋ Ō ō Ŏ ŏ","{sp:1} Ő ő Œ œ Ŕ ŕ Ŗ ŗ Ř ř Ś ś Ŝ ŝ Ş ş","Š š Ţ ţ Ť ť Ŧ ŧ Ũ ũ Ū ū Ŭ ŭ Ů ů","{sp:1} Ű ű Ų ų Ŵ ŵ Ŷ ŷ Ÿ Ź ź Ż ż Ž ž ſ","","{a} {c}"],meta1:["{meta1} {meta2} {meta3} {meta4} {meta5}","","Α Β Γ Δ Ε Ζ Η Θ Ι Κ Λ Μ","Ν Ξ Ο Π Ρ Σ Τ Υ Φ Χ Ψ Ω","","α β γ δ ε ζ η θ ι κ λ μ","ν ξ ο π ρ ς σ τ υ φ χ ψ ω","","Ϊ ϊ ά έ ή ί ό ύ ώ ΰ","","{a} {c}"],meta2:["{meta1} {meta2} {meta3} {meta4} {meta5}","","Ϋ ϔ ϐ ϑ ϒ ϓ ϕ ϖ ϗ Ϙ ϙ Ϛ ϛ Ϝ","ϝ Ϟ ϟ Ϡ ϡ Ϣ ϣ Ϥ ϥ Ϧ ϧ Ϩ ϩ","Ϫ ϫ Ϭ ϭ Ϯ ϯ ϰ ϱ ϲ ϳ ϴ ϵ","϶ Ϸ ϸ Ϲ Ϻ ϻ ϼ Ͻ Ͼ Ͽ","","{a} {c}"],meta3:["{meta1} {meta2} {meta3} {meta4} {meta5}","","ء آ أ ؤ إ ئ ا ب ة ذ ر ز س ش","ص ض ط ظ ع ـ ف ق ك ل م ن ه","و ى ِ ّ ْ ٓ ٔ ٕ ٖ ٗ ٘ ٙ ٠","","{a} {c}"],meta4:["{meta1} {meta2} {meta3} {meta4} {meta5}","","ɐ ɑ ɒ ɓ ɔ ɕ ɖ ɗ ɘ ə ɠ ɠ ɡ ɢ","ɣ ɤ ɥ ɦ ɧ ɨ ɩ ɰ ɰ ɱ ɲ ɳ ɴ","ɵ ɶ ɷ ɸ ɹ ʀ ʠ ʡ ʢ ʣ ʤ ʥ ʦ ʧ","ʨ ʩ ʪ ʫ ʬ ʭ ʮ ʯ ɚ ɪ ɺ ʊ ʚ","ɛ ɪ ɻ ʋ ʛ ɜ ɬ ɼ ʌ ʜ ɝ ɭ ɽ ʍ","ʝ ɞ ɮ ɾ ʎ ʞ ɟ ɯ ɿ ʏ ʟ","","{a} {c}"],meta5:["{meta1} {meta2} {meta3} {meta4} {meta5}","","̀ ́ ̂ ̃ ̄ ̅ ̆ ̇ ̈ ̉ ̐ ̑ ̒ ̓ ̔","̕ ̖ ̗ ̘ ̙ ̠ ̡ ̢ ̣ ̤ ̥ ̦ ̧ ̨","̩ ̰ ̱ ̲ ̳ ̴ ̵ ̶ ̷ ̸ ̹ ̀ ́ ͂ ̓","̈́ ͅ ͆ ͇ ͈ ͉ ͐ ͑ ͒ ͓ ͔ ͕ ͖ ͗","͘ ͙ ͠ ͡ ͢ ͣ ͤ ͥ ͦ ͧ ͨ ͩ ̊ ̋ ̌","̍ ̎ ̏ ̚ ̛ ̜ ̝ ̞ ̟ ̪ ̫ ̬ ̭ ̮","̯ ̺ ̻ ̼ ̽ ̾ ̿ ͊ ͋ ͌ ͍ ͎ ͏ ͚ ͛","͜ ͝ ͞ ͟ ͪ ͫ ͬ ͭ ͮ ͯ","","{a} {c}"]}})}};
var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e)))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){return null!==t.opacity&&"string"!=typeof e.style.opacity&&void 0!==e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t){return new RegExp("(^| )"+t+"( |$)").test(e.className)},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t){var n,o=[];return e.querySelectorAll?e.querySelectorAll("."+t):(n=e.getElementsByTagName("*"),qq.each(n,(function(e,n){qq(n).hasClass(t)&&o.push(n)})),o)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")}}};qq.log=function(e,t){"use strict";window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){"use strict";return null!==e&&e&&"object"==typeof e&&e.constructor===Object},qq.isFunction=function(e){"use strict";return"function"==typeof e},qq.isString=function(e){"use strict";return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.isFileOrInput=function(e){"use strict";if(qq.isBlob(e)&&window.File&&e instanceof File)return!0;if(window.HTMLInputElement){if(e instanceof HTMLInputElement&&e.type&&"file"===e.type.toLowerCase())return!0}else if(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&"file"===e.type.toLowerCase())return!0;return!1},qq.isBlob=function(e){"use strict";return window.Blob&&e instanceof Blob},qq.isXhrUploadSupported=function(){"use strict";var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==(new XMLHttpRequest).upload},qq.isFolderDropSupported=function(e){"use strict";return e.items&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){"use strict";return!qq.android()&&qq.isXhrUploadSupported()&&(File.prototype.slice||File.prototype.webkitSlice||File.prototype.mozSlice)},qq.extend=function(e,t,n){"use strict";qq.each(t,(function(t,o){n&&qq.isObject(o)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],o,!0)):e[t]=o}))},qq.indexOf=function(e,t,n){"use strict";if(e.indexOf)return e.indexOf(t,n);n=n||0;var o=e.length;for(n<0&&(n+=o);n<o;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){"use strict";return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},qq.ie=function(){"use strict";return-1!==navigator.userAgent.indexOf("MSIE")},qq.ie10=function(){"use strict";return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.safari=function(){"use strict";return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){"use strict";return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.firefox=function(){"use strict";return-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){"use strict";return"Win32"===navigator.platform},qq.android=function(){"use strict";return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.preventDefault=function(e){"use strict";e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){"use strict";var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){"use strict";var n;if(e)for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t(n,e[n]))break},qq.obj2url=function(e,t,n){"use strict";var o,i,s=[],r="&",a=function(e,n){var o=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==o&&"undefined"!==n&&s.push("object"==typeof e?qq.obj2url(e,o,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(o)+"="+encodeURIComponent(e()):encodeURIComponent(o)+"="+encodeURIComponent(e))};if(!n&&t)r=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",s.push(t),s.push(qq.obj2url(e));else if("[object Array]"===Object.prototype.toString.call(e)&&void 0!==e)for(o=-1,i=e.length;o<i;o+=1)a(e[o],o);else if(null!=e&&"object"==typeof e)for(o in e)e.hasOwnProperty(o)&&a(e[o],o);else s.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return t?s.join(r):s.join(r).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){"use strict";return t||(t=new FormData),qq.each(e,(function(e,o){e=n?n+"["+e+"]":e,qq.isObject(o)?qq.obj2FormData(o,t,e):qq.isFunction(o)?t.append(e,o()):t.append(e,o)})),t},qq.obj2Inputs=function(e,t){"use strict";var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,o){(n=document.createElement("input")).setAttribute("name",e),n.setAttribute("value",o),t.appendChild(n)}}),t},qq.setCookie=function(e,t,n){var o=new Date,i="";n&&(o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()),document.cookie=e+"="+t+i+"; path=/"},qq.getCookie=function(e){for(var t,n=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(t=o[i];" "==t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(n))return t.substring(n.length,t.length)}},qq.getCookieNames=function(e){var t=document.cookie.split(";"),n=[];return qq.each(t,(function(t,o){var i=(o=qq.trimStr(o)).indexOf("=");o.match(e)&&n.push(o.substr(0,i))})),n},qq.deleteCookie=function(e){qq.setCookie(e,"",-1)},qq.areCookiesEnabled=function(){var e="qqCookieTest:"+1e5*Math.random();return qq.setCookie(e,1),!!qq.getCookie(e)&&(qq.deleteCookie(e),!0)},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.DisposeSupport=function(){"use strict";var e=[];return{dispose:function(){var t;do{(t=e.shift())&&t()}while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}},qq.Promise=function(){"use strict";var e,t,n,o,i=0;return{then:function(s,r){0===i?(n=s,o=r):-1===i&&r?r(t):s&&s(e)},success:function(t){return i=1,e=t,n&&n(t),this},failure:function(e){return i=-1,t=e,o&&o(e),this}}},qq.UploadButton=function(e){"use strict";var t,n=new qq.DisposeSupport,o={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};function i(){var e=document.createElement("input");return o.multiple&&e.setAttribute("multiple","multiple"),o.acceptFiles&&e.setAttribute("accept",o.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",o.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),o.element.appendChild(e),n.attach(e,"change",(function(){o.onChange(e)})),n.attach(e,"mouseover",(function(){qq(o.element).addClass(o.hoverClass)})),n.attach(e,"mouseout",(function(){qq(o.element).removeClass(o.hoverClass)})),n.attach(e,"focus",(function(){qq(o.element).addClass(o.focusClass)})),n.attach(e,"blur",(function(){qq(o.element).removeClass(o.focusClass)})),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}return qq.extend(o,e),qq(o.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),t=i(),{getInput:function(){return t},reset:function(){t.parentNode&&qq(t).remove(),qq(o.element).removeClass(o.focusClass),t=i()}}},qq.PasteSupport=function(e){"use strict";var t;return t={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(t,e),qq(t.targetElement).attach("paste",(function(e){var n=e.clipboardData;n&&qq.each(n.items,(function(e,n){if(function(e){return e.type&&0===e.type.indexOf("image/")}(n)){var o=n.getAsFile();t.callbacks.pasteReceived(o)}}))})),{reset:function(){}}},qq.FineUploaderBasic=function(e){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onResume:function(e,t,n){},onProgress:function(e,t,n,o){},onError:function(e,t,n,o){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){return(new qq.Promise).success()}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e.length>33&&(e=e.slice(0,19)+"..."+e.slice(-14)),e},text:{sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1},blobs:{defaultName:"misc_data",paramNames:{name:"qqblobname"}},paste:{targetElement:null,defaultName:"pasted_image"}},qq.extend(this._options,e,!0),this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._netFilesUploadedOrQueued=0,this._paramsStore=this._createParamsStore("request"),this._deleteFileParamsStore=this._createParamsStore("deleteFile"),this._endpointStore=this._createEndpointStore("request"),this._deleteFileEndpointStore=this._createEndpointStore("deleteFile"),this._handler=this._createUploadHandler(),this._deleteHandler=this._createDeleteHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler()),this._preventLeaveInProgress()},qq.FineUploaderBasic.prototype={log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[FineUploader] "+e,t):qq.log("[FineUploader] "+e)},setParams:function(e,t){null==t?this._options.request.params=e:this._paramsStore.setParams(e,t)},setDeleteFileParams:function(e,t){null==t?this._options.deleteFile.params=e:this._deleteFileParamsStore.setParams(e,t)},setEndpoint:function(e,t){null==t?this._options.request.endpoint=e:this._endpointStore.setEndpoint(e,t)},getInProgress:function(){return this._filesInProgress.length},uploadStoredFiles:function(){"use strict";for(var e;this._storedIds.length;)e=this._storedIds.shift(),this._filesInProgress.push(e),this._handler.upload(e)},clearStoredFiles:function(){this._storedIds=[]},retry:function(e){return!!this._onBeforeManualRetry(e)&&(this._netFilesUploadedOrQueued++,this._handler.retry(e),!0)},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,(function(e,n){t.cancel(n)})),this._handler.cancelAll()},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._button.reset(),this._paramsStore.reset(),this._endpointStore.reset(),this._pasteHandler.reset(),this._netFilesUploadedOrQueued=0},addFiles:function(e){var t,n,o=[];if(e){for(window.FileList&&e instanceof FileList||(e=[].concat(e)),t=0;t<e.length;t+=1)n=e[t],qq.isFileOrInput(n)?o.push(n):this.log(n+" is not a File or INPUT element!  Ignoring!","warn");this.log("Processing "+o.length+" files or inputs..."),this._uploadFileOrBlobDataList(o)}},addBlobs:function(e){if(e){var t=[].concat(e),n=[],o=this;qq.each(t,(function(e,t){qq.isBlob(t)&&!qq.isFileOrInput(t)?n.push({blob:t,name:o._options.blobs.defaultName}):qq.isObject(t)&&t.blob&&t.name?n.push(t):o.log("addBlobs: entry at index "+e+" is not a Blob or a BlobData object","error")})),this._uploadFileOrBlobDataList(n)}else this.log("undefined or non-array parameter passed into addBlobs","error")},getUuid:function(e){return this._handler.getUuid(e)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._handler.getSize(e)},getName:function(e){return this._handler.getName(e)},getFile:function(e){return this._handler.getFile(e)},deleteFile:function(e){this._onSubmitDelete(e)},setDeleteFileEndpoint:function(e,t){null==t?this._options.deleteFile.endpoint=e:this._deleteFileEndpointStore.setEndpoint(e,t)},getPromissoryCallbackNames:function(){return["onPasteReceived"]},_createUploadButton:function(e){var t=this,n=new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.isXhrUploadSupported(),acceptFiles:this._options.validation.acceptFiles,onChange:function(e){t._onInputChange(e)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});return this._disposeSupport.addDisposer((function(){n.dispose()})),n},_createUploadHandler:function(){var e=this;return new qq.UploadHandler({debug:this._options.debug,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,uuidParamName:this._options.request.uuidName,totalFileSizeParamName:this._options.request.totalFileSizeName,cors:this._options.cors,demoMode:this._options.demoMode,paramsInBody:this._options.request.paramsInBody,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(t,n){e.log(t,n)},onProgress:function(t,n,o,i){e._onProgress(t,n,o,i),e._options.callbacks.onProgress(t,n,o,i)},onComplete:function(t,n,o,i){e._onComplete(t,n,o,i),e._options.callbacks.onComplete(t,n,o)},onCancel:function(t,n){e._onCancel(t,n),e._options.callbacks.onCancel(t,n)},onUpload:function(t,n){e._onUpload(t,n),e._options.callbacks.onUpload(t,n)},onUploadChunk:function(t,n,o){e._options.callbacks.onUploadChunk(t,n,o)},onResume:function(t,n,o){return e._options.callbacks.onResume(t,n,o)},onAutoRetry:function(t,n,o,i){return e._preventRetries[t]=o[e._options.retry.preventRetryResponseProperty],!!e._shouldAutoRetry(t,n,o)&&(e._maybeParseAndSendUploadError(t,n,o,i),e._options.callbacks.onAutoRetry(t,n,e._autoRetries[t]+1),e._onBeforeAutoRetry(t,n),e._retryTimeouts[t]=setTimeout((function(){e._onAutoRetry(t,n,o)}),1e3*e._options.retry.autoAttemptDelay),!0)}})},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequestor({maxConnections:this._options.maxConnections,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(t,n){e.log(t,n)},onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,o){e._onDeleteComplete(t,n,o),e._options.callbacks.onDeleteComplete(t,n,o)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(t,n){e.log(t,n)},pasteReceived:function(t){var n=(0,e._options.callbacks.onPasteReceived)(t);n.then?n.then((function(n){e._handlePasteSuccess(t,n)}),(function(t){e.log("Ignoring pasted image per paste received callback.  Reason = '"+t+"'")})):e.log("Promise contract not fulfilled in pasteReceived callback handler!  Ignoring pasted item.","error")}}})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],o=t;null==o&&(o=this._options.paste.defaultName),o+="."+n,this.addBlobs({name:o,blob:e})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",(function(t){if(e._filesInProgress.length)return(t=t||window.event).returnValue=e._options.messages.onLeave,e._options.messages.onLeave}))},_onSubmit:function(e,t){this._netFilesUploadedOrQueued++,this._options.autoUpload&&this._filesInProgress.push(e)},_onProgress:function(e,t,n,o){},_onComplete:function(e,t,n,o){n.success||this._netFilesUploadedOrQueued--,this._removeFromFilesInProgress(e),this._maybeParseAndSendUploadError(e,t,n,o)},_onCancel:function(e,t){this._netFilesUploadedOrQueued--,this._removeFromFilesInProgress(e),clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1)},_isDeletePossible:function(){return this._options.deleteFile.enabled&&(!this._options.cors.expected||this._options.cors.expected&&(qq.ie10()||!qq.ie()))},_onSubmitDelete:function(e){if(!this._isDeletePossible())return this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1;!1!==this._options.callbacks.onSubmitDelete(e)&&this._deleteHandler.sendDelete(e,this.getUuid(e))},_onDelete:function(e){},_onDeleteComplete:function(e,t,n){var o=this._handler.getName(e);n?(this.log("Delete request for '"+o+"' has failed.","error"),this._options.callbacks.onError(e,o,"Delete request failed with response code "+t.status,t)):(this._netFilesUploadedOrQueued--,this.log("Delete request for '"+o+"' has succeeded."))},_removeFromFilesInProgress:function(e){var t=qq.indexOf(this._filesInProgress,e);t>=0&&this._filesInProgress.splice(t,1)},_onUpload:function(e,t){},_onInputChange:function(e){qq.isXhrUploadSupported()?this.addFiles(e.files):this.addFiles(e),this._button.reset()},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onAutoRetry:function(e,t,n){this.log("Retrying "+t+"..."),this._autoRetries[e]++,this._handler.retry(e)},_shouldAutoRetry:function(e,t,n){return!(this._preventRetries[e]||!this._options.retry.enableAuto)&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)},_onBeforeManualRetry:function(e){var t=this._options.validation.itemLimit;if(this._preventRetries[e])return this.log("Retries are forbidden for id "+e,"warn"),!1;if(this._handler.isValid(e)){var n=this._handler.getName(e);return!1!==this._options.callbacks.onManualRetry(e,n)&&(t>0&&this._netFilesUploadedOrQueued+1>t?(this._itemError("retryFailTooManyItems",""),!1):(this.log("Retrying upload for '"+n+"' (id: "+e+")..."),this._filesInProgress.push(e),!0))}return this.log("'"+e+"' is not a valid file ID","error"),!1},_maybeParseAndSendUploadError:function(e,t,n,o){if(!n.success)if(o&&200!==o.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+o.status,o);else{var i=n.error?n.error:"Upload failure reason unknown";this._options.callbacks.onError(e,t,i,o)}},_uploadFileOrBlobDataList:function(e){var t,n=this._getValidationDescriptors(e);if(this._isBatchValid(n))if(e.length>0){for(t=0;t<e.length;t++)if(this._validateFileOrBlobData(e[t]))this._upload(e[t]);else if(this._options.validation.stopOnFirstInvalidFile)return}else this._itemError("noFilesError","")},_upload:function(e){var t=this._handler.add(e),n=this._handler.getName(t);!1!==this._options.callbacks.onSubmit(t,n)&&(this._onSubmit(t,n),this._options.callbacks.onSubmitted(t,n),this._options.autoUpload?this._handler.upload(t):this._storeForLater(t))},_storeForLater:function(e){this._storedIds.push(e)},_isBatchValid:function(e){var t,n=this._options.validation.itemLimit,o=this._netFilesUploadedOrQueued+e.length,i=!1!==this._options.callbacks.onValidateBatch(e);return i&&(0===n||o<=n?i=!0:(i=!1,t=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,o).replace(/\{itemLimit\}/g,n),this._batchError(t))),i},_validateFileOrBlobData:function(e){var t,n,o;return n=(t=this._getValidationDescriptor(e)).name,o=t.size,!1!==this._options.callbacks.onValidate(t)&&(qq.isFileOrInput(e)&&!this._isAllowedExtension(n)?(this._itemError("typeError",n),!1):0===o?(this._itemError("emptyError",n),!1):o&&this._options.validation.sizeLimit&&o>this._options.validation.sizeLimit?(this._itemError("sizeError",n),!1):!(o&&o<this._options.validation.minSizeLimit)||(this._itemError("minSizeError",n),!1))},_itemError:function(e,t){var n,o=this._options.messages[e],i=[];function s(e,t){o=o.replace(e,t)}return qq.each(this._options.validation.allowedExtensions,(function(e,t){qq.isString(t)&&i.push(t)})),n=i.join(", ").toLowerCase(),s("{file}",this._options.formatFileName(t)),s("{extensions}",n),s("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit)),s("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit)),this._options.callbacks.onError(null,t,o),o},_batchError:function(e){this._options.callbacks.onError(null,null,e)},_isAllowedExtension:function(e){var t=this._options.validation.allowedExtensions,n=!1;return!t.length||(qq.each(t,(function(t,o){if(qq.isString(o)){var i=new RegExp("\\."+o+"$","i");if(null!=e.match(i))return n=!0,!1}})),n)},_formatSize:function(e){var t=-1;do{e/=1024,t++}while(e>99);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_wrapCallbacks:function(){var e,t;for(var n in e=this,t=function(t,n,o){try{return n.apply(e,o)}catch(n){e.log("Caught exception in '"+t+"' callback - "+n.message,"error")}},this._options.callbacks)!function(){var o,i;o=n,i=e._options.callbacks[o],e._options.callbacks[o]=function(){return t(o,i,arguments)}}()},_parseFileOrBlobDataName:function(e){return qq.isFileOrInput(e)?e.value?e.value.replace(/.*(\/|\\)/,""):null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name:e.name},_parseFileOrBlobDataSize:function(e){var t;return qq.isFileOrInput(e)?e.value||(t=null!==e.fileSize&&void 0!==e.fileSize?e.fileSize:e.size):t=e.blob.size,t},_getValidationDescriptor:function(e){var t,n,o;return o={},t=this._parseFileOrBlobDataName(e),n=this._parseFileOrBlobDataSize(e),o.name=t,n&&(o.size=n),o},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,(function(e,o){n.push(t._getValidationDescriptor(o))})),n},_createParamsStore:function(e){var t={},n=this;return{setParams:function(e,n){var o={};qq.extend(o,e),t[n]=o},getParams:function(o){var i={};return null!=o&&t[o]?qq.extend(i,t[o]):qq.extend(i,n._options[e].params),i},remove:function(e){return delete t[e]},reset:function(){t={}}}},_createEndpointStore:function(e){var t={},n=this;return{setEndpoint:function(e,n){t[n]=e},getEndpoint:function(o){return null!=o&&t[o]?t[o]:n._options[e].endpoint},remove:function(e){return delete t[e]},reset:function(){t={}}}}},qq.DragAndDrop=function(e){"use strict";var t,n,o,i=[],s=0,r=0,a=new qq.DisposeSupport;function l(){s!==r||o||(t.callbacks.log("Grabbed "+i.length+" files after tree traversal."),n.dropDisabled(!1),t.callbacks.dropProcessing(!1,i))}function u(e){var t;s+=1,e.isFile?e.file((function(e){!function(e){i.push(e),r+=1,l()}(e)})):e.isDirectory&&(o=!0,e.createReader().readEntries((function(e){for(r+=1,t=0;t<e.length;t+=1)u(e[t]);o=!1,e.length||l()})))}function d(e){n=new qq.UploadDropZone({element:e,onEnter:function(n){qq(e).addClass(t.classes.dropActive),n.stopPropagation()},onLeaveNotDescendants:function(n){qq(e).removeClass(t.classes.dropActive)},onDrop:function(o){t.hideDropzones&&qq(e).hide(),qq(e).removeClass(t.classes.dropActive),function(e){var o,a,d;if(t.callbacks.dropProcessing(!0),n.dropDisabled(!0),e.files.length>1&&!t.multiple)t.callbacks.dropProcessing(!1),t.callbacks.error("tooManyFilesError",""),n.dropDisabled(!1);else if(i=[],s=0,r=0,qq.isFolderDropSupported(e))for(a=e.items,o=0;o<a.length;o+=1)(d=a[o].webkitGetAsEntry())&&(d.isFile?(i.push(a[o].getAsFile()),o===a.length-1&&l()):u(d));else t.callbacks.dropProcessing(!1,e.files),n.dropDisabled(!1)}(o.dataTransfer)}}),a.addDisposer((function(){n.dispose()})),t.hideDropzones&&qq(e).hide()}function c(){t.dropArea&&t.extraDropzones.push(t.dropArea);var e,o=t.extraDropzones;for(e=0;e<o.length;e+=1)d(o[e]);!t.dropArea||qq.ie()&&!qq.ie10()||a.attach(document,"dragenter",(function(i){if(!n.dropDisabled()&&(s=i,qq.each(s.dataTransfer.types,(function(e,t){if("Files"===t)return r=!0,!1})),r)){if(qq(t.dropArea).hasClass(t.classes.dropDisabled))return;for(t.dropArea.style.display="block",e=0;e<o.length;e+=1)o[e].style.display="block"}var s,r})),a.attach(document,"dragleave",(function(n){if(t.hideDropzones&&qq.FineUploader.prototype._leaving_document_out(n))for(e=0;e<o.length;e+=1)qq(o[e]).hide()})),a.attach(document,"drop",(function(n){if(t.hideDropzones)for(e=0;e<o.length;e+=1)qq(o[e]).hide();n.preventDefault()}))}return t={dropArea:null,extraDropzones:[],hideDropzones:!0,multiple:!0,classes:{dropActive:null},callbacks:{dropProcessing:function(e,t){},error:function(e,t){},log:function(e,t){}}},qq.extend(t,e),{setup:function(){c()},setupExtraDropzone:function(e){t.extraDropzones.push(e),d(e)},removeExtraDropzone:function(e){var n,o=t.extraDropzones;for(n in o)if(o[n]===e)return o.splice(n,1)},dispose:function(){a.dispose(),n.dispose()}}},qq.UploadDropZone=function(e){"use strict";var t,n,o,i,s=new qq.DisposeSupport;function r(){return qq.safari()||qq.firefox()&&qq.windows()}function a(e){if(qq.ie()&&!qq.ie10())return!1;var t,n=e.dataTransfer,o=qq.safari();return t=!!qq.ie10()||"none"!==n.effectAllowed,n&&t&&(n.files||!o&&n.types.contains&&n.types.contains("Files"))}function l(e){return void 0!==e&&(o=e),o}return t={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(t,e),n=t.element,i||(r?s.attach(document,"dragover",(function(e){e.preventDefault()})):s.attach(document,"dragover",(function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())})),i=!0),s.attach(n,"dragover",(function(e){if(a(e)){var t=qq.ie()?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()}})),s.attach(n,"dragenter",(function(e){if(!l()){if(!a(e))return;t.onEnter(e)}})),s.attach(n,"dragleave",(function(e){if(a(e)){t.onLeave(e);var n=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(n)||t.onLeaveNotDescendants(e)}})),s.attach(n,"drop",(function(e){if(!l()){if(!a(e))return;e.preventDefault(),t.onDrop(e)}})),{dropDisabled:function(e){return l(e)},dispose:function(){s.dispose()}}},qq.FineUploader=function(e){qq.FineUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",dropDisabled:"qq-upload-drop-area-disabled",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file"},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},showMessage:function(e){setTimeout((function(){window.alert(e)}),0)},showConfirm:function(e,t,n){setTimeout((function(){window.confirm(e)?t():n&&n()}),0)},showPrompt:function(e,t){var n=new qq.Promise,o=window.prompt(e,t);return null!=o&&qq.trimStr(o).length>0?n.success(o):n.failure("Undefined or invalid user-supplied value."),n}},!0),qq.extend(this._options,e,!0),this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt()},qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype),qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments),this._listElement.innerHTML=""},addExtraDropzone:function(e){this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){return this._dnd.removeExtraDropzone(e)},getItemByFileId:function(e){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==e)return t;t=t.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments),this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd.dispose(),this._dnd=this._setupDragAndDrop()},_removeFileItem:function(e){var t=this.getItemByFileId(e);qq(t).remove()},_setupDragAndDrop:function(){var e,t,n,o=this,i=this._find(this._element,"dropProcessing");return t=function(e){e.preventDefault()},this._options.dragAndDrop.disableDefaultDropzone||(n=this._find(this._options.element,"drop")),(e=new qq.DragAndDrop({dropArea:n,extraDropzones:this._options.dragAndDrop.extraDropzones,hideDropzones:this._options.dragAndDrop.hideDropzones,multiple:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{dropProcessing:function(e,n){var s=o._button.getInput();e?(qq(i).css({display:"block"}),qq(s).attach("click",t)):(qq(i).hide(),qq(s).detach("click",t)),n&&o.addFiles(n)},error:function(e,t){o._itemError(e,t)},log:function(e,t){o.log(e,t)}}})).setup(),e},_leaving_document_out:function(e){return(qq.chrome()||qq.safari()&&qq.windows())&&0==e.clientX&&0==e.clientY||qq.firefox()&&!e.relatedTarget},_storeForLater:function(e){qq.FineUploaderBasic.prototype._storeForLater.apply(this,arguments);var t=this.getItemByFileId(e);qq(this._find(t,"spinner")).hide()},_find:function(e,t){var n=qq(e).getByClass(this._options.classes[t])[0];if(!n)throw new Error("element not found "+t);return n},_onSubmit:function(e,t){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onProgress:function(e,t,n,o){var i,s,r,a;qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments),i=this.getItemByFileId(e),s=this._find(i,"progressBar"),r=Math.round(n/o*100),n===o?(a=this._find(i,"cancel"),qq(a).hide(),qq(s).hide(),qq(this._find(i,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(e)):(this._displayFileSize(e,n,o),qq(s).css({display:"block"})),qq(s).css({width:r+"%"})},_onComplete:function(e,t,n,o){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var i=this.getItemByFileId(e);qq(this._find(i,"statusText")).clearText(),qq(i).removeClass(this._classes.retrying),qq(this._find(i,"progressBar")).hide(),this._options.disableCancelForFormUploads&&!qq.isXhrUploadSupported()||qq(this._find(i,"cancel")).hide(),qq(this._find(i,"spinner")).hide(),n.success?(this._isDeletePossible()&&this._showDeleteLink(e),qq(i).addClass(this._classes.success),this._classes.successIcon&&(this._find(i,"finished").style.display="inline-block",qq(i).addClass(this._classes.successIcon))):(qq(i).addClass(this._classes.fail),this._classes.failIcon&&(this._find(i,"finished").style.display="inline-block",qq(i).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[e]&&qq(i).addClass(this._classes.retryable),this._controlFailureTextDisplay(i,n))},_onUpload:function(e,t){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments),this._showSpinner(e)},_onCancel:function(e,t){qq.FineUploaderBasic.prototype._onCancel.apply(this,arguments),this._removeFileItem(e)},_onBeforeAutoRetry:function(e){var t,n,o,i,s,r;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments),t=this.getItemByFileId(e),n=this._find(t,"progressBar"),this._showCancelLink(t),n.style.width=0,qq(n).hide(),this._options.retry.showAutoRetryNote&&(o=this._find(t,"statusText"),i=this._autoRetries[e]+1,s=this._options.retry.maxAutoAttempts,r=(r=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,i)).replace(/\{maxAuto\}/g,s),qq(o).setText(r),1===i&&qq(t).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){var t=this.getItemByFileId(e);return qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)?(this._find(t,"progressBar").style.width=0,qq(t).removeClass(this._classes.fail),qq(this._find(t,"statusText")).clearText(),this._showSpinner(e),this._showCancelLink(t),!0):(qq(t).addClass(this._classes.retryable),!1)},_onSubmitDelete:function(e){if(!this._isDeletePossible())return this.log("Delete request ignored for file ID "+e+", delete feature is disabled.","warn"),!1;!1!==this._options.callbacks.onSubmitDelete(e)&&(this._options.deleteFile.forceConfirm?this._showDeleteConfirm(e):this._sendDeleteRequest(e))},_onDeleteComplete:function(e,t,n){qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this,arguments);var o=this.getItemByFileId(e),i=this._find(o,"spinner"),s=this._find(o,"statusText");qq(i).hide(),n?(qq(s).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e){var t=this.getItemByFileId(e),n=this._find(t,"deleteButton"),o=this._find(t,"statusText");qq(n).hide(),this._showSpinner(e),qq(o).setText(this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete(e,this.getUuid(e))},_showDeleteConfirm:function(e){var t=this._handler.getName(e),n=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,t),o=(this.getUuid(e),this);this._options.showConfirm(n,(function(){o._sendDeleteRequest(e)}))},_addToList:function(e,t){var n=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.isXhrUploadSupported()){var o=this._find(n,"cancel");qq(o).remove()}n.qqFileId=e;var i=this._find(n,"file");qq(i).setText(this._options.formatFileName(t)),qq(this._find(n,"size")).hide(),this._options.multiple||(this._handler.cancelAll(),this._clearList()),this._listElement.appendChild(n),this._options.display.fileSizeOnSubmit&&qq.isXhrUploadSupported()&&this._displayFileSize(e)},_clearList:function(){this._listElement.innerHTML="",this.clearStoredFiles()},_displayFileSize:function(e,t,n){var o=this.getItemByFileId(e),i=this.getSize(e),s=this._formatSize(i),r=this._find(o,"size");void 0!==t&&void 0!==n&&(s=this._formatProgress(t,n)),qq(r).css({display:"inline"}),qq(r).setText(s)},_bindCancelAndRetryEvents:function(){var e=this,t=this._listElement;this._disposeSupport.attach(t,"click",(function(t){var n=(t=t||window.event).target||t.srcElement;if(qq(n).hasClass(e._classes.cancel)||qq(n).hasClass(e._classes.retry)||qq(n).hasClass(e._classes.deleteButton)){qq.preventDefault(t);for(var o=n.parentNode;void 0===o.qqFileId;)o=n=n.parentNode;qq(n).hasClass(e._classes.deleteButton)?e.deleteFile(o.qqFileId):qq(n).hasClass(e._classes.cancel)?e.cancel(o.qqFileId):(qq(o).removeClass(e._classes.retryable),e.retry(o.qqFileId))}}))},_formatProgress:function(e,t){var n=this._options.text.formatProgress;function o(e,t){n=n.replace(e,t)}return o("{percent}",Math.round(e/t*100)),o("{total_size}",this._formatSize(t)),n},_controlFailureTextDisplay:function(e,t){var n,o,i,s,r;n=this._options.failedUploadTextDisplay.mode,o=this._options.failedUploadTextDisplay.maxChars,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?((s=t[i])?s.length>o&&(r=s.substring(0,o)+"..."):(s=this._options.text.failUpload,this.log("'"+i+"' is not a valid property on the server response.","warn")),qq(this._find(e,"statusText")).setText(r||s),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,s)):"default"===n?qq(this._find(e,"statusText")).setText(this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){e.title=t},_showSpinner:function(e){var t=this.getItemByFileId(e);this._find(t,"spinner").style.display="inline-block"},_showCancelLink:function(e){if(!this._options.disableCancelForFormUploads||qq.isXhrUploadSupported()){var t=this._find(e,"cancel");qq(t).css({display:"inline"})}},_showDeleteLink:function(e){var t=this.getItemByFileId(e),n=this._find(t,"deleteButton");qq(n).css({display:"inline"})},_itemError:function(e,t){var n=qq.FineUploaderBasic.prototype._itemError.apply(this,arguments);this._options.showMessage(n)},_batchError:function(e){qq.FineUploaderBasic.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}}}),qq.AjaxRequestor=function(e){"use strict";var t,n,o=[],i=[],s={method:"POST",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},successfulResponseCodes:[200],demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onCancel:function(e){}};function r(e){var t=qq.indexOf(o,e),n=s.maxConnections;delete i[e],o.splice(t,1),o.length>=n&&t<n&&l(o[n-1])}function a(e){var n,o=i[e].xhr,a=u(),l=!1;r(e),n=o.status,qq.indexOf(s.successfulResponseCodes,n)>=0||(l=!0,t(a+" request for "+e+" has failed - response code "+o.status,"error")),s.onComplete(e,o,l)}function l(e){var o,r=new XMLHttpRequest,l=u(),d={};s.onSend(e),s.paramsStore.getParams&&(d=s.paramsStore.getParams(e)),o=function(e,t){var o=s.endpointStore.getEndpoint(e),r=i[e].addToPath;void 0!==r&&(o+="/"+r);return n&&t?qq.obj2url(t,o):o}(e,d),i[e].xhr=r,r.onreadystatechange=function(e){var t=i[e].xhr;return function(){4===t.readyState&&a(e)}}(e),r.open(l,o,!0),s.cors.expected&&s.cors.sendCredentials&&(r.withCredentials=!0),function(e){var t=i[e].xhr,n=s.customHeaders;t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"),qq.each(n,(function(e,n){t.setRequestHeader(e,n)}))}(e),t("Sending "+l+" request for "+e),!n&&d?r.send(qq.obj2url(d,"")):r.send()}function u(){return s.demoMode?"GET":s.method}return qq.extend(s,e),t=s.log,n="GET"===u()||"DELETE"===u(),{send:function(e,t){i[e]={addToPath:t},o.push(e)<=s.maxConnections&&l(e)},cancel:function(e){return function(e){var n=i[e].xhr,o=u();return!!n&&(n.onreadystatechange=null,n.abort(),r(e),t("Cancelled "+o+" for "+e),s.onCancel(e),!0)}(e)}}},qq.DeleteFileAjaxRequestor=function(e){"use strict";var t,n={endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};return qq.extend(n,e),t=new qq.AjaxRequestor({method:"DELETE",endpointStore:n.endpointStore,paramsStore:n.paramsStore,maxConnections:n.maxConnections,customHeaders:n.customHeaders,successfulResponseCodes:[200,202,204],demoMode:n.demoMode,log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete}),{sendDelete:function(e,o){t.send(e,o),n.log("Submitted delete file request for "+e)}}},qq.WindowReceiveMessage=function(e){var t={};return qq.extend({log:function(e,t){}},e),{receiveMessage:function(e,n){window.postMessage?t[e]=qq(window).attach("message",(function(e){n(e.data)})):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var n=t[e];n&&n()}}}},qq.UploadHandler=function(e){"use strict";var t,n,o,i,s=[];return t={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParamName:"qquuid",totalFileSizeParamName:"qqtotalfilesize",chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},blobs:{paramNames:{name:"qqblobname"}},log:function(e,t){},onProgress:function(e,t,n,o){},onComplete:function(e,t,n,o){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onAutoRetry:function(e,t,n,o){},onResume:function(e,t,n){}},qq.extend(t,e),n=t.log,o=function(e){var n,o=qq.indexOf(s,e),r=t.maxConnections;o>=0&&(s.splice(o,1),s.length>=r&&o<r&&(n=s[r-1],i.upload(n)))},i=qq.isXhrUploadSupported()?new qq.UploadHandlerXhr(t,o,n):new qq.UploadHandlerForm(t,o,n),{add:function(e){return i.add(e)},upload:function(e){if(s.push(e)<=t.maxConnections)return i.upload(e)},retry:function(e){return qq.indexOf(s,e)>=0?i.upload(e,!0):this.upload(e)},cancel:function(e){n("Cancelling "+e),t.paramsStore.remove(e),i.cancel(e),o(e)},cancelAll:function(){var e=this,t=[];qq.extend(t,s),qq.each(t,(function(t,n){e.cancel(n)})),s=[]},getName:function(e){return i.getName(e)},getSize:function(e){if(i.getSize)return i.getSize(e)},getFile:function(e){if(i.getFile)return i.getFile(e)},getQueue:function(){return s},reset:function(){n("Resetting upload handler"),s=[],i.reset()},getUuid:function(e){return i.getUuid(e)},isValid:function(e){return i.isValid(e)},getResumableFilesData:function(){return i.getResumableFilesData?i.getResumableFilesData():[]}}},qq.UploadHandlerForm=function(e,t,n){"use strict";var o,i=e,s=[],r=[],a={},l={},u=t,d=n,c=new qq.WindowReceiveMessage({log:d}),p={};function f(e){void 0!==a[e]&&(a[e](),delete a[e])}function h(e,t){i.cors.expected?function(e,t){var n=e.id;p[r[n]]=t,a[n]=qq(e).attach("load",(function(){s[n]&&(d("Received iframe load event for CORS upload request (file id "+n+")"),l[n]=setTimeout((function(){var e="No valid message received from loaded iframe for file id "+n;d(e,"error"),t({error:e})}),1e3))})),c.receiveMessage(n,(function(e){d("Received the following window message: '"+e+"'");var t,o=qq.parseJson(e),i=o.uuid;i&&p[i]?(clearTimeout(l[n]),delete l[n],f(n),t=p[i],delete p[i],c.stopReceivingMessages(n),t(o)):i||d("'"+e+"' does not contain a UUID - ignoring.")}))}(e,t):a[e.id]=qq(e).attach("load",(function(){if(d("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){d("Error when attempting to access iframe during handling of upload response ("+e+")","error")}t()}}))}return o={add:function(e){e.setAttribute("name",i.inputName);var t=s.push(e)-1;return r[t]=qq.getUniqueId(),e.parentNode&&qq(e).remove(),t},getName:function(e){if(o.isValid(e))return s[e].value.replace(/.*(\/|\\)/,"");d(e+" is not a valid item ID.","error")},isValid:function(e){return void 0!==s[e]},reset:function(){s=[],r=[],a={}},getUuid:function(e){return r[e]},cancel:function(e){i.onCancel(e,this.getName(e)),delete s[e],delete r[e],delete a[e],i.cors.expected&&(clearTimeout(l[e]),delete l[e],c.stopReceivingMessages(e));var t=document.getElementById(e);t&&(t.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(t).remove())},upload:function(e){var t,n=s[e],a=o.getName(e),l=function(e){var t=qq.toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}(e);if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");return i.onUpload(e,this.getName(e)),(t=function(e,t){var n=i.paramsStore.getParams(e),o=i.demoMode?"GET":"POST",s=qq.toElement('<form method="'+o+'" enctype="multipart/form-data"></form>'),a=i.endpointStore.getEndpoint(e),l=a;return n[i.uuidParamName]=r[e],i.paramsInBody?qq.obj2Inputs(n,s):l=qq.obj2url(n,a),s.setAttribute("action",l),s.setAttribute("target",t.name),s.style.display="none",document.body.appendChild(s),s}(e,l)).appendChild(n),h(l,(function(t){d("iframe loaded");var n=t||function(e){var t;try{var n=e.contentDocument||e.contentWindow.document,o=n.body.innerHTML;d("converting iframe's innerHTML to JSON"),d("innerHTML = "+o),o&&o.match(/^<pre/i)&&(o=n.body.firstChild.firstChild.nodeValue),t=qq.parseJson(o)}catch(e){d("Error when attempting to parse form upload response ("+e+")","error"),t={success:!1}}return t}(l);f(e),i.cors.expected||qq(l).remove(),!n.success&&i.onAutoRetry(e,a,n)||(i.onComplete(e,a,n),u(e))})),d("Sending upload request for "+e),t.submit(),qq(t).remove(),e}}},qq.UploadHandlerXhr=function(e,t,n){"use strict";var o,i=e,s=t,r=n,a=[],l="|",u=i.chunking.enabled&&qq.isFileChunkingSupported(),d=i.resume.enabled&&u&&qq.areCookiesEnabled(),c=function(){if(null!==i.resume.id&&void 0!==i.resume.id&&!qq.isFunction(i.resume.id)&&!qq.isObject(i.resume.id))return i.resume.id}(),p=i.forceMultipart||i.paramsInBody;function f(e,t,n){return e.slice?e.slice(t,n):e.mozSlice?e.mozSlice(t,n):e.webkitSlice?e.webkitSlice(t,n):void 0}function h(e,t){var n=i.chunking.partSize,s=o.getSize(e),r=a[e].file||a[e].blobData.blob,l=n*t,u=l+n>=s?s:l+n;return{part:t,start:l,end:u,count:q(e),blob:f(r,l,u),size:u-l}}function q(e){var t=o.getSize(e),n=i.chunking.partSize;return Math.ceil(t/n)}function m(e){var t=new XMLHttpRequest;return a[e].xhr=t,t}function g(e,t,n,s){var r=new FormData,l=i.demoMode?"GET":"POST",u=i.endpointStore.getEndpoint(s),d=u,c=o.getName(s),f=o.getSize(s),h=a[s].blobData;return e[i.uuidParamName]=a[s].uuid,p&&(e[i.totalFileSizeParamName]=f,h&&(e[i.blobs.paramNames.name]=h.name)),i.paramsInBody||(p||(e[i.inputName]=c),d=qq.obj2url(e,u)),t.open(l,d,!0),i.cors.expected&&i.cors.sendCredentials&&(t.withCredentials=!0),p?(i.paramsInBody&&qq.obj2FormData(e,r),r.append(i.inputName,n),r):n}function _(e,t){var n=i.customHeaders,o=a[e].file||a[e].blobData.blob;t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"),p||(t.setRequestHeader("Content-Type","application/octet-stream"),t.setRequestHeader("X-Mime-Type",o.type)),qq.each(n,(function(e,n){t.setRequestHeader(e,n)}))}function v(e,t,n){var r=o.getName(e),l=o.getSize(e);a[e].attemptingResume=!1,i.onProgress(e,r,l,l),i.onComplete(e,r,t,n),delete a[e].xhr,s(e)}function b(e){var t,n,s=a[e].remainingChunkIdxs[0],u=h(e,s),c=m(e),f=o.getSize(e),q=o.getName(e);void 0===a[e].loaded&&(a[e].loaded=0),d&&a[e].file&&function(e,t){var n=o.getUuid(e),s=a[e].loaded,r=a[e].initialRequestOverhead,u=a[e].estTotalRequestsSize,d=w(e),c=n+l+t.part+l+s+l+r+l+u,p=i.resume.cookiesExpireIn;qq.setCookie(d,c,p)}(e,u),c.onreadystatechange=C(e,c),c.upload.onprogress=function(t){if(t.lengthComputable){var n=t.loaded+a[e].loaded,r=function(e,t,n){var i=h(e,t),s=i.size,r=n-s,l=o.getSize(e),u=i.count,d=a[e].initialRequestOverhead,c=r-d;a[e].lastRequestOverhead=r,0===t?(a[e].lastChunkIdxProgress=0,a[e].initialRequestOverhead=r,a[e].estTotalRequestsSize=l+u*r):a[e].lastChunkIdxProgress!==t&&(a[e].lastChunkIdxProgress=t,a[e].estTotalRequestsSize+=c);return a[e].estTotalRequestsSize}(e,s,t.total);i.onProgress(e,q,n,r)}},i.onUploadChunk(e,q,F(u)),n=i.paramsStore.getParams(e),function(e,t,n){var s=o.getSize(e),r=o.getName(e);t[i.chunking.paramNames.partIndex]=n.part,t[i.chunking.paramNames.partByteOffset]=n.start,t[i.chunking.paramNames.chunkSize]=n.size,t[i.chunking.paramNames.totalParts]=n.count,t[i.totalFileSizeParamName]=s,p&&(t[i.chunking.paramNames.filename]=r)}(e,n,u),a[e].attemptingResume&&function(e){e[i.resume.paramNames.resuming]=!0}(n),t=g(n,c,u.blob,e),_(e,c),r("Sending chunked upload request for item "+e+": bytes "+(u.start+1)+"-"+u.end+" of "+f),c.send(t)}function y(e,t,n){var o=h(e,a[e].remainingChunkIdxs.shift());a[e].attemptingResume=!1,a[e].loaded+=o.size+function(e){return p?a[e].lastRequestOverhead:0}(e),a[e].remainingChunkIdxs.length>0?b(e):(d&&D(e),v(e,t,n))}function x(e){r("Server has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),d&&(D(e),a[e].attemptingResume=!1),a[e].remainingChunkIdxs=[],delete a[e].loaded,delete a[e].estTotalRequestsSize,delete a[e].initialRequestOverhead}function S(e,t){var n;a[e]&&(r("xhr - server response received for "+e),r("responseText = "+t.responseText),function(e,t){return 200!==e.status||!t.success||t.reset}(t,n=function(e){var t;try{t=qq.parseJson(e.responseText)}catch(e){r("Error when attempting to parse xhr response text ("+e+")","error"),t={}}return t}(t))?(n.reset&&x(e),a[e].attemptingResume&&n.reset?function(e){a[e].attemptingResume=!1,r("Server has declared that it cannot handle resume for item ID "+e+" - starting from the first chunk","error"),x(e),o.upload(e,!0)}(e):function(e,t,n){var s=o.getName(e);i.onAutoRetry(e,s,t,n)||v(e,t,n)}(e,n,t)):u?y(e,n,t):v(e,n,t))}function F(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}}function C(e,t){return function(){4===t.readyState&&S(e,t)}}function D(e){if(a[e].file){var t=w(e);qq.deleteCookie(t)}}function w(e){var t,n=o.getName(e),s=o.getSize(e),r=i.chunking.partSize;return t="qqfilechunk|"+encodeURIComponent(n)+l+s+l+r,void 0!==c&&(t+=l+c),t}function R(e,t){var n,s,u,c=o.getName(e),p=0;if(!a[e].remainingChunkIdxs||0===a[e].remainingChunkIdxs.length)for(a[e].remainingChunkIdxs=[],d&&!t&&a[e].file&&(n=function(e){var t,n=qq.getCookie(w(e)),i=o.getName(e);if(n){if(5===(t=n.split(l)).length)return{uuid:t[0],part:parseInt(t[1],10),lastByteSent:parseInt(t[2],10),initialRequestOverhead:parseInt(t[3],10),estTotalRequestsSize:parseInt(t[4],10)};r("Ignoring previously stored resume/chunk cookie for "+i+" - old cookie format","warn")}}(e))&&(s=h(e,n.part),!1!==i.onResume(e,c,F(s))&&(p=n.part,a[e].uuid=n.uuid,a[e].loaded=n.lastByteSent,a[e].estTotalRequestsSize=n.estTotalRequestsSize,a[e].initialRequestOverhead=n.initialRequestOverhead,a[e].attemptingResume=!0,r("Resuming "+c+" at partition index "+p))),u=q(e)-1;u>=p;u-=1)a[e].remainingChunkIdxs.unshift(u);b(e)}return o={add:function(e){var t;if(e instanceof File)t=a.push({file:e})-1;else{if(!(e.blob instanceof Blob))throw new Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");t=a.push({blobData:e})-1}return a[t].uuid=qq.getUniqueId(),t},getName:function(e){if(o.isValid(e)){var t=a[e].file,n=a[e].blobData;return t?null!==t.fileName&&void 0!==t.fileName?t.fileName:t.name:n.name}r(e+" is not a valid item ID.","error")},getSize:function(e){var t=a[e].file||a[e].blobData.blob;return qq.isFileOrInput(t)&&null!=t.fileSize?t.fileSize:t.size},getFile:function(e){if(a[e])return a[e].file||a[e].blobData.blob},getLoaded:function(e){return a[e].loaded||0},isValid:function(e){return void 0!==a[e]},reset:function(){a=[]},getUuid:function(e){return a[e].uuid},upload:function(e,t){var n=this.getName(e);i.onUpload(e,n),u?R(e,t):function(e){var t,n,s=a[e].file||a[e].blobData.blob,l=o.getName(e);a[e].loaded=0,(t=m(e)).upload.onprogress=function(t){t.lengthComputable&&(a[e].loaded=t.loaded,i.onProgress(e,l,t.loaded,t.total))},t.onreadystatechange=C(e,t),n=g(i.paramsStore.getParams(e),t,s,e),_(e,t),r("Sending upload request for "+e),t.send(n)}(e)},cancel:function(e){var t=a[e].xhr;i.onCancel(e,this.getName(e)),t&&(t.onreadystatechange=null,t.abort()),d&&D(e),delete a[e]},getResumableFilesData:function(){var e=[],t=[];return u&&d?(e=void 0===c?qq.getCookieNames(new RegExp("^qqfilechunk\\|.+\\|\\d+\\|"+i.chunking.partSize+"=")):qq.getCookieNames(new RegExp("^qqfilechunk\\|.+\\|\\d+\\|"+i.chunking.partSize+"\\"+l+c+"=")),qq.each(e,(function(e,n){var o=n.split(l),i=qq.getCookie(n).split(l);t.push({name:decodeURIComponent(o[1]),size:o[2],uuid:i[0],partIdx:i[1]})})),t):[]}}},function(e){"use strict";var t,n,o,i,s,r,a,l,u,d;r=["uploaderType"],o=function(e){if(e){var o=l(e);a(o),"basic"===s("uploaderType")?t(new qq.FineUploaderBasic(o)):t(new qq.FineUploader(o))}return n},i=function(e,t){var o=n.data("fineuploader");if(!t)return void 0===o?null:o[e];void 0===o&&(o={}),o[e]=t,n.data("fineuploader",o)},t=function(e){return i("uploader",e)},s=function(e,t){return i(e,t)},a=function(t){var o=t.callbacks={},i=new qq.FineUploaderBasic;e.each(i._options.callbacks,(function(t,s){var r,a;r=(r=/^on(\w+)/.exec(t)[1]).substring(0,1).toLowerCase()+r.substring(1),a=n,o[t]=function(){var n=s,o=Array.prototype.slice.call(arguments),l=a.triggerHandler(r,o);return void 0===l&&e.inArray(t,i.getPromissoryCallbackNames())>=0?n():l}}))},l=function(t,o){var i,a;if(i=void 0===o?"basic"!==t.uploaderType?{element:n[0]}:{}:o,e.each(t,(function(t,n){e.inArray(t,r)>=0?s(t,n):n instanceof e?i[t]=n[0]:e.isPlainObject(n)?(i[t]={},l(n,i[t])):e.isArray(n)?(a=[],e.each(n,(function(t,n){n instanceof e?e.merge(a,n):a.push(n)})),i[t]=a):i[t]=n})),void 0===o)return i},u=function(n){return"string"===e.type(n)&&!n.match(/^_/)&&void 0!==t()[n]},d=function(e){var n=[],o=Array.prototype.slice.call(arguments,1);return l(o,n),t()[e].apply(t(),n)},e.fn.fineUploader=function(i){var s=this,r=arguments,a=[];return this.each((function(l,c){if(n=e(c),t()&&u(i)){if(a.push(d.apply(s,r)),1===s.length)return!1}else"object"!=typeof i&&i?e.error("Method "+i+" does not exist on jQuery.fineUploader"):o.apply(s,r)})),1===a.length?a[0]:a.length>1?a:this}}(jQuery);
/**
* @author			Julian Bogdani <jbogdani@gmail.com>
* @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
* @license			See file LICENSE distributed with this code
* @since			15/apr/2012
*/
var core={runMod:function(t,o,n){var e;(o?"string"==typeof o&&(o=[o]):o=[],"object"!=typeof window[t]||debugMode)?(e=debugMode?"./modules/"+t+"/"+t+".js":"./modules/"+t+"/"+t+".min.js",$.ajax({url:e,dataType:"script",suppressErrors:!0,success:function(e){window[t].init.apply(null,o),n&&n()},error:function(o,n,e){core.open({obj:t,method:"read",title:core.tr(t)})}})):window[t].init.apply(null,o)},loading:'<img src="./assets/bdus/img/loader.gif"  alt="loading..." />',_get2url:function(t){return"string"==typeof t?t:$.isPlainObject(t)?$.param(t):!!$.isArray(t)&&"param[]="+t.join("&param[]=")},getHTML:function(t,o,n,e,r){var a="./?obj="+t+"&method="+o+(n?"&"+this._get2url(n):"");e?$.post(a,e,r):$.get(a,r)},getJSON:function(t,o,n,e,r){var a="./?obj="+t+"&method="+o+(n?"&"+this._get2url(n):"");e?$.post(a,e,r,"json"):$.get(a,r,"json")},runAndRespond(t,o,n,e,r){"function"==typeof n&&(r=n,n=!1,e=!1),"function"==typeof e&&(r=e,e=!1),core.getJSON(t,o,n,e,(t=>{core.message(t.text,t.status),r&&r(t)}))},open:function(t,o){"modal"===o?layout.dialog.add(t):layout.tabs.add(t)},tr:function(t,o){return lang[t]?o?vsprintf(lang[t],o):lang[t]:t},message:function(t,o,n){o||(o="info"),"info"===o||"success"===o||"warning"===o||"error"===o?iziToast[o]({message:t,maxWidth:"400px"}):alert(t)}};
/**
 * @author      Julian Bogdani <jbogdani@gmail.com>
 * @copyright    BraDypUS, Julian Bogdani <jbogdani@gmail.com>
 * @license      See file LICENSE distributed with this code
 * Main Javascript API
 * @type object
 */
var api={requireRestart:function(t){const e=`${t?`<h3>${t}</h3>`:""}\n      <p class="lead text-warning">\n        <i class="fa fa-exclamation-triangle"></i>\n        <strong>${core.tr("attention")}</strong>\n        <br />\n        ${core.tr("reload_sys_required")}\n      </p>`;core.open({html:e,title:core.tr("attention"),buttons:[{text:core.tr("restart"),click:()=>{api.reloadApp()}},{text:core.tr("cancel"),action:"close"}]},"modal")},confirmSuperAdmPwd:function(t){core.open({title:core.tr("cfg_security_check"),html:`<p class="lead text-danger">${core.tr("cfg_security_check_text")}</p>\n        <hr>\n        <form action="javascript:void(0)">\n          <input type="password" class="adm_pwd form-control" placeholder="password">\n          <button type="submit" style="display: none"></button>\n        </form>`,loaded:()=>{setTimeout((()=>{$("#modal input.adm_pwd").trigger("focus")}),500),$("#modal form").on("submit",(()=>{const e=$("#modal .adm_pwd").val();core.getJSON("confirm_super_adm_pwd_ctrl","check_pwd",!1,{pwd:e},(e=>{core.message(e.text,e.status),"success"===e.status&&($("#modal").modal("hide"),"function"==typeof t&&t())}))}))},buttons:[{text:core.tr("close"),action:"close"},{addclass:"btn-danger",text:core.tr("validate_password"),click:()=>{$("#modal form").trigger("submit")}}]},"modal")},reloadApp:function(t){t?window.location="./":window.location.reload()},logOut:function(){core.open({html:'<p class="text-warning"><i class="fa fa-exclamation-triangle"></i> '+core.tr("logout_confirm_body")+"</p>",title:core.tr("logout_confirm_title"),buttons:[{text:core.tr("cancel"),action:"close"},{text:core.tr("close_application"),addclass:"btn-primary",click:function(){$.get("./?obj=login_ctrl&method=out",(function(t){window.location="./"}))}}]},"modal")},showResults:function(t,e,o,r){core.open({obj:"record_ctrl",method:"showResults",param:!!e&&e+"&tb="+t,post:r,title:o})},record:{showMatrix:function(t,e){core.open({title:core.tr("harris_matrix"),obj:"matrix_ctrl",method:"show",param:{tb:t,obj_encoded:e}})},formatId:function(t,e){return e?"id_field[]="+t.join("&id_field[]="):"id[]="+t.join("&id[]=")},preview:function(t,e){api.record.read(t,e)},read:function(t,e,o){core.open({obj:"record_ctrl",method:"show",param:"tb="+t+"&a=read",post:this.formatId(e,o),title:core.tr("read")+" ("+t.replace(prefix,"")+" > "+(o?"":"*")+e[0]+")"})},edit:function(t,e){core.open({obj:"record_ctrl",method:"show",param:"tb="+t+"&"+this.formatId(e)+"&a=edit",title:core.tr("edit")+" ("+t.replace(prefix,"")+")"})},erase:function(t,e,o){confirm(core.tr("confirm_delete"))&&$.get("./?obj=record_ctrl&method=erase&"+this.formatId(e)+"&tb="+t,(function(t){core.message(t.text,t.status),o?o.fnDraw():layout.tabs.closeActive()}),"json")},add:function(t){core.open({obj:"record_ctrl",method:"show",param:"tb="+t+"&a=add_new",title:core.tr("edit")+" ("+t.replace(prefix,"")+")"})},toogleSelect:function(t){$("#"+t+" tbody tr:first").hasClass("row_selected")?$("#"+t+" tbody tr").removeClass("row_selected"):$("#"+t+" tbody tr").addClass("row_selected")},actOn:function(t,e,o){var r=[];if("add"!=t){for(var a=o.fnGetNodes(),n=0;n<a.length;n++)$(a[n]).hasClass("row_selected")&&r.push($(a[n]).attr("id"));if(!r[0])return void core.message(core.tr("select_row_to_continue"),"error")}switch(t){case"preview":this.preview(e,r);break;case"read":this.read(e,r);break;case"edit":this.edit(e,r);break;case"erase":this.erase(e,r,o);break;case"add":this.add(e);break;default:return!1}}},preview:function(t){var e=new Image;e.src=$(t).attr("src");var o=$(window).height(),r=e.height,a=(r>o?o:r)-20;e.height=a-30,e.title=$(t).attr("title"),$(e).addClass("img-responsive"),core.open({html:$("<a />").attr("href",e.src).attr("target","_blank").append(e),loaded:function(){$(".modal-body").css({"max-height":a})}},"modal")},query:{show:function(t){core.open({html:"<pre>"+decodeURIComponent(t.replace(/\+/g," "))+"</pre>",title:core.tr("query_text"),buttons:[{text:core.tr("close"),action:"close"}]},"modal")},Export:function(t,e){core.open({html:'<select class="form-control export_format input-lg"><option value="JSON">JSON</option><option value="XLS">XLS</option><option value="SQL">SQL (INSERT)</option><option value="CSV">CSV</option><option value="HTML">HTML</option><option value="XML">XML</option></select>',title:core.tr("export_select_format"),buttons:[{text:core.tr("continue"),click:function(o){layout.dialog.close(o),$.post("./?obj=myExport_ctrl&method=doExport&tb="+e+"&format="+$(o).find("select.export_format").val()+"&obj_encoded="+t,(function(t){core.message(t.text,t.status),core.runMod("myExport")}),"json")}},{text:core.tr("cancel"),action:"close"}]},"modal")},save:function(t,e){var o=$("<input />").attr("type","text").addClass("form-control").val("query_"+(new Date).getTime()).css("width","90%");core.open({html:o,title:core.tr("name_for_query_to_save"),buttons:[{text:core.tr("save"),click:function(r){""===o.val()?(core.message(core.tr("query_name_is_required"),"error"),o.focus()):(core.getJSON("saved_queries_ctrl","saveQuery","tb="+e+"&name="+o.val(),{query_object:t},(function(t){core.message(t.text,t.status)})),layout.dialog.close(r))}},{text:core.tr("close"),click:function(t){layout.dialog.close(t)}}]},"modal")}},file:{show_gallery:function(t,e){core.open({obj:"file_ctrl",method:"gallery",param:{tb:t,id:e},title:core.tr("file_gallery",[t.replace(prefix,"")+">"+e])})}},link:{add_ui:function(t,e,o,r){var a=$("<div />").append($("<div />").addClass("btn-group"),$("<div />").addClass("fl_content"),$("<input />").addClass("curr_tb").addClass("form-control").attr("type","hidden"));$.get("./?obj=userlinks_ctrl&method=get_all_tables",(function(e){"success"==e.status&&(r?(a.find(".fl_content").load("./?obj=record_ctrl&method=showResults&tb="+r+"&type=all&noOpts=1"+(o?"&select_one=true":"")),a.find("input.curr_tb").val(r)):$.each(e.info,(function(t,e){$("<a />").html(e).addClass("btn btn-default").click((function(){a.find(".fl_content").load("./?obj=record_ctrl&method=showResults&noDblClick=1&tb="+t+"&type=all&noOpts=1"+(o?"&select_one=true":"")),a.find("input.curr_tb").val(t)})).appendTo(a.find(".btn-group"))})),core.open({html:a,title:core.tr("new_link"),buttons:[{text:'<i class="fa fa-link"></i> '+core.tr("save_links"),click:function(){for(var e,r=$("#list_"+a.find("div.id-holder").data("id")).dataTable().fnGetNodes(),n=[],i=0;i<r.length;i++)$(r[i]).hasClass("row_selected")&&n.push($(r[i]).attr("id"));o?a.find("table.results").length<1?core.message(core.tr("select_tb_to_continue"),"error"):n?(e=a.find("input.curr_tb").val(),t(e,n,$(this))):core.message(core.tr("select_row_to_continue"),"error"):n?n[0]?(e=a.find("input.curr_tb").val(),t(e,n,$(this))):core.message(core.tr("select_row_to_continue"),"error"):core.message(core.tr("select_tb_to_continue"),"error")}},{text:core.tr("close"),action:"close"}]},"modal"))}),"json")},delete_userlink:function(t,e){core.getJSON("userlinks_ctrl","deleteUserLink",{id:t},!1,(function(t){"success"==t.status&&e&&e(t),core.message(t.text,t.status)}))},show_userlinks:function(t){var e=t.data("context"),o=t.data("tb"),r=t.data("id");t.html(""),core.getHTML("userlinks_ctrl","showUserLinks",{tb:o,id:r,context:e},(function(e){t.html(e),$(t).find("span.userlink_read").on("click",(function(){api.record.read($(this).data("tb"),[$(this).data("id")])})),$(t).find("span.userlink_delete").click((function(){var t=$(this),e=t.data("id");api.link.delete_userlink(e,(function(){t.parent("li").remove()}))})),$(t).find("span.userlink_reload").on("click",(()=>{api.link.show_userlinks(t)})),$(t).find("span.userlink_add").on("click",(e=>{var o=$(e.target).data("id"),r=$(e.target).data("table");api.link.add_ui((function(e,a){core.getJSON("userlinks_ctrl","addUserLink",{thistb:r,thisid:o,tb:e,id:a},!1,(function(e){"success"===e.status&&api.link.show_userlinks(t),core.message(e.text,e.status)}))}))}))}))}},fileUpload:function(t,e,o){if(o=o||{},!t||!e)return!1;var r={request:{endpoint:e},autoUpload:!0,text:{uploadButton:'<div><i class="fa fa-upload"></i> '+(o.button_text?o.button_text:core.tr("click_drag_to_upload"))+"</div>",dragZone:core.tr("drop_to_upload")},template:'<div class="qq-uploader">\n            <pre class="qq-upload-drop-area"><span>{dragZoneText}</span></pre>\n            <div class="qq-upload-button btn btn-success" style="width: auto;">{uploadButtonText}</div>\n              <span class="qq-drop-processing">\n                <span>{dropProcessingText}</span>\n                <span class="qq-drop-processing-spinner"></span>\n              </span>\n              <ul class="qq-upload-list" style="margin-top: 10px; text-align: center;"></ul>\n            </div>',classes:{success:"alert alert-success",fail:"alert alert-error"},validation:{allowedExtensions:o.limitExtensions?o.limitExtensions:"",limitSize:o.limitSize?o.limitSize:""}};r.multiple=!o.limit2one,t.fineUploader(r).on("complete",(function(t,e,r,a){o.complete&&o.complete(e,r,a)})).on("error",(function(t,e,r,a){o.error&&o.error(e,r,a)}))}};
/**
* @author			Julian Bogdani <jbogdani@gmail.com>
* @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
* @license			See file LICENSE distributed with this code
*/
var layout={init:function(){$("<div />").attr("id","wrapper").appendTo("body"),$(window).on("resize",(function(){layout.setSize()})),$(window).on("hashchange",(function(t){hashActions.map2action()}))},loadHome:function(){$("#wrapper").html('<div class="tabbable">\n            <ul class="nav nav-tabs navbar-fixed-top" id="tabs" data-tabs="tabs">\n                <li class="active"><a href="#home">BraDypUS</a></li>\n            </ul>\n            <div class="tab-content">\n                <div class="tab-pane active" id="home"></div>\n            </div>\n        </div>'),$('<button id="tabs_toggle" type="button" class="btn btn-primary" style="z-index:9999; position:fixed;top:0; right:0">\n            <i class="fa fa-reorder"></span>\n        </button>').appendTo($("#wrapper")).on("click",(function(){$("#tabs").toggle()})),$.get("./?obj=home_ctrl&method=main_home",(function(t){$("#home").html(t)}),"html"),$(document).on("keyup","input.fast_search",(function(t){13==(t.keyCode?t.keyCode:t.which)&&core.runMod("search",["fast",$("#ref_tb").val(),$(this).val()])})),$(document).on("keyup","input#find-fn",(function(t){var a=$(this).val().toLowerCase();a&&""!==a?$("ul.searcheable-list li").each((function(t,o){-1!==$(o).text().toLowerCase().indexOf(a)?$(o).addClass("highlight"):$(o).removeClass("highlight")})):$("ul.searcheable-list li").each((function(t,a){$(a).removeClass("highlight")}))})),layout.tabs.start("#tabs"),$("<div />").attr("id","waiting_main").appendTo($("#wrapper")).hide().on("click",(function(){$(this).hide()})),$(document).ajaxStart((function(){$("#waiting_main").show()})),$(document).ajaxStop((function(){$("#waiting_main").hide()})),$(document).ajaxError((function(t,a,o){"abort"===a.statusText||o.suppressErrors||($("#waiting_main").hide(),core.message(core.tr("error_in_module",[o.url]),"error",!0))})),layout.setSize()},dialog:{add:function(t){$("#modal").length>0&&layout.dialog.close($("#modal"));var a=$("<div />").attr("id","modal").addClass("modal fade").append('<div class="modal-dialog"><div class="modal-content">'+(t.title?'<div class="modal-header"><h4>'+t.title+"</h4></div>":"")+"</div></div>").appendTo("body");t.width&&a.css({width:t.width,"margin-left":"-"+t.width/2+"px"});var o=$("<div />").addClass("modal-body").appendTo(a.find("div.modal-content"));if(t.html)o.html(t.html),t.loaded&&t.loaded(o);else{if(!t.obj||!t.method)return!1;core.getHTML(t.obj,t.method,t.param,t.post,(a=>{o.html(a),void 0!==t.loaded&&t.loaded()}))}if(t.buttons&&"object"==typeof t.buttons){var i=$("<div />").addClass("modal-footer").appendTo(a.find("div.modal-content"));$.each(t.buttons,(function(t,o){var e=$("<a />").addClass("btn"+(o.addclass?" "+o.addclass:" btn-primary")).html(o.text);o.href&&e.attr("href",o.href),o.click&&("close"===o.click?e.attr("data-dismiss","modal"):e.click((function(){o.click(a)}))),"close"===o.action&&e.attr("data-dismiss","modal"),e.appendTo(i)}))}a.modal({keyboard:!0}),a.on("hidden.bs.modal",(function(){$("body").removeClass("modal-open"),a.remove()}))},close:function(t){t?t.modal("hide"):$("#modal").modal("hide")}},tabs:{tab:"",start:function(t){this.tab=tab="string"==typeof t?$(t):t,tab.find("a").click((function(t){t.preventDefault(),$(this).tab("show")})),tab.find("button.close").click((function(t){var a=$(this).parents("li");return layout.tabs.close(a),!1}))},add:function(t){var a=t.title?t.title:"",o=this.tab,i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.tab.append('<li><a href="#added'+i+'">'+a+' <button class="close" type="button">×</button></a></li>'),this.tab.next("div.tab-content").append('<div class="tab-pane" id="added'+i+'">'+core.loading+"</div>"),this.tab.find("li a:last").tab("show"),this.start(o),this.optsToTabContent(t,$("#added"+i))},closeActive:function(){var t=tab.find("li.active");layout.tabs.close(t)},reloadActive:function(){var t=$("div.tab-content div.active"),a=tab.find("li.active").data("state");this.optsToTabContent(a,t)},close:function(t){$("#"+t.find("a").attr("href").replace("#","")).remove(),t.remove(),t.hasClass("active")&&tab.find("li a:last").tab("show")},optsToTabContent:function(t,a){a.html('<img src="./assets/bdus/img/loader.gif" alt="loading..." />');if(t.html)a.html(t.html),t.loaded&&t.loaded(a);else{if(!t.obj||!t.method)return!1;core.getHTML(t.obj,t.method,t.param,t.post,(o=>{a.html(o),void 0!==t.loaded&&t.loaded(a)})),this.tab.find("li.active").data("state",t)}}},setSize:function(){$(window).width()<768?($("#tabs").hide(),$("#tabs_toggle").show()):($("#tabs").show(),$("#tabs_toggle").hide())}};
/**
 * @author			Julian Bogdani <jbogdani@gmail.com>
 * @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
 * @license			See file LICENSE distributed with this code
 * @since			10/mag/2011
 * @uses			core.message
 *
 *
 */
function formControls(e,r){var t=$(e),a={},n={addChange:!0,checkOnSubmit:!0,validationURL:"",submitURL:"",success:function(){},msg:{not_empty:core.tr("not_empty"),int:core.tr("int"),email:core.tr("email_check"),no_dupl:core.tr("no_dupl"),range:core.tr("range"),regex:core.tr("regex"),valid_wkt:core.tr("valid_wkt"),no_data_to_save:core.tr("no_data_to_save"),errors_in_form:core.tr("errors_in_form"),ajax_error:core.tr("ajax_error"),no_rules_for:core.tr("no_rules_for")}};r&&(n=$.extend(n,r)),n.addChange&&t.find(":input").on("change",(function(){$(this).attr("changed","auto")})),this.observe=function(){return Object.entries(a).forEach((([e,r])=>{"no_dupl"!==r&&delete a[e]})),t.find(":input[check]").on("change",(function(){var e=$(this);if(e.attr("check")&&"undefined"!==e.attr("check")){var r=e.attr("check").split(" ");$.each(r,(function(r,t){s(e,t,n)}))}})),this},this.check=function(){return $.each(["not_empty","int","email","range","regex","valid_wkt"],(function(e,r){t.find('[check~="'+r+'"]').each((function(e,t){s($(t),r)}))})),this},this.send=function(e){if(Object.keys(a).length>0)core.message(n.msg.errors_in_form,"error");else{var r;if(e)r=t.serialize();else{var o=t.find(":input:not([changed])");o.attr("disabled","disabled"),r=t.serialize(),o.removeAttr("disabled")}r?$.post(n.submitURL,r,(function(e){"success"==e.status?(t.find(':input[changed="auto"]').removeAttr("changed"),core.message(e.verbose,"success"),n.success(e)):(e.status,core.message(e.verbose,"error"))}),"json"):core.message(n.msg.no_data_to_save,"error")}return this},this.option=function(e,r){return r?(n[e]=r,this):n[e]};var o=function(e,r){e.hasClass("notValid")?e.next("span.notValid").append("<br />"+r):$("<span />").addClass("notValid").html("*"+r).insertAfter(e).position({my:"left center",at:"right-10 center",of:e}),e.addClass("notValid")},s=function(e,r){var t=e.val();switch(function(e){$(e).next("span.notValid").remove(),$(e).removeClass("notValid")}(e),r){case"int":isNaN(t)&&(o(e,n.msg[r]),a[e.attr("id")]="int");break;case"email":""===t||/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t)||(o(e,n.msg[r]),a[e.attr("id")]="email");break;case"not_empty":""===t&&(o(e,n.msg[r]),a[e.attr("id")]="not_empty");break;case"no_dupl":t&&$.ajax({url:n.validationURL+"&type=duplicates&fld="+e.attr("name")+"&val="+t,complete:function(t){"error"===t.responseText&&(o(e,n.msg[r]),a[e.attr("id")]="no_dupl")},error:function(r){o(e,n.msg.ajax_error),core.message(n.msg.ajax_error,"error")}});break;case"valid_wkt":t&&$.ajax({url:n.validationURL+"&type=wkt&val="+t,complete:function(t){"error"===t.responseText&&(o(e,n.msg[r]),a[e.attr("id")]="wkt")},error:function(r){o(e,n.msg.ajax_error),core.message(n.msg.ajax_error,"error")}});break;case"range":var s=parseInt(e.attr("min")),i=parseInt(e.attr("max"));((t=parseInt(t))<s||t>i||isNaN(t))&&(o(e,n.msg[r]+" ("+s+" - "+i+")"),a[e.attr("id")]="range");break;case"regex":var c=e.attr("mypattern"),d=new RegExp(c);t&&!d.test(t)&&(o(e,n.msg[r]+" ("+c+")"),a[e.attr("id")]="regex");break;default:console.log(n.msg.no_rules_for+" "+r)}};return this}
/**
* This files collects diferente jquery widges to enhance form elements, and a function to enhance a given form
* Actually the following widgets are supported:
*   combobox
*   multiselect
*
* @author      Julian Bogdani <jbogdani@gmail.com>
* @copyright    BraDypUS, Julian Bogdani <jbogdani@gmail.com>
* @license      See file LICENSE distributed with this code
* @since      23/oct/2011
 */
const enhance={getData:function(t){const e=$('datalist[for="'+t.attr("id")+'"]').first();let a=[];return e.children("option").map((function(){const t=$(this).text(),e=$(this).val()?$(this).val():t;a.push({id:e,text:t})})),a},getAjaxData:t=>{const e=t.data("context"),a=t.data("att"),n=t.data("tags");return void 0===e||void 0===a?{}:{width:"100%",tags:void 0!==n,createTag:function(t){return{id:t.term,val:t.term,newOption:!0}},ajax:{url:"./?obj=menuValues_ctrl&method=getValuesUrl&context="+e+"&att="+a,dataType:"json",delay:250,tokenSeparators:[";"],data:function(t){return{q:t.term,p:t.page}},processResults:function(t,e){return t.data.unshift({id:"",val:""}),e.page=e.page||1,{results:t.data,pagination:{more:30*e.page<t.tot}}},cache:!0},escapeMarkup:t=>t,templateResult:t=>t.val,templateSelection:t=>t.hasOwnProperty("val")?t.val:t.text,minimumInputLength:0}},multiselect:(t,e)=>{$(t).data("select2")&&e?$(t).select2("destroy"):$(t).select2($.extend({},{separator:";",tokenSeparators:[";"]},enhance.getAjaxData($(t)))).on("change",(function(){$(this).attr("changed","auto")}))},combobox:(t,e)=>{$(t).data("select2")&&e?$(t).select2("destroy"):$(t).select2($.extend({},{data:enhance.getData($(t),!0)},enhance.getAjaxData($(t)))).on("change",(function(){$(this).attr("changed","auto")}))},select:(t,e)=>{$(t).data("select2")&&e?$(t).select2("destroy"):$(t).select2(enhance.getAjaxData($(t))).on("change",(function(){$(this).attr("changed","auto")}))},pimpEl:(t,e)=>{$(t).hasClass("combobox")?enhance.combobox(t,e):$(t).hasClass("multiselect")?enhance.multiselect(t,e):$(t).is("select")&&enhance.select(t,e)},form:t=>{$(t).find(":input").each((function(t,e){enhance.pimpEl(e)}))}};
/**
 * @author			Julian Bogdani <jbogdani@gmail.com>
 * @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
 * @license			See file LICENSE distributed with this code
 * @since			Apr 16, 2012
 * 
 * use:
 * 	html
 * 	<span class="checklabel">
 * 		<input type="checkbox" />
 * 		<label>clickme<label>
 * 	</span>
 * 
 * javascript
 * <script>
 * 		$('span.checklabel').checklabel();
 * <\/script>
 */
!function(e){e.fn.checklabel=function(){this.each((function(){const c=e(this).find("label"),t=e(this).find("input");t.hide(),c.on("click",(function(){t.is(":checked")?(t.attr("checked",!1),c.removeClass("selected")):(t.attr("checked",!0),c.addClass("selected"))}))}))}}(jQuery);
!function(e,t){var n=e.document,i=e.jQuery;function o(e){e&&e.printPage?e.printPage():setTimeout((function(){o(e)}),50)}i.fn.printElement=function(t){var r=i.extend({},i.fn.printElement.defaults,t);return"iframe"==r.printMode&&/chrome/.test(navigator.userAgent.toLowerCase())&&(r.printMode="popup"),i("[id^='printElement_']").remove(),this.each((function(){var t=i.meta?i.extend({},r,i(this).data()):r;!function(t,r){var s=function(t,o){var r=i(t),s=function(e){var t=i(e);return i(":checked",t).each((function(){this.setAttribute("checked","checked")})),i("input[type='text']",t).each((function(){this.setAttribute("value",i(this).val())})),i("select",t).each((function(){var e=i(this);i("option",e).each((function(){e.val()==i(this).val()&&this.setAttribute("selected","selected")}))})),i("textarea",t).each((function(){var e=i(this).attr("value");this.firstChild?this.firstChild.textContent=e:this.innerHTML=e})),i("<div></div>").append(t.clone()).html()}(t),a=new Array;if(a.push("<html><head><title>"+o.pageTitle+"</title>"),o.overrideElementCSS){if(o.overrideElementCSS.length>0)for(var l=0;l<o.overrideElementCSS.length;l++){var d=o.overrideElementCSS[l];"string"==typeof d?a.push('<link type="text/css" rel="stylesheet" href="'+d+'" >'):a.push('<link type="text/css" rel="stylesheet" href="'+d.href+'" media="'+d.media+'" >')}}else i("link",n).filter((function(){return"stylesheet"==i(this).attr("rel").toLowerCase()})).each((function(){a.push('<link type="text/css" rel="stylesheet" href="'+i(this).attr("href")+'" media="'+i(this).attr("media")+'" >')}));return a.push('<base href="'+function(){var t=e.location.port?":"+e.location.port:"";return e.location.protocol+"//"+e.location.hostname+t+e.location.pathname}()+'" />'),a.push('</head><body style="'+o.printBodyOptions.styleToAdd+'" class="'+o.printBodyOptions.classNameToAdd+'">'),a.push('<div class="'+r.attr("class")+'">'+s+"</div>"),a.push('<script type="text/javascript">function printPage(){focus();print();'+(o.leaveOpen||"popup"!=o.printMode.toLowerCase()?"":"close();")+"}<\/script>"),a.push("</body></html>"),a.join("")}(t,r),a=null,l=null;if("popup"==r.printMode.toLowerCase())l=(a=e.open("about:blank","printElementWindow","width=650,height=440,scrollbars=yes")).document;else{var d="printElement_"+Math.round(99999*Math.random()).toString(),p=n.createElement("IFRAME");i(p).attr({style:r.iframeElementOptions.styleToAdd,id:d,className:r.iframeElementOptions.classNameToAdd,frameBorder:0,scrolling:"no",src:"about:blank"}),n.body.appendChild(p),(l=p.contentWindow||p.contentDocument).document&&(l=l.document),a=(p=n.frames?n.frames[d]:n.getElementById(d)).contentWindow||p}focus(),l.open(),l.write(s),l.close(),o(a)}(i(this),t)}))},i.fn.printElement.defaults={printMode:"iframe",pageTitle:"",overrideElementCSS:null,printBodyOptions:{styleToAdd:"padding:10px;margin:10px;",classNameToAdd:""},leaveOpen:!1,iframeElementOptions:{styleToAdd:"border:none;position:absolute;width:0px;height:0px;bottom:0px;left:0px;",classNameToAdd:""}},i.fn.printElement.cssElement={href:"",media:""}}(window);
!function(t){var e;function i(e){t.jqplot.ElemContainer.call(this),this.name=e,this._series=[],this.show=!1,this.tickRenderer=t.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=t.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=t.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this.scaleToHiddenSeries=!1,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function s(e){t.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=t.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],t.extend(!0,this,e)}function r(e){t.jqplot.ElemContainer.call(this),this.text=e,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=t.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function a(e){e=e||{},t.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=t.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=t.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new t.jqplot.GenericCanvas,this.shadowCanvas=new t.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function n(){t.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=t.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}t.fn.emptyForce=function(){for(var e,i=0;null!=(e=t(this)[i]);i++){if(1===e.nodeType&&t.cleanData(e.getElementsByTagName("*")),t.jqplot.use_excanvas)e.outerHTML="";else for(;e.firstChild;)e.removeChild(e.firstChild);e=null}return t(this)},t.fn.removeChildForce=function(t){for(;t.firstChild;)this.removeChildForce(t.firstChild),t.removeChild(t.firstChild)},t.fn.jqplot=function(){for(var i=[],s=[],r=0,a=arguments.length;r<a;r++)t.isArray(arguments[r])?i.push(arguments[r]):t.isPlainObject(arguments[r])&&s.push(arguments[r]);return this.each((function(r){var a,n,o,h,l=t(this),d=i.length,p=s.length;o=r<d?i[r]:d?i[d-1]:null,h=r<p?s[r]:p?s[p-1]:null,(a=l.attr("id"))===e&&(a="jqplot_target_"+t.jqplot.targetCounter++,l.attr("id",a)),n=t.jqplot(a,o,h),l.data("jqplot",n)}))},t.jqplot=function(e,i,s){var r=null,a=null;3===arguments.length?(r=i,a=s):2===arguments.length&&(t.isArray(i)?r=i:t.isPlainObject(i)&&(a=i)),null===r&&null!==a&&a.data&&(r=a.data);var n=new h;if(t("#"+e).removeClass("jqplot-error"),!t.jqplot.config.catchErrors)return n.init(e,r,a),n.draw(),n.themeEngine.init.call(n),n;try{return n.init(e,r,a),n.draw(),n.themeEngine.init.call(n),n}catch(i){var o=t.jqplot.config.errorMessage||i.message;t("#"+e).append('<div class="jqplot-error-message">'+o+"</div>"),t("#"+e).addClass("jqplot-error"),document.getElementById(e).style.background=t.jqplot.config.errorBackground,document.getElementById(e).style.border=t.jqplot.config.errorBorder,document.getElementById(e).style.fontFamily=t.jqplot.config.errorFontFamily,document.getElementById(e).style.fontSize=t.jqplot.config.errorFontSize,document.getElementById(e).style.fontStyle=t.jqplot.config.errorFontStyle,document.getElementById(e).style.fontWeight=t.jqplot.config.errorFontWeight}},t.jqplot.version="1.0.3",t.jqplot.revision="1117",t.jqplot.targetCounter=1,t.jqplot.CanvasManager=function(){void 0===t.jqplot.CanvasManager.canvases&&(t.jqplot.CanvasManager.canvases=[],t.jqplot.CanvasManager.free=[]);var i=[];this.getCanvas=function(){var e,s=!0;if(!t.jqplot.use_excanvas)for(var r=0,a=t.jqplot.CanvasManager.canvases.length;r<a;r++)if(!0===t.jqplot.CanvasManager.free[r]){s=!1,e=t.jqplot.CanvasManager.canvases[r],t.jqplot.CanvasManager.free[r]=!1,i.push(r);break}return s&&(e=document.createElement("canvas"),i.push(t.jqplot.CanvasManager.canvases.length),t.jqplot.CanvasManager.canvases.push(e),t.jqplot.CanvasManager.free.push(!1)),e},this.initCanvas=function(e){return t.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(e):e},this.freeAllCanvases=function(){for(var t=0,e=i.length;t<e;t++)this.freeCanvas(i[t]);i=[]},this.freeCanvas=function(i){if(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==e)window.G_vmlCanvasManager.uninitElement(t.jqplot.CanvasManager.canvases[i]),t.jqplot.CanvasManager.canvases[i]=null;else{var s=t.jqplot.CanvasManager.canvases[i];s.getContext("2d").clearRect(0,0,s.width,s.height),t(s).unbind().removeAttr("class").removeAttr("style"),t(s).css({left:"",top:"",position:""}),s.width=0,s.height=0,t.jqplot.CanvasManager.free[i]=!0}}},t.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},t.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date(6e4*(new Date).getTimezoneOffset()),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},t.jqplot.arrayMax=function(t){return Math.max.apply(Math,t)},t.jqplot.arrayMin=function(t){return Math.min.apply(Math,t)},t.jqplot.enablePlugins=t.jqplot.config.enablePlugins,t.jqplot.support_canvas=function(){return void 0===t.jqplot.support_canvas.result&&(t.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),t.jqplot.support_canvas.result},t.jqplot.support_canvas_text=function(){return void 0===t.jqplot.support_canvas_text.result&&(window.G_vmlCanvasManager!==e&&window.G_vmlCanvasManager._version>887?t.jqplot.support_canvas_text.result=!0:t.jqplot.support_canvas_text.result=!(!document.createElement("canvas").getContext||"function"!=typeof document.createElement("canvas").getContext("2d").fillText)),t.jqplot.support_canvas_text.result},t.jqplot.use_excanvas=!(t.support.boxModel&&t.support.objectAll&&$support.leadingWhitespace||t.jqplot.support_canvas()),t.jqplot.preInitHooks=[],t.jqplot.postInitHooks=[],t.jqplot.preParseOptionsHooks=[],t.jqplot.postParseOptionsHooks=[],t.jqplot.preDrawHooks=[],t.jqplot.postDrawHooks=[],t.jqplot.preDrawSeriesHooks=[],t.jqplot.postDrawSeriesHooks=[],t.jqplot.preDrawLegendHooks=[],t.jqplot.addLegendRowHooks=[],t.jqplot.preSeriesInitHooks=[],t.jqplot.postSeriesInitHooks=[],t.jqplot.preParseSeriesOptionsHooks=[],t.jqplot.postParseSeriesOptionsHooks=[],t.jqplot.eventListenerHooks=[],t.jqplot.preDrawSeriesShadowHooks=[],t.jqplot.postDrawSeriesShadowHooks=[],t.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},t.jqplot.ElemContainer.prototype.createElement=function(e,i,s,r,a){this._offsets=i;var n=s||"jqplot",o=document.createElement(e);return this._elem=t(o),this._elem.addClass(n),this._elem.css(r),this._elem.attr(a),o=null,this._elem},t.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},t.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},t.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},t.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},t.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},t.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},t.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},i.prototype=new t.jqplot.ElemContainer,i.prototype.constructor=i,i.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.tickOptions.axis=this.name,null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTicks),null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTickMarks),null==this.tickOptions.showLabel&&(this.tickOptions.showLabel=this.showTicks),null==this.label||""==this.label?this.showLabel=!1:this.labelOptions.label=this.label,0==this.showLabel&&(this.labelOptions.show=!1),0==this.pad&&(this.pad=1),0==this.padMax&&(this.padMax=1),0==this.padMin&&(this.padMin=1),null==this.padMax&&(this.padMax=(this.pad-1)/2+1),null==this.padMin&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1,null==this.min&&null==this.max||(this.autoscale=!1),null==this.syncTicks&&this.name.indexOf("y")>-1?this.syncTicks=!0:null==this.syncTicks&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},i.prototype.draw=function(t,e){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,t,e)},i.prototype.set=function(){this.renderer.set.call(this)},i.prototype.pack=function(t,e){this.show&&this.renderer.pack.call(this,t,e),null==this._min&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},i.prototype.reset=function(){this.renderer.reset.call(this)},i.prototype.resetScale=function(e){t.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},e),this.resetDataBounds()},i.prototype.resetDataBounds=function(){var e,i,s=this._dataBounds;s.min=null,s.max=null;for(var r=!!this.show,a=0;a<this._series.length;a++)if((e=this._series[a]).show||this.scaleToHiddenSeries){i=e._plotData,"line"===e._type&&e.renderer.bands.show&&"x"!==this.name.charAt(0)&&(i=[[0,e.renderer.bands._min],[1,e.renderer.bands._max]]);var n=1,o=1;null!=e._type&&"ohlc"==e._type&&(n=3,o=2);for(var h=0,l=i.length;h<l;h++)"xaxis"==this.name||"x2axis"==this.name?((null!=i[h][0]&&i[h][0]<s.min||null==s.min)&&(s.min=i[h][0]),(null!=i[h][0]&&i[h][0]>s.max||null==s.max)&&(s.max=i[h][0])):((null!=i[h][n]&&i[h][n]<s.min||null==s.min)&&(s.min=i[h][n]),(null!=i[h][o]&&i[h][o]>s.max||null==s.max)&&(s.max=i[h][o]));r&&e.renderer.constructor!==t.jqplot.BarRenderer||r&&this._options.hasOwnProperty("forceTickAt0")&&0==this._options.forceTickAt0?r=!1:r&&e.renderer.constructor===t.jqplot.BarRenderer&&("vertical"==e.barDirection&&"xaxis"!=this.name&&"x2axis"!=this.name?null==this._options.pad&&null==this._options.padMin||(r=!1):"horizontal"!=e.barDirection||"xaxis"!=this.name&&"x2axis"!=this.name||null==this._options.pad&&null==this._options.padMin||(r=!1))}r&&this.renderer.constructor===t.jqplot.LinearAxisRenderer&&s.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},s.prototype=new t.jqplot.ElemContainer,s.prototype.constructor=s,s.prototype.setOptions=function(e){if(t.extend(!0,this,e),"inside"==this.placement&&(this.placement="insideGrid"),this.xoffset>0){if("insideGrid"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if("outside"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if("outside"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if("insideGrid"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},s.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},s.prototype.draw=function(e,i){for(var s=0;s<t.jqplot.preDrawLegendHooks.length;s++)t.jqplot.preDrawLegendHooks[s].call(this,e);return this.renderer.draw.call(this,e,i)},s.prototype.pack=function(t){this.renderer.pack.call(this,t)},r.prototype=new t.jqplot.ElemContainer,r.prototype.constructor=r,r.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},r.prototype.draw=function(t){return this.renderer.draw.call(this,t)},r.prototype.pack=function(){this.renderer.pack.call(this)},a.prototype=new t.jqplot.ElemContainer,a.prototype.constructor=a,a.prototype.init=function(e,i,s){this.index=e,this.gridBorderWidth=i;var r,a,n=this.data,o=[];for(r=0,a=n.length;r<a;r++)if(this.breakOnNull)o.push(n[r]);else{if(null==n[r]||null==n[r][0]||null==n[r][1])continue;o.push(n[r])}if(this.data=o,this.color||(this.color=s.colorGenerator.get(this.index)),this.negativeColor||(this.negativeColor=s.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color),this.fillAlpha){var h=t.jqplot.normalize2rgb(this.fillColor);h=t.jqplot.getColorComponents(h);this.fillColor="rgba("+h[0]+","+h[1]+","+h[2]+","+this.fillAlpha+")"}t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions,s),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),null==this.markerOptions.show&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},a.prototype.draw=function(i,s,r){var a,n,o,h=s==e?{}:s;for(i=i==e?this.canvas._ctx:i,a=0;a<t.jqplot.preDrawSeriesHooks.length;a++)t.jqplot.preDrawSeriesHooks[a].call(this,i,h);for(this.show&&(this.renderer.setGridData.call(this,r),h.preventJqPlotSeriesDrawTrigger||t(i.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),n=[],n=h.data?h.data:this._stack?this._plotData:this.data,o=h.gridData||this.renderer.makeGridData.call(this,n,r),"line"===this._type&&this.renderer.smooth&&this.renderer._smoothedData.length&&(o=this.renderer._smoothedData),this.renderer.draw.call(this,i,o,h,r)),a=0;a<t.jqplot.postDrawSeriesHooks.length;a++)t.jqplot.postDrawSeriesHooks[a].call(this,i,h,r);i=s=r=a=n=o=null},a.prototype.drawShadow=function(i,s,r){var a,n,o,h=s==e?{}:s;for(i=i==e?this.shadowCanvas._ctx:i,a=0;a<t.jqplot.preDrawSeriesShadowHooks.length;a++)t.jqplot.preDrawSeriesShadowHooks[a].call(this,i,h);for(this.shadow&&(this.renderer.setGridData.call(this,r),n=[],n=h.data?h.data:this._stack?this._plotData:this.data,o=h.gridData||this.renderer.makeGridData.call(this,n,r),this.renderer.drawShadow.call(this,i,o,h,r)),a=0;a<t.jqplot.postDrawSeriesShadowHooks.length;a++)t.jqplot.postDrawSeriesShadowHooks[a].call(this,i,h);i=s=r=a=n=o=null},a.prototype.toggleDisplay=function(t,e){var i,s;i=t.data.series?t.data.series:this,t.data.speed&&(s=t.data.speed),s?i.canvas._elem.is(":hidden")||!i.show?(i.show=!0,i.canvas._elem.removeClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.fadeIn(s),i.canvas._elem.fadeIn(s,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).fadeIn(s)):(i.show=!1,i.canvas._elem.addClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.fadeOut(s),i.canvas._elem.fadeOut(s,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).fadeOut(s)):i.canvas._elem.is(":hidden")||!i.show?(i.show=!0,i.canvas._elem.removeClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.show(),i.canvas._elem.show(0,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).show()):(i.show=!1,i.canvas._elem.addClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.hide(),i.canvas._elem.hide(0,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).hide())},n.prototype=new t.jqplot.ElemContainer,n.prototype.constructor=n,n.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},n.prototype.createElement=function(t,e){return this._offsets=t,this.renderer.createElement.call(this,e)},n.prototype.draw=function(){this.renderer.draw.call(this)},t.jqplot.GenericCanvas=function(){t.jqplot.ElemContainer.call(this),this._ctx},t.jqplot.GenericCanvas.prototype=new t.jqplot.ElemContainer,t.jqplot.GenericCanvas.prototype.constructor=t.jqplot.GenericCanvas,t.jqplot.GenericCanvas.prototype.createElement=function(i,s,r,a){this._offsets=i;var n,o="jqplot";return s!=e&&(o=s),n=a.canvasManager.getCanvas(),null!=r&&(this._plotDimensions=r),n.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,n.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=t(n),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(o),n=a.canvasManager.initCanvas(n),n=null,this._elem},t.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},t.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==e&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},t.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},t.jqplot.HooksManager.prototype.addOnce=function(t,e){e=e||[];for(var i=!1,s=0,r=this.hooks.length;s<r;s++)this.hooks[s]==t&&(i=!0);i||(this.hooks.push(t),this.args.push(e))},t.jqplot.HooksManager.prototype.add=function(t,e){e=e||[],this.hooks.push(t),this.args.push(e)},t.jqplot.EventListenerManager=function(){this.hooks=[]},t.jqplot.EventListenerManager.prototype.addOnce=function(t,e){for(var i,s=!1,r=0,a=this.hooks.length;r<a;r++)(i=this.hooks[r])[0]==t&&i[1]==e&&(s=!0);s||this.hooks.push([t,e])},t.jqplot.EventListenerManager.prototype.add=function(t,e){this.hooks.push([t,e])};var o=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];function h(){this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new i("xaxis"),yaxis:new i("yaxis"),x2axis:new i("x2axis"),y2axis:new i("y2axis"),y3axis:new i("y3axis"),y4axis:new i("y4axis"),y5axis:new i("y5axis"),y6axis:new i("y6axis"),y7axis:new i("y7axis"),y8axis:new i("y8axis"),y9axis:new i("y9axis"),yMidAxis:new i("yMidAxis")},this.baseCanvas=new t.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new t.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new n,this.legend=new s,this.negativeSeriesColors=t.jqplot.config.defaultNegativeColors,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=t.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new r,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=t.jqplot.config.addDomReference,this.preInitHooks=new t.jqplot.HooksManager,this.postInitHooks=new t.jqplot.HooksManager,this.preParseOptionsHooks=new t.jqplot.HooksManager,this.postParseOptionsHooks=new t.jqplot.HooksManager,this.preDrawHooks=new t.jqplot.HooksManager,this.postDrawHooks=new t.jqplot.HooksManager,this.preDrawSeriesHooks=new t.jqplot.HooksManager,this.postDrawSeriesHooks=new t.jqplot.HooksManager,this.preDrawLegendHooks=new t.jqplot.HooksManager,this.addLegendRowHooks=new t.jqplot.HooksManager,this.preSeriesInitHooks=new t.jqplot.HooksManager,this.postSeriesInitHooks=new t.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new t.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new t.jqplot.HooksManager,this.eventListenerHooks=new t.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new t.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new t.jqplot.HooksManager,this.colorGenerator=new t.jqplot.ColorGenerator,this.negativeColorGenerator=new t.jqplot.ColorGenerator,this.canvasManager=new t.jqplot.CanvasManager,this.themeEngine=new t.jqplot.ThemeEngine;var l,d;function p(t){for(var e,i=0;i<t.length;i++)for(var s,r=[t[i].data,t[i]._stackData,t[i]._plotData,t[i]._prevPlotData],a=0;a<4;a++)if(s=!0,e=r[a],"x"==t[i]._stackAxis){for(var n=0;n<e.length;n++)if("number"!=typeof e[n][1]){s=!1;break}s&&e.sort((function(t,e){return t[1]-e[1]}))}else{for(n=0;n<e.length;n++)if("number"!=typeof e[n][0]){s=!1;break}s&&e.sort((function(t,e){return t[0]-e[0]}))}}function c(t){var e,i,s=t.data.plot,r=s.eventCanvas._elem.offset(),a={x:t.pageX-r.left,y:t.pageY-r.top},n={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},o=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],h=s.axes;for(e=11;e>0;e--)h[i=o[e-1]].show&&(n[i]=h[i].series_p2u(a[i.charAt(0)]));return{offsets:r,gridPos:a,dataPos:n}}function u(e,i){var s,r,a,n,o,h,l,d,p,c,u,g,f,m,_,x,b,v,w=i.series;for(r=i.seriesStack.length-1;r>=0;r--)switch(x=(a=w[s=i.seriesStack[r]])._highlightThreshold,a.renderer.constructor){case t.jqplot.BarRenderer:for(o=e.x,h=e.y,y=0;y<a._barPoints.length;y++)if(_=a._barPoints[y],m=a.gridData[y],o>_[0][0]&&o<_[2][0]&&h>_[2][1]&&h<_[0][1])return{seriesIndex:a.index,pointIndex:y,gridData:m,data:a.data[y],points:a._barPoints[y]};break;case t.jqplot.PyramidRenderer:for(o=e.x,h=e.y,y=0;y<a._barPoints.length;y++)if(_=a._barPoints[y],m=a.gridData[y],o>_[0][0]+x[0][0]&&o<_[2][0]+x[2][0]&&h>_[2][1]&&h<_[0][1])return{seriesIndex:a.index,pointIndex:y,gridData:m,data:a.data[y],points:a._barPoints[y]};break;case t.jqplot.DonutRenderer:if(p=a.startAngle/180*Math.PI,o=e.x-a._center[0],h=e.y-a._center[1],n=Math.sqrt(Math.pow(o,2)+Math.pow(h,2)),o>0&&-h>=0?l=2*Math.PI-Math.atan(-h/o):o>0&&-h<0?l=-Math.atan(-h/o):o<0?l=Math.PI-Math.atan(-h/o):0==o&&-h>0?l=3*Math.PI/2:0==o&&-h<0?l=Math.PI/2:0==o&&0==h&&(l=0),p&&((l-=p)<0?l+=2*Math.PI:l>2*Math.PI&&(l-=2*Math.PI)),d=a.sliceMargin/180*Math.PI,n<a._radius&&n>a._innerRadius)for(y=0;y<a.gridData.length;y++)if(c=y>0?a.gridData[y-1][1]+d:d,u=a.gridData[y][1],l>c&&l<u)return{seriesIndex:a.index,pointIndex:y,gridData:a.gridData[y],data:a.data[y]};break;case t.jqplot.PieRenderer:if(p=a.startAngle/180*Math.PI,o=e.x-a._center[0],h=e.y-a._center[1],n=Math.sqrt(Math.pow(o,2)+Math.pow(h,2)),o>0&&-h>=0?l=2*Math.PI-Math.atan(-h/o):o>0&&-h<0?l=-Math.atan(-h/o):o<0?l=Math.PI-Math.atan(-h/o):0==o&&-h>0?l=3*Math.PI/2:0==o&&-h<0?l=Math.PI/2:0==o&&0==h&&(l=0),p&&((l-=p)<0?l+=2*Math.PI:l>2*Math.PI&&(l-=2*Math.PI)),d=a.sliceMargin/180*Math.PI,n<a._radius)for(y=0;y<a.gridData.length;y++)if(c=y>0?a.gridData[y-1][1]+d:d,u=a.gridData[y][1],l>c&&l<u)return{seriesIndex:a.index,pointIndex:y,gridData:a.gridData[y],data:a.data[y]};break;case t.jqplot.BubbleRenderer:o=e.x,h=e.y;var k=null;if(a.show){for(var y=0;y<a.gridData.length;y++)m=a.gridData[y],(f=Math.sqrt((o-m[0])*(o-m[0])+(h-m[1])*(h-m[1])))<=m[2]&&(f<=g||null==g)&&(g=f,k={seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]});if(null!=k)return k}break;case t.jqplot.FunnelRenderer:o=e.x,h=e.y;var j,D,M,q=a._vertices,S=q[0],C=q[q.length-1];function T(t,e,i){var s=(e[1]-i[1])/(e[0]-i[0]),r=e[1]-s*e[0],a=t+e[1];return[(a-r)/s,a]}for(j=T(h,S[0],C[3]),D=T(h,S[1],C[2]),y=0;y<q.length;y++)if(h>=(M=q[y])[0][1]&&h<=M[3][1]&&o>=j[0]&&o<=D[0])return{seriesIndex:a.index,pointIndex:y,gridData:null,data:a.data[y]};break;case t.jqplot.LineRenderer:if(o=e.x,h=e.y,n=a.renderer,a.show){if(!(!(a.fill||a.renderer.bands.show&&a.renderer.bands.fill)||i.plugins.highlighter&&i.plugins.highlighter.show)){var R=!1;if(o>a._boundingBox[0][0]&&o<a._boundingBox[1][0]&&h>a._boundingBox[1][1]&&h<a._boundingBox[0][1])for(var P=a._areaPoints.length,I=(y=P-1,0);I<P;I++){var H=[a._areaPoints[I][0],a._areaPoints[I][1]],O=[a._areaPoints[y][0],a._areaPoints[y][1]];(H[1]<h&&O[1]>=h||O[1]<h&&H[1]>=h)&&H[0]+(h-H[1])/(O[1]-H[1])*(O[0]-H[0])<o&&(R=!R),y=I}if(R)return{seriesIndex:s,pointIndex:null,gridData:a.gridData,data:a.data,points:a._areaPoints};break}b=(v=a.markerRenderer.size/2+a.neighborThreshold)>0?v:0;for(y=0;y<a.gridData.length;y++)if(m=a.gridData[y],n.constructor==t.jqplot.OHLCRenderer)if(n.candleStick){var A=a._yaxis.series_u2p;if(o>=m[0]-n._bodyWidth/2&&o<=m[0]+n._bodyWidth/2&&h>=A(a.data[y][2])&&h<=A(a.data[y][3]))return{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}else if(n.hlc){A=a._yaxis.series_u2p;if(o>=m[0]-n._tickLength&&o<=m[0]+n._tickLength&&h>=A(a.data[y][1])&&h<=A(a.data[y][2]))return{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}else{var A=a._yaxis.series_u2p;if(o>=m[0]-n._tickLength&&o<=m[0]+n._tickLength&&h>=A(a.data[y][2])&&h<=A(a.data[y][3]))return{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}else if(null!=m[0]&&null!=m[1]&&(f=Math.sqrt((o-m[0])*(o-m[0])+(h-m[1])*(h-m[1])))<=b&&(f<=g||null==g))return g=f,{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}break;default:if(o=e.x,h=e.y,n=a.renderer,a.show){b=(v=a.markerRenderer.size/2+a.neighborThreshold)>0?v:0;for(y=0;y<a.gridData.length;y++)if(m=a.gridData[y],n.constructor==t.jqplot.OHLCRenderer)if(n.candleStick){A=a._yaxis.series_u2p;if(o>=m[0]-n._bodyWidth/2&&o<=m[0]+n._bodyWidth/2&&h>=A(a.data[y][2])&&h<=A(a.data[y][3]))return{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}else if(n.hlc){A=a._yaxis.series_u2p;if(o>=m[0]-n._tickLength&&o<=m[0]+n._tickLength&&h>=A(a.data[y][1])&&h<=A(a.data[y][2]))return{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}else{A=a._yaxis.series_u2p;if(o>=m[0]-n._tickLength&&o<=m[0]+n._tickLength&&h>=A(a.data[y][2])&&h<=A(a.data[y][3]))return{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}else if((f=Math.sqrt((o-m[0])*(o-m[0])+(h-m[1])*(h-m[1])))<=b&&(f<=g||null==g))return g=f,{seriesIndex:s,pointIndex:y,gridData:m,data:a.data[y]}}}return null}this.init=function(e,s,r){r=r||{};for(var a=0;a<t.jqplot.preInitHooks.length;a++)t.jqplot.preInitHooks[a].call(this,e,s,r);for(a=0;a<this.preInitHooks.hooks.length;a++)this.preInitHooks.hooks[a].call(this,e,s,r);if(this.targetId="#"+e,this.target=t("#"+e),this._addDomReference&&this.target.data("jqplot",this),this.target.removeClass("jqplot-error"),!this.target.get(0))throw"No plot target specified";var n,h,l,d;("static"==this.target.css("position")&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target"),this.target.height())?this._height=n=this.target.height():(n=r&&r.height?parseInt(r.height,10):this.target.attr("data-height")?parseInt(this.target.attr("data-height"),10):parseInt(t.jqplot.config.defaultHeight,10),this._height=n,this.target.css("height",n+"px"));this.target.width()?this._width=h=this.target.width():(h=r&&r.width?parseInt(r.width,10):this.target.attr("data-width")?parseInt(this.target.attr("data-width"),10):parseInt(t.jqplot.config.defaultWidth,10),this._width=h,this.target.css("width",h+"px"));a=0;for(var c=o.length;a<c;a++)this.axes[o[a]]=new i(o[a]);if(this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions,this._height<=0||this._width<=0||!this._height||!this._width)throw"Canvas dimension not set";if(r.dataRenderer&&t.isFunction(r.dataRenderer)&&(r.dataRendererOptions&&(this.dataRendererOptions=r.dataRendererOptions),this.dataRenderer=r.dataRenderer,s=this.dataRenderer(s,this,this.dataRendererOptions)),r.noDataIndicator&&t.isPlainObject(r.noDataIndicator)&&t.extend(!0,this.noDataIndicator,r.noDataIndicator),null==s||0==t.isArray(s)||0==s.length||0==t.isArray(s[0])||0==s[0].length){if(0==this.noDataIndicator.show)throw"No Data";for(var u in this.noDataIndicator.axes)for(var g in this.noDataIndicator.axes[u])this.axes[u][g]=this.noDataIndicator.axes[u][g];this.postDrawHooks.add((function(){var e=this.eventCanvas.getHeight(),i=this.eventCanvas.getWidth(),s=t('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(s),s.height(e),s.width(i),s.css("top",this.eventCanvas._offsets.top),s.css("left",this.eventCanvas._offsets.left);var r=t('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');s.append(r),r.html(this.noDataIndicator.indicator);var a=r.height(),n=r.width();r.height(a),r.width(n),r.css("top",(e-a)/2+"px")}))}this.data=t.extend(!0,[],s),this.parseOptions(r),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.computePlotData();for(a=0;a<this.series.length;a++){this.seriesStack.push(a),this.previousSeriesStack.push(a),this.series[a].shadowCanvas._plotDimensions=this._plotDimensions,this.series[a].canvas._plotDimensions=this._plotDimensions;for(var f=0;f<t.jqplot.preSeriesInitHooks.length;f++)t.jqplot.preSeriesInitHooks[f].call(this.series[a],e,this.data,this.options.seriesDefaults,this.options.series[a],this);for(f=0;f<this.preSeriesInitHooks.hooks.length;f++)this.preSeriesInitHooks.hooks[f].call(this.series[a],e,this.data,this.options.seriesDefaults,this.options.series[a],this);this.series[a]._plotDimensions=this._plotDimensions,this.series[a].init(a,this.grid.borderWidth,this);for(f=0;f<t.jqplot.postSeriesInitHooks.length;f++)t.jqplot.postSeriesInitHooks[f].call(this.series[a],e,this.data,this.options.seriesDefaults,this.options.series[a],this);for(f=0;f<this.postSeriesInitHooks.hooks.length;f++)this.postSeriesInitHooks.hooks[f].call(this.series[a],e,this.data,this.options.seriesDefaults,this.options.series[a],this);this._sumy+=this.series[a]._sumy,this._sumx+=this.series[a]._sumx}for(a=0,c=o.length;a<c;a++)l=o[a],(d=this.axes[l])._plotDimensions=this._plotDimensions,d.init(),null==this.axes[l].borderColor&&("x"!==l.charAt(0)&&!0===d.useSeriesColor&&d.show?d.borderColor=d._series[0].color:d.borderColor=this.grid.borderColor);this.sortData&&p(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(a=0;a<t.jqplot.postInitHooks.length;a++)t.jqplot.postInitHooks[a].call(this,e,this.data,r);for(a=0;a<this.postInitHooks.hooks.length;a++)this.postInitHooks.hooks[a].call(this,e,this.data,r)},this.resetAxesScale=function(e,i){var s=i||{},r=e||this.axes;if(!0===r&&(r=this.axes),t.isArray(r))for(var a=0;a<r.length;a++)this.axes[r[a]].resetScale(s[r[a]]);else if("object"==typeof r)for(var n in r)this.axes[n].resetScale(s[n])},this.reInitialize=function(s,r){for(var a,n,h,l=t.extend(!0,{},this.options,r),d=this.targetId.substr(1),c=null==s?this.data:s,u=0;u<t.jqplot.preInitHooks.length;u++)t.jqplot.preInitHooks[u].call(this,d,c,l);for(u=0;u<this.preInitHooks.hooks.length;u++)this.preInitHooks.hooks[u].call(this,d,c,l);if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;u=0;for(var g=o.length;u<g;u++){a=o[u];for(var f=0,m=(n=(h=this.axes[a])._ticks).length;f<m;f++){var _=n[f]._elem;_&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==e&&window.G_vmlCanvasManager.uninitElement(_.get(0)),_.emptyForce(),_=null,n._elem=null)}n=null,delete h.ticks,delete h._ticks,this.axes[a]=new i(a),this.axes[a]._plotWidth=this._width,this.axes[a]._plotHeight=this._height}s&&(l.dataRenderer&&t.isFunction(l.dataRenderer)&&(l.dataRendererOptions&&(this.dataRendererOptions=l.dataRendererOptions),this.dataRenderer=l.dataRenderer,s=this.dataRenderer(s,this,this.dataRendererOptions)),this.data=t.extend(!0,[],s)),r&&this.parseOptions(l),this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.seriesStack=[],this.previousSeriesStack=[],this.computePlotData();for(u=0,g=this.series.length;u<g;u++){this.seriesStack.push(u),this.previousSeriesStack.push(u),this.series[u].shadowCanvas._plotDimensions=this._plotDimensions,this.series[u].canvas._plotDimensions=this._plotDimensions;for(f=0;f<t.jqplot.preSeriesInitHooks.length;f++)t.jqplot.preSeriesInitHooks[f].call(this.series[u],d,this.data,this.options.seriesDefaults,this.options.series[u],this);for(f=0;f<this.preSeriesInitHooks.hooks.length;f++)this.preSeriesInitHooks.hooks[f].call(this.series[u],d,this.data,this.options.seriesDefaults,this.options.series[u],this);this.series[u]._plotDimensions=this._plotDimensions,this.series[u].init(u,this.grid.borderWidth,this);for(f=0;f<t.jqplot.postSeriesInitHooks.length;f++)t.jqplot.postSeriesInitHooks[f].call(this.series[u],d,this.data,this.options.seriesDefaults,this.options.series[u],this);for(f=0;f<this.postSeriesInitHooks.hooks.length;f++)this.postSeriesInitHooks.hooks[f].call(this.series[u],d,this.data,this.options.seriesDefaults,this.options.series[u],this);this._sumy+=this.series[u]._sumy,this._sumx+=this.series[u]._sumx}for(u=0,g=o.length;u<g;u++)a=o[u],(h=this.axes[a])._plotDimensions=this._plotDimensions,h.init(),null==h.borderColor&&("x"!==a.charAt(0)&&!0===h.useSeriesColor&&h.show?h.borderColor=h._series[0].color:h.borderColor=this.grid.borderColor);this.sortData&&p(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(u=0,g=t.jqplot.postInitHooks.length;u<g;u++)t.jqplot.postInitHooks[u].call(this,d,this.data,l);for(u=0,g=this.postInitHooks.hooks.length;u<g;u++)this.postInitHooks.hooks[u].call(this,d,this.data,l)},this.quickInit=function(){if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";for(var i in this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions,this.axes)this.axes[i]._plotWidth=this._width,this.axes[i]._plotHeight=this._height;this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0,this.computePlotData();for(var s=0;s<this.series.length;s++)"line"===this.series[s]._type&&this.series[s].renderer.bands.show&&this.series[s].renderer.initBands.call(this.series[s],this.series[s].renderer.options,this),this.series[s]._plotDimensions=this._plotDimensions,this.series[s].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[s]._sumy,this._sumx+=this.series[s]._sumx;for(var r,a=0;a<12;a++){r=o[a];var n=this.axes[r]._ticks;for(s=0;s<n.length;s++){var h=n[s]._elem;h&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==e&&window.G_vmlCanvasManager.uninitElement(h.get(0)),h.emptyForce(),h=null,n._elem=null)}n=null,this.axes[r]._plotDimensions=this._plotDimensions,this.axes[r]._ticks=[]}this.sortData&&p(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.computePlotData=function(){var e,i,s;for(this._plotData=[],this._stackData=[],i=0,s=this.series.length;i<s;i++){e=this.series[i],this._plotData.push([]),this._stackData.push([]);var r=e.data;this._plotData[i]=t.extend(!0,[],r),this._stackData[i]=t.extend(!0,[],r),e._plotData=this._plotData[i],e._stackData=this._stackData[i];var a={x:[],y:[]};if(this.stackSeries&&!e.disableStack){e._stack=!0;for(var n="x"===e._stackAxis?0:1,o=0,h=r.length;o<h;o++){var l=r[o][n];if(null==l&&(l=0),this._plotData[i][o][n]=l,this._stackData[i][o][n]=l,i>0)for(var d=i;d--;){var p=this._plotData[d][o][n];if(l*p>=0){this._plotData[i][o][n]+=p,this._stackData[i][o][n]+=p;break}}}}else{for(var c=0;c<e.data.length;c++)a.x.push(e.data[c][0]),a.y.push(e.data[c][1]);this._stackData.push(e.data),this.series[i]._stackData=e.data,this._plotData.push(e.data),e._plotData=e.data,e._plotValues=a}for(i>0&&(e._prevPlotData=this.series[i-1]._plotData),e._sumy=0,e._sumx=0,c=e.data.length-1;c>-1;c--)e._sumy+=e.data[c][1],e._sumx+=e.data[c][0]}},this.populatePlotData=function(e,i){this._plotData=[],this._stackData=[],e._stackData=[],e._plotData=[];var s={x:[],y:[]};if(this.stackSeries&&!e.disableStack){e._stack=!0;for(var r,a,n,o,h="x"===e._stackAxis?0:1,l=t.extend(!0,[],e.data),d=t.extend(!0,[],e.data),p=0;p<i;p++)for(var c=this.series[p].data,u=0;u<c.length;u++)r=null!=(n=c[u])[0]?n[0]:0,a=null!=n[1]?n[1]:0,l[u][0]+=r,l[u][1]+=a,o=h?a:r,e.data[u][h]*o>=0&&(d[u][h]+=o);for(var g=0;g<d.length;g++)s.x.push(d[g][0]),s.y.push(d[g][1]);this._plotData.push(d),this._stackData.push(l),e._stackData=l,e._plotData=d,e._plotValues=s}else{for(g=0;g<e.data.length;g++)s.x.push(e.data[g][0]),s.y.push(e.data[g][1]);this._stackData.push(e.data),this.series[i]._stackData=e.data,this._plotData.push(e.data),e._plotData=e.data,e._plotValues=s}for(i>0&&(e._prevPlotData=this.series[i-1]._plotData),e._sumy=0,e._sumx=0,g=e.data.length-1;g>-1;g--)e._sumy+=e.data[g][1],e._sumx+=e.data[g][0]},this.getNextSeriesColor=(l=0,d=this.seriesColors,function(){return l<d.length||(l=0),d[l++]}),this.parseOptions=function(e){for(var i=0;i<this.preParseOptionsHooks.hooks.length;i++)this.preParseOptionsHooks.hooks[i].call(this,e);for(i=0;i<t.jqplot.preParseOptionsHooks.length;i++)t.jqplot.preParseOptionsHooks[i].call(this,e);this.options=t.extend(!0,{},this.defaults,e);var s=this.options;if(this.animate=s.animate,this.animateReplot=s.animateReplot,this.stackSeries=s.stackSeries,t.isPlainObject(s.fillBetween)){i=0;for(var r,n=(p=["series1","series2","color","baseSeries","fill"]).length;i<n;i++)r=p[i],null!=s.fillBetween[r]&&(this.fillBetween[r]=s.fillBetween[r])}s.seriesColors&&(this.seriesColors=s.seriesColors),s.negativeSeriesColors&&(this.negativeSeriesColors=s.negativeSeriesColors),s.captureRightClick&&(this.captureRightClick=s.captureRightClick),this.defaultAxisStart=e&&null!=e.defaultAxisStart?e.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),t.extend(!0,this._gridPadding,s.gridPadding),this.sortData=null!=s.sortData?s.sortData:this.sortData;for(i=0;i<12;i++){var h=o[i];(g=this.axes[h])._options=t.extend(!0,{},s.axesDefaults,s.axes[h]),t.extend(!0,g,s.axesDefaults,s.axes[h]),g._plotWidth=this._width,g._plotHeight=this._height}var l=function(e,i,s){var r,a,n=[];if(i=i||"vertical",t.isArray(e[0]))t.extend(!0,n,e);else for(r=0,a=e.length;r<a;r++)"vertical"==i?n.push([s+r,e[r]]):n.push([e[r],s+r]);return n};this.series=[];for(i=0;i<this.data.length;i++){for(var d=t.extend(!0,{index:i},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[i],{rendererOptions:{animation:{show:this.animate}}}),p=new a(d),c=0;c<t.jqplot.preParseSeriesOptionsHooks.length;c++)t.jqplot.preParseSeriesOptionsHooks[c].call(p,this.options.seriesDefaults,this.options.series[i]);for(c=0;c<this.preParseSeriesOptionsHooks.hooks.length;c++)this.preParseSeriesOptionsHooks.hooks[c].call(p,this.options.seriesDefaults,this.options.series[i]);t.extend(!0,p,d);var u="vertical";switch(p.renderer===t.jqplot.BarRenderer&&p.rendererOptions&&"horizontal"==p.rendererOptions.barDirection&&(u="horizontal",p._stackAxis="x",p._primaryAxis="_yaxis"),p.data=l(this.data[i],u,this.defaultAxisStart),p.xaxis){case"xaxis":p._xaxis=this.axes.xaxis;break;case"x2axis":p._xaxis=this.axes.x2axis}p._yaxis=this.axes[p.yaxis],p._xaxis._series.push(p),p._yaxis._series.push(p),p.show?(p._xaxis.show=!0,p._yaxis.show=!0):(p._xaxis.scaleToHiddenSeries&&(p._xaxis.show=!0),p._yaxis.scaleToHiddenSeries&&(p._yaxis.show=!0)),p.label||(p.label="Series "+(i+1).toString()),this.series.push(p);for(c=0;c<t.jqplot.postParseSeriesOptionsHooks.length;c++)t.jqplot.postParseSeriesOptionsHooks[c].call(this.series[i],this.options.seriesDefaults,this.options.series[i]);for(c=0;c<this.postParseSeriesOptionsHooks.hooks.length;c++)this.postParseSeriesOptionsHooks.hooks[c].call(this.series[i],this.options.seriesDefaults,this.options.series[i])}t.extend(!0,this.grid,this.options.grid);for(i=0,n=o.length;i<n;i++){var g;h=o[i];null==(g=this.axes[h]).borderWidth&&(g.borderWidth=this.grid.borderWidth)}"string"==typeof this.options.title?this.title.text=this.options.title:"object"==typeof this.options.title&&t.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend);for(i=0;i<t.jqplot.postParseOptionsHooks.length;i++)t.jqplot.postParseOptionsHooks[i].call(this,e);for(i=0;i<this.postParseOptionsHooks.hooks.length;i++)this.postParseOptionsHooks.hooks[i].call(this,e)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(e){var i=e||{},s=i.data||null,r=!1!==i.clear,a=i.resetAxes||!1;delete i.data,delete i.clear,delete i.resetAxes,this.target.trigger("jqplotPreReplot"),r&&this.destroy(),s||!t.isEmptyObject(i)?this.reInitialize(s,i):this.quickInit(),a&&this.resetAxesScale(a,i.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(t){for(var e in t=null==t||t,this.target.trigger("jqplotPreRedraw"),t&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty()),this.axes)this.axes[e]._ticks=[];this.computePlotData(),this._sumy=0,this._sumx=0;for(var i=0,s=this.series.length;i<s;i++)this._sumy+=this.series[i]._sumy,this._sumx+=this.series[i]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){var e;for(this.target.trigger("jqplotPreDraw"),v=0,w=t.jqplot.preDrawHooks.length;v<w;v++)t.jqplot.preDrawHooks[v].call(this);for(v=0,w=this.preDrawHooks.length;v<w;v++)this.preDrawHooks.hooks[v].apply(this,this.preDrawSeriesHooks.args[v]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0});var i=this.legend.draw({},this),s={top:0,left:0,bottom:0,right:0};if("outsideGrid"==this.legend.placement){switch(this.target.append(i),this.legend.location){case"n":s.top+=this.legend.getHeight();break;case"s":s.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":s.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":s.left+=this.legend.getWidth();break;default:s.right+=this.legend.getWidth()}i=i.detach()}var r,a=this.axes;for(v=0;v<12;v++)r=o[v],this.target.append(a[r].draw(this.baseCanvas._ctx,this)),a[r].set();a.yaxis.show&&(s.left+=a.yaxis.getWidth());var n=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],h=[0,0,0,0,0,0,0,0],l=0;for(f=0;f<8;f++)a[n[f]].show&&(l+=a[n[f]].getWidth(),h[f]=l);if(s.right+=l,a.x2axis.show&&(s.top+=a.x2axis.getHeight()),this.title.show&&(s.top+=this.title.getHeight()),a.xaxis.show&&(s.bottom+=a.xaxis.getHeight()),this.options.gridDimensions&&t.isPlainObject(this.options.gridDimensions)){var d=parseInt(this.options.gridDimensions.width,10)||0,p=parseInt(this.options.gridDimensions.height,10)||0,c=(this._width-s.left-s.right-d)/2,u=(this._height-s.top-s.bottom-p)/2;u>=0&&c>=0&&(s.top+=u,s.bottom+=u,s.left+=c,s.right+=c)}var g=["top","bottom","left","right"];for(var f in g)null==this._gridPadding[g[f]]&&s[g[f]]>0?this._gridPadding[g[f]]=s[g[f]]:null==this._gridPadding[g[f]]&&(this._gridPadding[g[f]]=this._defaultGridPadding[g[f]]);var m=this._gridPadding;for("outsideGrid"===this.legend.placement&&(m={top:this.title.getHeight(),left:0,right:0,bottom:0},"s"===this.legend.location&&(m.left=this._gridPadding.left,m.right=this._gridPadding.right)),a.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-a.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),a.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-a.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),a.x2axis.pack({position:"absolute",top:this._gridPadding.top-a.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),v=8;v>0;v--)a[n[v-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-h[v-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var _=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-a.yMidAxis.getWidth()/2;a.yMidAxis.pack({position:"absolute",top:0,left:_,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw();var x=this.series,b=x.length;for(v=0,w=b;v<w;v++)e=this.seriesStack[v],this.target.append(x[e].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),x[e].shadowCanvas.setContext(),x[e].shadowCanvas._elem.data("seriesIndex",e);for(v=0,w=b;v<w;v++)e=this.seriesStack[v],this.target.append(x[e].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),x[e].canvas.setContext(),x[e].canvas._elem.data("seriesIndex",e);this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(i),this.legend.pack(m),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),b&&t(x[b-1].canvas._elem).after(i),this.legend.pack(m));for(var v=0,w=t.jqplot.eventListenerHooks.length;v<w;v++)this.eventCanvas._elem.bind(t.jqplot.eventListenerHooks[v][0],{plot:this},t.jqplot.eventListenerHooks[v][1]);for(v=0,w=this.eventListenerHooks.hooks.length;v<w;v++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[v][0],{plot:this},this.eventListenerHooks.hooks[v][1]);var k,y,j,D,M=this.fillBetween;M.fill&&M.series1!==M.series2&&M.series1<b&&M.series2<b&&"line"===x[M.series1]._type&&"line"===x[M.series2]._type&&this.doFillBetweenLines();for(v=0,w=t.jqplot.postDrawHooks.length;v<w;v++)t.jqplot.postDrawHooks[v].call(this);for(v=0,w=this.postDrawHooks.hooks.length;v<w;v++)this.postDrawHooks.hooks[v].apply(this,this.postDrawHooks.args[v]);for(this.target.is(":visible")&&(this._drawCount+=1),v=0,w=b;v<w;v++)j=".jqplot-point-label.jqplot-series-"+v,(y=(k=x[v]).renderer).animation&&y.animation._supported&&y.animation.show&&(this._drawCount<2||this.animateReplot)&&((D=this.target.find(j)).stop(!0,!0).hide(),k.canvas._elem.stop(!0,!0).hide(),k.shadowCanvas._elem.stop(!0,!0).hide(),k.canvas._elem.jqplotEffect("blind",{mode:"show",direction:y.animation.direction},y.animation.speed),k.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:y.animation.direction},y.animation.speed),D.fadeIn(.8*y.animation.speed));D=null,this.target.trigger("jqplotPostDraw",[this])}},h.prototype.doFillBetweenLines=function(){var t=this.fillBetween,e=t.series1,i=t.series2,s=e<i?e:i,r=i>e?i:e,a=this.series[s],n=this.series[r];if(n.renderer.smooth)var o=n.renderer._smoothedData.slice(0).reverse();else o=n.gridData.slice(0).reverse();if(a.renderer.smooth)var h=a.renderer._smoothedData.concat(o);else h=a.gridData.concat(o);var l=null!==t.color?t.color:this.series[e].fillColor,d=null!==t.baseSeries?t.baseSeries:s,p={fillStyle:l,fill:!0,closePath:!0};this.series[d].renderer.shapeRenderer.draw(a.shadowCanvas._ctx,h,p)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(e){var i=c(e),s=e.data.plot,r=u(i.gridPos,s),a=t.Event("jqplotClick");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,s])},this.onDblClick=function(e){var i=c(e),s=e.data.plot,r=u(i.gridPos,s),a=t.Event("jqplotDblClick");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,s])},this.onMouseDown=function(e){var i=c(e),s=e.data.plot,r=u(i.gridPos,s),a=t.Event("jqplotMouseDown");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,s])},this.onMouseUp=function(e){var i=c(e),s=t.Event("jqplotMouseUp");s.pageX=e.pageX,s.pageY=e.pageY,t(this).trigger(s,[i.gridPos,i.dataPos,null,e.data.plot])},this.onRightClick=function(e){var i,s=c(e),r=e.data.plot,a=u(s.gridPos,r);r.captureRightClick&&(3==e.which?((i=t.Event("jqplotRightClick")).pageX=e.pageX,i.pageY=e.pageY,t(this).trigger(i,[s.gridPos,s.dataPos,a,r])):((i=t.Event("jqplotMouseUp")).pageX=e.pageX,i.pageY=e.pageY,t(this).trigger(i,[s.gridPos,s.dataPos,a,r])))},this.onMouseMove=function(e){var i=c(e),s=e.data.plot,r=u(i.gridPos,s),a=t.Event("jqplotMouseMove");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,s])},this.onMouseEnter=function(e){var i=c(e),s=e.data.plot,r=t.Event("jqplotMouseEnter");r.pageX=e.pageX,r.pageY=e.pageY,r.relatedTarget=e.relatedTarget,t(this).trigger(r,[i.gridPos,i.dataPos,null,s])},this.onMouseLeave=function(e){var i=c(e),s=e.data.plot,r=t.Event("jqplotMouseLeave");r.pageX=e.pageX,r.pageY=e.pageY,r.relatedTarget=e.relatedTarget,t(this).trigger(r,[i.gridPos,i.dataPos,null,s])},this.drawSeries=function(i,s){var r,a,n;if(s="number"==typeof i&&null==s?i:s,i="object"==typeof i?i:{},s!=e)(n=(a=this.series[s]).shadowCanvas._ctx).clearRect(0,0,n.canvas.width,n.canvas.height),a.drawShadow(n,i,this),(n=a.canvas._ctx).clearRect(0,0,n.canvas.width,n.canvas.height),a.draw(n,i,this),a.renderer.constructor==t.jqplot.BezierCurveRenderer&&s<this.series.length-1&&this.drawSeries(s+1);else for(r=0;r<this.series.length;r++)(n=(a=this.series[r]).shadowCanvas._ctx).clearRect(0,0,n.canvas.width,n.canvas.height),a.drawShadow(n,i,this),(n=a.canvas._ctx).clearRect(0,0,n.canvas.width,n.canvas.height),a.draw(n,i,this);i=s=r=a=n=null},this.moveSeriesToFront=function(e){e=parseInt(e,10);var i=t.inArray(e,this.seriesStack);if(-1!=i)if(i!=this.seriesStack.length-1){var s=this.seriesStack[this.seriesStack.length-1],r=this.series[e].canvas._elem.detach(),a=this.series[e].shadowCanvas._elem.detach();this.series[s].shadowCanvas._elem.after(a),this.series[s].canvas._elem.after(r),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.push(e)}else this.previousSeriesStack=this.seriesStack.slice(0)},this.moveSeriesToBack=function(e){e=parseInt(e,10);var i=t.inArray(e,this.seriesStack);if(0!=i&&-1!=i){var s=this.seriesStack[0],r=this.series[e].canvas._elem.detach(),a=this.series[e].shadowCanvas._elem.detach();this.series[s].shadowCanvas._elem.before(a),this.series[s].canvas._elem.before(r),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.unshift(e)}},this.restorePreviousSeriesOrder=function(){var t,e,i,s,r,a;if(this.seriesStack!=this.previousSeriesStack){for(t=1;t<this.previousSeriesStack.length;t++)r=this.previousSeriesStack[t],a=this.previousSeriesStack[t-1],e=this.series[r].canvas._elem.detach(),i=this.series[r].shadowCanvas._elem.detach(),this.series[a].shadowCanvas._elem.after(i),this.series[a].canvas._elem.after(e);s=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=s}},this.restoreOriginalSeriesOrder=function(){var t,e,i,s=[];for(t=0;t<this.series.length;t++)s.push(t);if(this.seriesStack!=s)for(this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=s,t=1;t<this.seriesStack.length;t++)e=this.series[t].canvas._elem.detach(),i=this.series[t].shadowCanvas._elem.detach(),this.series[t-1].shadowCanvas._elem.after(i),this.series[t-1].canvas._elem.after(e)},this.activateTheme=function(t){this.themeEngine.activate(this,t)}}t.jqplot.computeHighlightColors=function(e){var i;if(t.isArray(e)){i=[];for(var s=0;s<e.length;s++){for(var r=(o=[(n=t.jqplot.getColorComponents(e[s]))[0],n[1],n[2]])[0]+o[1]+o[2],a=0;a<3;a++)o[a]=r>660?.85*o[a]:.73*o[a]+90,o[a]=parseInt(o[a],10),o[a]>255||o[a];o[3]=.3+.35*n[3],i.push("rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")")}}else{var n,o;for(r=(o=[(n=t.jqplot.getColorComponents(e))[0],n[1],n[2]])[0]+o[1]+o[2],a=0;a<3;a++)o[a]=r>660?.85*o[a]:.73*o[a]+90,o[a]=parseInt(o[a],10),o[a]>255||o[a];o[3]=.3+.35*n[3],i="rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"}return i},t.jqplot.ColorGenerator=function(e){e=e||t.jqplot.config.defaultColors;var i=0;this.next=function(){return i<e.length||(i=0),e[i++]},this.previous=function(){return i>0?e[i--]:(i=e.length-1,e[i])},this.get=function(t){var i=t-e.length*Math.floor(t/e.length);return e[i]},this.setColors=function(t){e=t},this.reset=function(){i=0},this.getIndex=function(){return i},this.setIndex=function(t){i=t}},t.jqplot.hex2rgb=function(t,e){var i;return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),i="rgba("+parseInt(t.slice(0,2),16)+", "+parseInt(t.slice(2,4),16)+", "+parseInt(t.slice(4,6),16),e&&(i+=", "+e),i+=")"},t.jqplot.rgb2hex=function(t){for(var e=t.match(/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/),i="#",s=1;s<4;s++){var r;-1!=e[s].search(/%/)?1==(r=parseInt(255*e[s]/100,10).toString(16)).length&&(r="0"+r):1==(r=parseInt(e[s],10).toString(16)).length&&(r="0"+r),i+=r}return i},t.jqplot.normalize2rgb=function(e,i){if(-1!=e.search(/^ *rgba?\(/))return e;if(-1!=e.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/))return t.jqplot.hex2rgb(e,i);throw"invalid color spec"},t.jqplot.getColorComponents=function(e){e=t.jqplot.colorKeywordMap[e]||e;for(var i=t.jqplot.normalize2rgb(e).match(/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/),s=[],r=1;r<4;r++)-1!=i[r].search(/%/)?s[r-1]=parseInt(255*i[r]/100,10):s[r-1]=parseInt(i[r],10);return s[3]=parseFloat(i[4])?parseFloat(i[4]):1,s},t.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},t.jqplot.AxisLabelRenderer=function(e){t.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,t.extend(!0,this,e)},t.jqplot.AxisLabelRenderer.prototype=new t.jqplot.ElemContainer,t.jqplot.AxisLabelRenderer.prototype.constructor=t.jqplot.AxisLabelRenderer,t.jqplot.AxisLabelRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.AxisLabelRenderer.prototype.draw=function(e,i){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},t.jqplot.AxisLabelRenderer.prototype.pack=function(){},t.jqplot.AxisTickRenderer=function(e){t.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=t.jqplot.DefaultTickFormatter,this.prefix="",this.suffix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,t.extend(!0,this,e)},t.jqplot.AxisTickRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.AxisTickRenderer.prototype=new t.jqplot.ElemContainer,t.jqplot.AxisTickRenderer.prototype.constructor=t.jqplot.AxisTickRenderer,t.jqplot.AxisTickRenderer.prototype.setTick=function(t,e,i){return this.value=t,this.axis=e,i&&(this.isMinorTick=!0),this},t.jqplot.AxisTickRenderer.prototype.draw=function(){null===this.label&&(this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix);var e={position:"absolute"};for(var i in Number(this.label)&&(e.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(e),this._styles)this._elem.css(i,this._styles[i]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},t.jqplot.DefaultTickFormatter=function(e,i){return"number"==typeof i?(e||(e=t.jqplot.config.defaultTickFormatString),t.jqplot.sprintf(e,i)):String(i)},t.jqplot.PercentTickFormatter=function(e,i){return"number"==typeof i?(i*=100,e||(e=t.jqplot.config.defaultTickFormatString),t.jqplot.sprintf(e,i)):String(i)},t.jqplot.AxisTickRenderer.prototype.pack=function(){},t.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new t.jqplot.ShadowRenderer},t.jqplot.CanvasGridRenderer.prototype.init=function(e){this._ctx,t.extend(!0,this,e);var i={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(i)},t.jqplot.CanvasGridRenderer.prototype.createElement=function(i){var s;this._elem&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==e&&(s=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(s),s=null),this._elem.emptyForce(),this._elem=null),s=i.canvasManager.getCanvas();var r=this._plotDimensions.width,a=this._plotDimensions.height;return s.width=r,s.height=a,this._elem=t(s),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),s=i.canvasManager.initCanvas(s),this._top=this._offsets.top,this._bottom=a-this._offsets.bottom,this._left=this._offsets.left,this._right=r-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,s=null,this._elem},t.jqplot.CanvasGridRenderer.prototype.draw=function(){this._ctx=this._elem.get(0).getContext("2d");var e,i,s,r,a=this._ctx,n=this._axes;a.save(),a.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),a.fillStyle=this.backgroundColor||this.background,a.fillRect(this._left,this._top,this._width,this._height),a.save(),a.lineJoin="miter",a.lineCap="butt",a.lineWidth=this.gridLineWidth,a.strokeStyle=this.gridLineColor;for(var o=["xaxis","yaxis","x2axis","y2axis"],h=4;h>0;h--){var l=o[h-1],d=(f=(g=n[l])._ticks).length;if(g.show){if(g.drawBaseline){var p={};switch(null!==g.baselineWidth&&(p.lineWidth=g.baselineWidth),null!==g.baselineColor&&(p.strokeStyle=g.baselineColor),l){case"xaxis":w(this._left,this._bottom,this._right,this._bottom,p);break;case"yaxis":w(this._left,this._bottom,this._left,this._top,p);break;case"x2axis":w(this._left,this._bottom,this._right,this._bottom,p);break;case"y2axis":w(this._right,this._bottom,this._right,this._top,p)}}for(var c=d;c>0;c--){if((v=f[c-1]).show){var u=Math.round(g.u2p(v.value))+.5;switch(l){case"xaxis":if(v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&g.drawMajorGridlines||v.isMinorTick&&g.drawMinorGridlines)&&w(u,this._top,u,this._bottom),v.showMark&&v.mark&&(!v.isMinorTick&&g.drawMajorTickMarks||v.isMinorTick&&g.drawMinorTickMarks)){s=v.markSize,r=v.mark;u=Math.round(g.u2p(v.value))+.5;switch(r){case"outside":e=this._bottom,i=this._bottom+s;break;case"inside":e=this._bottom-s,i=this._bottom;break;case"cross":e=this._bottom-s,i=this._bottom+s;break;default:e=this._bottom,i=this._bottom+s}this.shadow&&this.renderer.shadowRenderer.draw(a,[[u,e],[u,i]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),w(u,e,u,i)}break;case"yaxis":if(v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&g.drawMajorGridlines||v.isMinorTick&&g.drawMinorGridlines)&&w(this._right,u,this._left,u),v.showMark&&v.mark&&(!v.isMinorTick&&g.drawMajorTickMarks||v.isMinorTick&&g.drawMinorTickMarks)){s=v.markSize,r=v.mark;u=Math.round(g.u2p(v.value))+.5;switch(r){case"outside":e=this._left-s,i=this._left;break;case"inside":e=this._left,i=this._left+s;break;case"cross":e=this._left-s,i=this._left+s;break;default:e=this._left-s,i=this._left}this.shadow&&this.renderer.shadowRenderer.draw(a,[[e,u],[i,u]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),w(e,u,i,u,{strokeStyle:g.borderColor})}break;case"x2axis":if(v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&g.drawMajorGridlines||v.isMinorTick&&g.drawMinorGridlines)&&w(u,this._bottom,u,this._top),v.showMark&&v.mark&&(!v.isMinorTick&&g.drawMajorTickMarks||v.isMinorTick&&g.drawMinorTickMarks)){s=v.markSize,r=v.mark;u=Math.round(g.u2p(v.value))+.5;switch(r){case"outside":e=this._top-s,i=this._top;break;case"inside":e=this._top,i=this._top+s;break;case"cross":e=this._top-s,i=this._top+s;break;default:e=this._top-s,i=this._top}this.shadow&&this.renderer.shadowRenderer.draw(a,[[u,e],[u,i]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),w(u,e,u,i)}break;case"y2axis":if(v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&g.drawMajorGridlines||v.isMinorTick&&g.drawMinorGridlines)&&w(this._left,u,this._right,u),v.showMark&&v.mark&&(!v.isMinorTick&&g.drawMajorTickMarks||v.isMinorTick&&g.drawMinorTickMarks)){s=v.markSize,r=v.mark;u=Math.round(g.u2p(v.value))+.5;switch(r){case"outside":e=this._right,i=this._right+s;break;case"inside":e=this._right-s,i=this._right;break;case"cross":e=this._right-s,i=this._right+s;break;default:e=this._right,i=this._right+s}this.shadow&&this.renderer.shadowRenderer.draw(a,[[e,u],[i,u]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),w(e,u,i,u,{strokeStyle:g.borderColor})}}}}v=null}g=null,f=null}o=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(h=7;h>0;h--){var g,f=(g=n[o[h-1]])._ticks;if(g.show){var m=f[g.numberTicks-1],_=f[0],x=g.getLeft(),b=[[x,m.getTop()+m.getHeight()/2],[x,_.getTop()+_.getHeight()/2+1]];this.shadow&&this.renderer.shadowRenderer.draw(a,b,{lineCap:"butt",fill:!1,closePath:!1}),w(b[0][0],b[0][1],b[1][0],b[1][1],{lineCap:"butt",strokeStyle:g.borderColor,lineWidth:g.borderWidth});for(c=f.length;c>0;c--){var v;s=(v=f[c-1]).markSize,r=v.mark;u=Math.round(g.u2p(v.value))+.5;if(v.showMark&&v.mark){switch(r){case"outside":e=x,i=x+s;break;case"inside":e=x-s,i=x;break;case"cross":e=x-s,i=x+s;break;default:e=x,i=x+s}b=[[e,u],[i,u]],this.shadow&&this.renderer.shadowRenderer.draw(a,b,{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),w(e,u,i,u,{strokeStyle:g.borderColor})}v=null}_=null}g=null,f=null}function w(e,i,s,r,n){a.save(),null!=(n=n||{}).lineWidth&&0==n.lineWidth||(t.extend(!0,a,n),a.beginPath(),a.moveTo(e,i),a.lineTo(s,r),a.stroke(),a.restore())}if(a.restore(),this.shadow){b=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(a,b)}0!=this.borderWidth&&this.drawBorder&&(w(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),w(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),w(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),w(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth})),a.restore(),a=null,n=null},t.jqplot.DivTitleRenderer=function(){},t.jqplot.DivTitleRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.DivTitleRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);this.renderer;var e=document.createElement("div");if(this._elem=t(e),this._elem.addClass("jqplot-title"),this.text){if(this.text){var i;this.color?i=this.color:this.textColor&&(i=this.textColor);var s={position:"absolute",top:"0px",left:"0px"};this._plotWidth&&(s.width=this._plotWidth+"px"),this.fontSize&&(s.fontSize=this.fontSize),"string"==typeof this.textAlign?s.textAlign=this.textAlign:s.textAlign="center",i&&(s.color=i),this.paddingBottom&&(s.paddingBottom=this.paddingBottom),this.fontFamily&&(s.fontFamily=this.fontFamily),this._elem.css(s),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)}}else this.show=!1,this._elem.height(0),this._elem.width(0);return e=null,this._elem},t.jqplot.DivTitleRenderer.prototype.pack=function(){};function l(t,e){return(3.4182054+e)*Math.pow(t,-.3534992)}function d(t){return(Math.exp(2*t)-1)/(Math.exp(2*t)+1)}function p(t){var e=this.renderer.smooth,i=this.canvas.getWidth(),s=this._xaxis.series_p2u,r=this._yaxis.series_p2u,a=null,n=t.length/i,o=[],h=[];a=isNaN(parseFloat(e))?l(n,.5):parseFloat(e);for(var d,p,c,u,g=[],f=[],m=0,_=t.length;m<_;m++)g.push(t[m][1]),f.push(t[m][0]);function x(t,e){return t-e==0?Math.pow(10,10):t-e}for(var b=t.length-1,v=1,w=t.length;v<w;v++){for(var k=[],y=[],j=0;j<2;j++){0==(m=v-1+j)||m==b?k[j]=Math.pow(10,10):g[m+1]-g[m]==0||g[m]-g[m-1]==0||(f[m+1]-f[m])/(g[m+1]-g[m])+(f[m]-f[m-1])/(g[m]-g[m-1])==0||(g[m+1]-g[m])*(g[m]-g[m-1])<0?k[j]=0:k[j]=2/(x(f[m+1],f[m])/(g[m+1]-g[m])+x(f[m],f[m-1])/(g[m]-g[m-1]))}1==v?k[0]=1.5*(g[1]-g[0])/x(f[1],f[0])-k[1]/2:v==b&&(k[1]=1.5*(g[b]-g[b-1])/x(f[b],f[b-1])-k[0]/2),y[0]=-2*(k[1]+2*k[0])/x(f[v],f[v-1])+6*(g[v]-g[v-1])/Math.pow(x(f[v],f[v-1]),2),y[1]=2*(2*k[1]+k[0])/x(f[v],f[v-1])-6*(g[v]-g[v-1])/Math.pow(x(f[v],f[v-1]),2),u=1/6*(y[1]-y[0])/x(f[v],f[v-1]),c=.5*(f[v]*y[0]-f[v-1]*y[1])/x(f[v],f[v-1]),p=(g[v]-g[v-1]-c*(Math.pow(f[v],2)-Math.pow(f[v-1],2))-u*(Math.pow(f[v],3)-Math.pow(f[v-1],3)))/x(f[v],f[v-1]),d=g[v-1]-p*f[v-1]-c*Math.pow(f[v-1],2)-u*Math.pow(f[v-1],3);var D,M,q=(f[v]-f[v-1])/a;for(j=0,_=a;j<_;j++)D=[],M=f[v-1]+j*q,D.push(M),D.push(d+p*M+c*Math.pow(M,2)+u*Math.pow(M,3)),o.push(D),h.push([s(D[0]),r(D[1])])}return o.push(t[m]),h.push([s(t[m][0]),r(t[m][1])]),[o,h]}function c(t){var e,i,s,r,a,n,o,h,p,c,u,g,f,m,_,x=this.renderer.smooth,b=this.renderer.tension,v=this.canvas.getWidth(),w=this._xaxis.series_p2u,k=this._yaxis.series_p2u,y=null,j=null,D=null,M=null,q=t.length/v,S=[],C=[];y=isNaN(parseFloat(x))?l(q,.5):parseFloat(x),isNaN(parseFloat(b))||(b=parseFloat(b));for(var T=0,R=t.length-1;T<R;T++)for(null===b?(.3,.6,2.5,D=(m=.15)*d(Math.abs((t[T+1][1]-t[T][1])/(t[T+1][0]-t[T][0]))/2.5+(_=-1.4))-m*d(_)+.3,T>0&&(M=Math.abs((t[T][1]-t[T-1][1])/(t[T][0]-t[T-1][0]))),j=(D+(m*d(M/2.5+_)-m*d(_)+.3))/2):j=b,e=0;e<y;e++)s=(1+2*(i=e/y))*Math.pow(1-i,2),r=i*Math.pow(1-i,2),a=Math.pow(i,2)*(3-2*i),n=Math.pow(i,2)*(i-1),t[T-1]?(o=j*(t[T+1][0]-t[T-1][0]),h=j*(t[T+1][1]-t[T-1][1])):(o=j*(t[T+1][0]-t[T][0]),h=j*(t[T+1][1]-t[T][1])),t[T+2]?(p=j*(t[T+2][0]-t[T][0]),c=j*(t[T+2][1]-t[T][1])):(p=j*(t[T+1][0]-t[T][0]),c=j*(t[T+1][1]-t[T][1])),f=[u=s*t[T][0]+a*t[T+1][0]+r*o+n*p,g=s*t[T][1]+a*t[T+1][1]+r*h+n*c],S.push(f),C.push([w(u),k(g)]);return S.push(t[R]),C.push([w(t[R][0]),k(t[R][1])]),[S,C]}function u(e,i,s){for(var r=0;r<this.series.length;r++)this.series[r].renderer.constructor==t.jqplot.LineRenderer&&this.series[r].highlightMouseOver&&(this.series[r].highlightMouseDown=!1)}function g(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},(function(t){m(t.data.plot)}))}function f(t,e,i,s){var r=t.series[e],a=t.plugins.lineRenderer.highlightCanvas;a._ctx.clearRect(0,0,a._ctx.canvas.width,a._ctx.canvas.height),r._highlightedPoint=i,t.plugins.lineRenderer.highlightedSeriesIndex=e;var n={fillStyle:r.highlightColor};"line"===r.type&&r.renderer.bands.show&&(n.fill=!0,n.closePath=!0),r.renderer.shapeRenderer.draw(a._ctx,s,n),a=null}function m(t){var e=t.plugins.lineRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);for(var i=0;i<t.series.length;i++)t.series[i]._highlightedPoint=null;t.plugins.lineRenderer.highlightedSeriesIndex=null,t.target.trigger("jqplotDataUnhighlight"),e=null}function _(t,e,i,s,r){if(s){var a=[s.seriesIndex,s.pointIndex,s.data],n=jQuery.Event("jqplotDataMouseOver");if(n.pageX=t.pageX,n.pageY=t.pageY,r.target.trigger(n,a),r.series[a[0]].highlightMouseOver&&a[0]!=r.plugins.lineRenderer.highlightedSeriesIndex){var o=jQuery.Event("jqplotDataHighlight");o.which=t.which,o.pageX=t.pageX,o.pageY=t.pageY,r.target.trigger(o,a),f(r,s.seriesIndex,s.pointIndex,s.points)}}else null==s&&m(r)}function x(t,e,i,s,r){if(s){var a=[s.seriesIndex,s.pointIndex,s.data];if(r.series[a[0]].highlightMouseDown&&a[0]!=r.plugins.lineRenderer.highlightedSeriesIndex){var n=jQuery.Event("jqplotDataHighlight");n.which=t.which,n.pageX=t.pageX,n.pageY=t.pageY,r.target.trigger(n,a),f(r,s.seriesIndex,s.pointIndex,s.points)}}else null==s&&m(r)}function b(t,e,i,s,r){var a=r.plugins.lineRenderer.highlightedSeriesIndex;null!=a&&r.series[a].highlightMouseDown&&m(r)}function v(t,e,i,s,r){if(s){var a=[s.seriesIndex,s.pointIndex,s.data],n=jQuery.Event("jqplotDataClick");n.which=t.which,n.pageX=t.pageX,n.pageY=t.pageY,r.target.trigger(n,a)}}function w(t,e,i,s,r){if(s){var a=[s.seriesIndex,s.pointIndex,s.data],n=r.plugins.lineRenderer.highlightedSeriesIndex;null!=n&&r.series[n].highlightMouseDown&&m(r);var o=jQuery.Event("jqplotDataRightClick");o.which=t.which,o.pageX=t.pageX,o.pageY=t.pageY,r.target.trigger(o,a)}}function k(t){var e;if((t=Math.abs(t))>=10)e="%d";else if(t>1)e=t===parseInt(t,10)?"%d":"%.1f";else{e="%."+-Math.floor(Math.log(t)/Math.LN10)+"f"}return e}t.jqplot.LinePattern=function(e,i){var s={dotted:[.1,t.jqplot.config.dotGapLength],dashed:[t.jqplot.config.dashLength,t.jqplot.config.gapLength],solid:null};if("string"==typeof i)if("."===i[0]||"-"===i[0]){var r=i;i=[];for(var a=0,n=r.length;a<n;a++){if("."===r[a])i.push(.1);else{if("-"!==r[a])continue;i.push(t.jqplot.config.dashLength)}i.push(t.jqplot.config.gapLength)}}else i=s[i];if(!i||!i.length)return e;var o=0,h=i[0],l=0,d=0,p=0,c=0,u=function(t,s){var r=e.lineWidth,a=t-l,n=s-d,p=Math.sqrt(a*a+n*n);if(p>0&&r>0)for(a/=p,n/=p;;){var c=r*h;if(!(c<p)){l=t,d=s,0==(1&o)?e.lineTo(l,d):e.moveTo(l,d),h-=p/r;break}l+=c*a,d+=c*n,0==(1&o)?e.lineTo(l,d):e.moveTo(l,d),p-=c,++o>=i.length&&(o=0),h=i[o]}};return{moveTo:function(t,i){e.moveTo(t,i),l=t,d=i,p=t,c=i},lineTo:u,beginPath:function(){e.beginPath()},closePath:function(){u(p,c)}}},t.jqplot.LineRenderer=function(){this.shapeRenderer=new t.jqplot.ShapeRenderer,this.shadowRenderer=new t.jqplot.ShadowRenderer},t.jqplot.LineRenderer.prototype.init=function(e,i){e=e||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"};var s={highlightMouseOver:e.highlightMouseOver,highlightMouseDown:e.highlightMouseDown,highlightColor:e.highlightColor};delete e.highlightMouseOver,delete e.highlightMouseDown,delete e.highlightColor,t.extend(!0,this.renderer,e),this.renderer.options=e,(this.renderer.bandData.length>1&&(!e.bands||null==e.bands.show)||e.bands&&null==e.bands.show&&null!=e.bands.interval)&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,i),this._stack&&(this.renderer.smooth=!1);var r={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(r);var a=e.shadowOffset;null==a&&(a=this.lineWidth>2.5?1.25*(1+.6*(Math.atan(this.lineWidth/2.5)/.785398163-1)):1.25*Math.atan(this.lineWidth/2.5)/.785398163);var n={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:a,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};if(this.renderer.shadowRenderer.init(n),this._areaPoints=[],this._boundingBox=[[],[]],!this.isTrendline&&this.fill||this.renderer.bands.show){if(this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,s.highlightMouseDown&&null==s.highlightMouseOver&&(s.highlightMouseOver=!1),t.extend(!0,this,{highlightMouseOver:s.highlightMouseOver,highlightMouseDown:s.highlightMouseDown,highlightColor:s.highlightColor}),!this.highlightColor){var o=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=t.jqplot.computeHighlightColors(o)}this.highlighter&&(this.highlighter.show=!1)}!this.isTrendline&&i&&(i.plugins.lineRenderer={},i.postInitHooks.addOnce(u),i.postDrawHooks.addOnce(g),i.eventListenerHooks.addOnce("jqplotMouseMove",_),i.eventListenerHooks.addOnce("jqplotMouseDown",x),i.eventListenerHooks.addOnce("jqplotMouseUp",b),i.eventListenerHooks.addOnce("jqplotClick",v),i.eventListenerHooks.addOnce("jqplotRightClick",w))},t.jqplot.LineRenderer.prototype.initBands=function(e,i){var s=e.bandData||[],r=this.renderer.bands;r.hiData=[],r.lowData=[];var a=this.data;if(r._max=null,r._min=null,2==s.length)if(t.isArray(s[0][0])){for(var n,o=0,h=0,l=0,d=s[0].length;l<d;l++)(null!=(n=s[0][l])[1]&&n[1]>r._max||null==r._max)&&(r._max=n[1]),(null!=n[1]&&n[1]<r._min||null==r._min)&&(r._min=n[1]);for(l=0,d=s[1].length;l<d;l++)(null!=(n=s[1][l])[1]&&n[1]>r._max||null==r._max)&&(r._max=n[1],h=1),(null!=n[1]&&n[1]<r._min||null==r._min)&&(r._min=n[1],o=1);h===o&&(r.show=!1),r.hiData=s[h],r.lowData=s[o]}else if(s[0].length===a.length&&s[1].length===a.length){var p=(c=s[0][0]>s[1][0]?0:1)?0:1;for(l=0,d=a.length;l<d;l++)r.hiData.push([a[l][0],s[c][l]]),r.lowData.push([a[l][0],s[p][l]])}else r.show=!1;else if(s.length>2&&!t.isArray(s[0][0])){var c;for(p=(c=s[0][0]>s[0][1]?0:1)?0:1,l=0,d=s.length;l<d;l++)r.hiData.push([a[l][0],s[l][c]]),r.lowData.push([a[l][0],s[l][p]])}else{var u=r.interval,g=null,f=null,m=null,_=null;if(t.isArray(u)?(g=u[0],f=u[1]):g=u,isNaN(g)?"%"===g.charAt(g.length-1)&&(m="multiply",g=parseFloat(g)/100+1):(g=parseFloat(g),m="add"),null!==f&&isNaN(f)?"%"===f.charAt(f.length-1)&&(_="multiply",f=parseFloat(f)/100+1):null!==f&&(f=parseFloat(f),_="add"),null!==g){if(null===f&&(f=-g,"multiply"===(_=m)&&(f+=2)),g<f){var x=g;g=f,f=x,x=m,m=_,_=x}for(l=0,d=a.length;l<d;l++){switch(m){case"add":r.hiData.push([a[l][0],a[l][1]+g]);break;case"multiply":r.hiData.push([a[l][0],a[l][1]*g])}switch(_){case"add":r.lowData.push([a[l][0],a[l][1]+f]);break;case"multiply":r.lowData.push([a[l][0],a[l][1]*f])}}}else r.show=!1}var b=r.hiData,v=r.lowData;for(l=0,d=b.length;l<d;l++)(null!=b[l][1]&&b[l][1]>r._max||null==r._max)&&(r._max=b[l][1]);for(l=0,d=v.length;l<d;l++)(null!=v[l][1]&&v[l][1]<r._min||null==r._min)&&(r._min=v[l][1]);if(null===r.fillColor){var w=t.jqplot.getColorComponents(r.color);w[3]=.5*w[3],r.fillColor="rgba("+w[0]+", "+w[1]+", "+w[2]+", "+w[3]+")"}},t.jqplot.LineRenderer.prototype.setGridData=function(t){var e=this._xaxis.series_u2p,i=this._yaxis.series_u2p,s=this._plotData,r=this._prevPlotData;this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var a,n=this.renderer.bands,o=!1,h=0,l=s.length;h<l;h++)null!=s[h][0]&&null!=s[h][1]?this.gridData.push([e.call(this._xaxis,s[h][0]),i.call(this._yaxis,s[h][1])]):null==s[h][0]?(o=!0,this.gridData.push([null,i.call(this._yaxis,s[h][1])])):null==s[h][1]&&(o=!0,this.gridData.push([e.call(this._xaxis,s[h][0]),null])),null!=r[h]&&null!=r[h][0]&&null!=r[h][1]?this._prevGridData.push([e.call(this._xaxis,r[h][0]),i.call(this._yaxis,r[h][1])]):null!=r[h]&&null==r[h][0]?this._prevGridData.push([null,i.call(this._yaxis,r[h][1])]):null!=r[h]&&null!=r[h][0]&&null==r[h][1]&&this._prevGridData.push([e.call(this._xaxis,r[h][0]),null]);if(o&&(this.renderer.smooth=!1,"line"===this._type&&(n.show=!1)),"line"===this._type&&n.show){for(h=0,l=n.hiData.length;h<l;h++)this.renderer._hiBandGridData.push([e.call(this._xaxis,n.hiData[h][0]),i.call(this._yaxis,n.hiData[h][1])]);for(h=0,l=n.lowData.length;h<l;h++)this.renderer._lowBandGridData.push([e.call(this._xaxis,n.lowData[h][0]),i.call(this._yaxis,n.lowData[h][1])])}"line"===this._type&&this.renderer.smooth&&this.gridData.length>2&&(this.renderer.constrainSmoothing?(a=p.call(this,this.gridData),this.renderer._smoothedData=a[0],this.renderer._smoothedPlotData=a[1],n.show&&(a=p.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=a[0],a=p.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=a[0]),a=null):(a=c.call(this,this.gridData),this.renderer._smoothedData=a[0],this.renderer._smoothedPlotData=a[1],n.show&&(a=c.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=a[0],a=c.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=a[0]),a=null))},t.jqplot.LineRenderer.prototype.makeGridData=function(t,e){var i=this._xaxis.series_u2p,s=this._yaxis.series_u2p,r=[];this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var a,n=this.renderer.bands,o=!1,h=0;h<t.length;h++)null!=t[h][0]&&null!=t[h][1]?r.push([i.call(this._xaxis,t[h][0]),s.call(this._yaxis,t[h][1])]):null==t[h][0]?(o=!0,r.push([null,s.call(this._yaxis,t[h][1])])):null==t[h][1]&&(o=!0,r.push([i.call(this._xaxis,t[h][0]),null]));if(o&&(this.renderer.smooth=!1,"line"===this._type&&(n.show=!1)),"line"===this._type&&n.show){h=0;for(var l=n.hiData.length;h<l;h++)this.renderer._hiBandGridData.push([i.call(this._xaxis,n.hiData[h][0]),s.call(this._yaxis,n.hiData[h][1])]);for(h=0,l=n.lowData.length;h<l;h++)this.renderer._lowBandGridData.push([i.call(this._xaxis,n.lowData[h][0]),s.call(this._yaxis,n.lowData[h][1])])}"line"===this._type&&this.renderer.smooth&&r.length>2&&(this.renderer.constrainSmoothing?(a=p.call(this,r),this.renderer._smoothedData=a[0],this.renderer._smoothedPlotData=a[1],n.show&&(a=p.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=a[0],a=p.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=a[0]),a=null):(a=c.call(this,r),this.renderer._smoothedData=a[0],this.renderer._smoothedPlotData=a[1],n.show&&(a=c.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=a[0],a=c.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=a[0]),a=null));return r},t.jqplot.LineRenderer.prototype.draw=function(i,s,r,a){var n,o,h,l=t.extend(!0,{},r),d=l.shadow!=e?l.shadow:this.shadow,p=l.showLine!=e?l.showLine:this.showLine,c=l.fill!=e?l.fill:this.fill,u=l.fillAndStroke!=e?l.fillAndStroke:this.fillAndStroke;if(i.save(),s.length){if(p)if(c){if(this.fillToZero){var g=this.negativeColor;this.useNegativeColors||(g=l.fillStyle);var f=l.fillStyle;if(u)var m=s.slice(0);if(0!=this.index&&this._stack){for(v=(k=this._prevGridData).length;v>0;v--)s.push(k[v-1]);d&&this.renderer.shadowRenderer.draw(i,s,l),this._areaPoints=s,this.renderer.shapeRenderer.draw(i,s,l)}else{var _=[],x=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var b=this._yaxis.series_u2p(this.fillToValue);this._xaxis.series_u2p(this.fillToValue);if(l.closePath=!0,"y"==this.fillAxis){_.push([s[0][0],b]),this._areaPoints.push([s[0][0],b]);for(var v=0;v<s.length-1;v++)if(_.push(s[v]),this._areaPoints.push(s[v]),x[v][1]*x[v+1][1]<0){x[v][1]<0?(!0,l.fillStyle=g):(!1,l.fillStyle=f);var w=s[v][0]+(s[v+1][0]-s[v][0])*(b-s[v][1])/(s[v+1][1]-s[v][1]);_.push([w,b]),this._areaPoints.push([w,b]),d&&this.renderer.shadowRenderer.draw(i,_,l),this.renderer.shapeRenderer.draw(i,_,l),_=[[w,b]]}x[s.length-1][1]<0?(!0,l.fillStyle=g):(!1,l.fillStyle=f),_.push(s[s.length-1]),this._areaPoints.push(s[s.length-1]),_.push([s[s.length-1][0],b]),this._areaPoints.push([s[s.length-1][0],b])}d&&this.renderer.shadowRenderer.draw(i,_,l),this.renderer.shapeRenderer.draw(i,_,l)}}else{if(u)m=s.slice(0);if(0!=this.index&&this._stack){var k;for(v=(k=this._prevGridData).length;v>0;v--)s.push(k[v-1])}else{var y=i.canvas.height;s.unshift([s[0][0],y]);var j=s.length;s.push([s[j-1][0],y])}this._areaPoints=s,d&&this.renderer.shadowRenderer.draw(i,s,l),this.renderer.shapeRenderer.draw(i,s,l)}if(u){var D=t.extend(!0,{},l,{fill:!1,closePath:!1});if(this.renderer.shapeRenderer.draw(i,m,D),this.markerRenderer.show)for(this.renderer.smooth&&(m=this.gridData),v=0;v<m.length;v++)this.markerRenderer.draw(m[v][0],m[v][1],i,l.markerOptions)}}else{if(this.renderer.bands.show){var M,q=t.extend(!0,{},l);this.renderer.bands.showLines&&(M=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(i,M,l),M=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(i,M,q)),this.renderer.bands.fill&&(M=this.renderer.smooth?this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=M,q.closePath=!0,q.fill=!0,q.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(i,M,q))}d&&this.renderer.shadowRenderer.draw(i,s,l),this.renderer.shapeRenderer.draw(i,s,l)}var S=o=n=h=null;for(v=0;v<this._areaPoints.length;v++){var C=this._areaPoints[v];(S>C[0]||null==S)&&(S=C[0]),(h<C[1]||null==h)&&(h=C[1]),(o<C[0]||null==o)&&(o=C[0]),(n>C[1]||null==n)&&(n=C[1])}if("line"===this.type&&this.renderer.bands.show&&(h=this._yaxis.series_u2p(this.renderer.bands._min),n=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[S,h],[o,n]],this.markerRenderer.show&&!c)for(this.renderer.smooth&&(s=this.gridData),v=0;v<s.length;v++)null!=s[v][0]&&null!=s[v][1]&&this.markerRenderer.draw(s[v][0],s[v][1],i,l.markerOptions)}i.restore()},t.jqplot.LineRenderer.prototype.drawShadow=function(t,e,i){},t.jqplot.LinearAxisRenderer=function(){},t.jqplot.LinearAxisRenderer.prototype.init=function(e){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,t.extend(!0,this,e),this.breakPoints&&(t.isArray(this.breakPoints)?(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])&&(this.breakPoints=null):this.breakPoints=null),null!=this.numberTicks&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},t.jqplot.LinearAxisRenderer.prototype.draw=function(e,i){if(this.show){this.renderer.createTicks.call(this,i);if(this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var s=this._label.draw(e,i);s.appendTo(this._elem),s=null}for(var r,a=this._ticks,n=0;n<a.length;n++)(r=a[n]).show&&r.showLabel&&(!r.isMinorTick||this.showMinorTicks)&&this._elem.append(r.draw(e,i));r=null,a=null}return this._elem},t.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},t.jqplot.LinearAxisRenderer.prototype.set=function(){var e,i=0,s=0,r=0,a=null!=this._label&&this._label.show;if(this.show){for(var n,o=this._ticks,h=0;h<o.length;h++)(n=o[h])._breakTick||!n.show||!n.showLabel||n.isMinorTick&&!this.showMinorTicks||(e="xaxis"==this.name||"x2axis"==this.name?n._elem.outerHeight(!0):n._elem.outerWidth(!0))>i&&(i=e);n=null,o=null,a&&(s=this._label._elem.outerWidth(!0),r=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(i+=r,this._elem.css({height:i+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(i+=r,this._elem.css({height:i+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(i+=s,this._elem.css({width:i+"px",left:"0px",top:"0px"}),a&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",s+"px")):(i+=s,this._elem.css({width:i+"px",right:"0px",top:"0px"}),a&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",s+"px"))}},t.jqplot.LinearAxisRenderer.prototype.createTicks=function(e){this._ticks;var i,s,r,a=this.ticks,n=this.name,o=this._dataBounds,h="x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height,l=this.min,d=this.max,p=this.numberTicks,c=this.tickInterval;if(this._scalefact=(Math.max(h,31)-30)/300,a.length){for(R=0;R<a.length;R++){var u=a[R],g=new this.tickRenderer(this.tickOptions);t.isArray(u)?(g.value=u[0],this.breakPoints?u[0]==this.breakPoints[0]?(g.label=this.breakTickLabel,g._breakTick=!0,g.showGridline=!1,g.showMark=!1):u[0]>this.breakPoints[0]&&u[0]<=this.breakPoints[1]?(g.show=!1,g.showGridline=!1,g.label=u[1]):g.label=u[1]:g.label=u[1],g.setTick(u[0],this.name),this._ticks.push(g)):t.isPlainObject(u)?(t.extend(!0,g,u),g.axis=this.name,this._ticks.push(g)):(g.value=u,this.breakPoints&&(u==this.breakPoints[0]?(g.label=this.breakTickLabel,g._breakTick=!0,g.showGridline=!1,g.showMark=!1):u>this.breakPoints[0]&&u<=this.breakPoints[1]&&(g.show=!1,g.showGridline=!1)),g.setTick(u,this.name),this._ticks.push(g))}this.numberTicks=a.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{h="xaxis"==n||"x2axis"==n?this._plotDimensions.width:this._plotDimensions.height;var f=this.numberTicks;this.alignTicks&&("x2axis"===this.name&&e.axes.xaxis.show?f=e.axes.xaxis.numberTicks:"y"===this.name.charAt(0)&&"yaxis"!==this.name&&"yMidAxis"!==this.name&&e.axes.yaxis.show&&(f=e.axes.yaxis.numberTicks)),i=null!=this.min?this.min:o.min;var m,_,x,b=(s=null!=this.max?this.max:o.max)-i;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),null==this.min||null==this.max&&null==this.tickInterval&&!this.autoscale){this.forceTickAt0&&(i>0&&(i=0),s<0&&(s=0)),this.forceTickAt100&&(i>100&&(i=100),s<100&&(s=100));var v=!1,w=!1;null!=this.min?v=!0:null!=this.max&&(w=!0);var k=t.jqplot.LinearTickGenerator(i,s,this._scalefact,f,v,w),y=null!=this.min?i:i+b*(this.padMin-1),j=null!=this.max?s:s-b*(this.padMax-1);(i<y||s>j)&&(y=null!=this.min?i:i-b*(this.padMin-1),j=null!=this.max?s:s+b*(this.padMax-1),k=t.jqplot.LinearTickGenerator(y,j,this._scalefact,f,v,w)),this.min=k[0],this.max=k[1],this.numberTicks=k[2],this._autoFormatString=k[3],this.tickInterval=k[4]}else{if(i==s){var D=.05;i>0&&(D=Math.max(Math.log(i)/Math.LN10,.05)),i-=D,s+=D}if(this.autoscale&&null==this.min&&null==this.max){for(var M,q,S,C=!1,T=!1,R=0;R<this._series.length;R++){var P=this._series[R],I="x"==P.fillAxis?P._xaxis.name:P._yaxis.name;if(this.name==I){for(var H=P._plotValues[P.fillAxis],O=H[0],A=H[0],L=1;L<H.length;L++)H[L]<O?O=H[L]:H[L]>A&&(A=H[L]);var F=(A-O)/A;P.renderer.constructor==t.jqplot.BarRenderer?O>=0&&(P.fillToZero||F>.1)?C=!0:(C=!1,T=!!(P.fill&&P.fillToZero&&O<0&&A>0)):P.fill?O>=0&&(P.fillToZero||F>.1)?C=!0:O<0&&A>0&&P.fillToZero?(C=!1,T=!0):(C=!1,T=!1):O<0&&(C=!1)}}if(C)this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing),this.min=0,l=0,(q=s/(this.numberTicks-1))/(G=Math.pow(10,Math.abs(Math.floor(Math.log(q)/Math.LN10))))==parseInt(q/G,10)&&(q+=G),this.tickInterval=Math.ceil(q/G)*G,this.max=this.tickInterval*(this.numberTicks-1);else if(T){this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing);var E=Math.ceil(Math.abs(i)/b*(this.numberTicks-1)),W=this.numberTicks-1-E;q=Math.max(Math.abs(i/E),Math.abs(s/W)),G=Math.pow(10,Math.abs(Math.floor(Math.log(q)/Math.LN10))),this.tickInterval=Math.ceil(q/G)*G,this.max=this.tickInterval*W,this.min=-this.tickInterval*E}else null==this.numberTicks&&(this.tickInterval?this.numberTicks=3+Math.ceil(b/this.tickInterval):this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing)),null==this.tickInterval?(G=(q=b/(this.numberTicks-1))<1?Math.pow(10,Math.abs(Math.floor(Math.log(q)/Math.LN10))):1,this.tickInterval=Math.ceil(q*G*this.pad)/G):G=1/this.tickInterval,S=((M=this.tickInterval*(this.numberTicks-1))-b)/2,null==this.min&&(this.min=Math.floor(G*(i-S))/G),null==this.max&&(this.max=this.min+M);if((N=t.jqplot.getSignificantFigures(this.tickInterval)).digitsLeft>=N.significantDigits)B="%d";else{var G=Math.max(0,5-N.digitsLeft);B="%."+(G=Math.min(G,N.digitsRight))+"f"}this._autoFormatString=B}else{var N,B;if(m=null!=this.min?this.min:i-b*(this.padMin-1),b=(_=null!=this.max?this.max:s+b*(this.padMax-1))-m,null==this.numberTicks&&(null!=this.tickInterval?this.numberTicks=Math.ceil((_-m)/this.tickInterval)+1:this.numberTicks=h>100?parseInt(3+(h-100)/75,10):2),null==this.tickInterval&&(this.tickInterval=b/(this.numberTicks-1)),null==this.max&&(_=m+this.tickInterval*(this.numberTicks-1)),null==this.min&&(m=_-this.tickInterval*(this.numberTicks-1)),(N=t.jqplot.getSignificantFigures(this.tickInterval)).digitsLeft>=N.significantDigits)B="%d";else{G=Math.max(0,5-N.digitsLeft);B="%."+(G=Math.min(G,N.digitsRight))+"f"}this._autoFormatString=B,this.min=m,this.max=_}if(this.renderer.constructor==t.jqplot.LinearAxisRenderer&&""==this._autoFormatString){b=this.max-this.min;var z,Y=0;if(z=(z=new this.tickRenderer(this.tickOptions).formatString||t.jqplot.config.defaultTickFormatString).match(t.jqplot.sprintf.regex)[0]){if(z.search(/[fFeEgGpP]/)>-1){var $=z.match(/\%\.(\d{0,})?[eEfFgGpP]/);Y=$?parseInt($[1],10):6}else z.search(/[di]/)>-1&&(Y=0);var J=Math.pow(10,-Y);if(this.tickInterval<J)if(null==p&&null==c)if(this.tickInterval=J,null==d&&null==l)this.min=Math.floor(this._dataBounds.min/J)*J,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/J)*J,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval),X=(X=(this.max-this.min)/this.tickInterval).toFixed(11),X=Math.ceil(X),this.numberTicks=X+1;else if(null==d){X=(X=(this._dataBounds.max-this.min)/this.tickInterval).toFixed(11),this.numberTicks=Math.ceil(X)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(null==l){var X;X=(X=(this.max-this._dataBounds.min)/this.tickInterval).toFixed(11),this.numberTicks=Math.ceil(X)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)}else this.numberTicks=Math.ceil((d-l)/this.tickInterval)+1,this.min=Math.floor(l*Math.pow(10,Y))/Math.pow(10,Y),this.max=Math.ceil(d*Math.pow(10,Y))/Math.pow(10,Y),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}this._overrideFormatString&&""!=this._autoFormatString&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString);for(R=0;R<this.numberTicks;R++){if(r=this.min+R*this.tickInterval,(g=new this.tickRenderer(this.tickOptions)).setTick(r,this.name),this._ticks.push(g),R<this.numberTicks-1)for(L=0;L<this.minorTicks;L++)r+=this.tickInterval/(this.minorTicks+1),x=t.extend(!0,{},this.tickOptions,{name:this.name,value:r,label:"",isMinorTick:!0}),g=new this.tickRenderer(x),this._ticks.push(g);g=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval)},t.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(e){if(t.isArray(e)&&e.length==this._ticks.length){for(var i,s=0;s<e.length;s++)(i=this._ticks[s]).value=e[s],i.label=i.formatter(i.formatString,e[s]),i.label=i.prefix+i.label,i._elem.html(i.label);i=null,this.min=t.jqplot.arrayMin(e),this.max=t.jqplot.arrayMax(e),this.pack()}},t.jqplot.LinearAxisRenderer.prototype.pack=function(e,i){e=e||{},i=i||this._offsets;var s=this._ticks,r=this.max,a=this.min,n=i.max,o=i.min,h=null!=this._label&&this._label.show;for(var l in e)this._elem.css(l,e[l]);this._offsets=i;var d=n-o,p=r-a;if(this.breakPoints?(p=p-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(t){return(t-o)*p/d+a},this.u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t<=this.breakPoints[0]?(t-a)*d/p+o:(t-this.breakPoints[1]+this.breakPoints[0]-a)*d/p+o},"x"==this.name.charAt(0)?(this.series_u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t<=this.breakPoints[0]?(t-a)*d/p:(t-this.breakPoints[1]+this.breakPoints[0]-a)*d/p},this.series_p2u=function(t){return t*p/d+a}):(this.series_u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t>=this.breakPoints[1]?(t-r)*d/p:(t+this.breakPoints[1]-this.breakPoints[0]-r)*d/p},this.series_p2u=function(t){return t*p/d+r})):(this.p2u=function(t){return(t-o)*p/d+a},this.u2p=function(t){return(t-a)*d/p+o},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(t-a)*d/p},this.series_p2u=function(t){return t*p/d+a}):(this.series_u2p=function(t){return(t-r)*d/p},this.series_p2u=function(t){return t*p/d+r})),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(var c=0;c<s.length;c++){if((m=s[c]).show&&m.showLabel){if(m.constructor==t.jqplot.CanvasAxisTickRenderer&&m.angle){var u="xaxis"==this.name?1:-1;switch(m.labelPosition){case"auto":_=u*m.angle<0?-m.getWidth()+m._textRenderer.height*Math.sin(-m._textRenderer.angle)/2:-m._textRenderer.height*Math.sin(m._textRenderer.angle)/2;break;case"end":_=-m.getWidth()+m._textRenderer.height*Math.sin(-m._textRenderer.angle)/2;break;case"start":_=-m._textRenderer.height*Math.sin(m._textRenderer.angle)/2;break;case"middle":default:_=-m.getWidth()/2+m._textRenderer.height*Math.sin(-m._textRenderer.angle)/2}}else _=-m.getWidth()/2;var g=this.u2p(m.value)+_+"px";m._elem.css("left",g),m.pack()}}if(h){var f=this._label._elem.outerWidth(!0);this._label._elem.css("left",o+d/2-f/2+"px"),"xaxis"==this.name?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(c=0;c<s.length;c++){var m;if((m=s[c]).show&&m.showLabel){var _;if(m.constructor==t.jqplot.CanvasAxisTickRenderer&&m.angle){u="yaxis"==this.name?1:-1;switch(m.labelPosition){case"auto":case"end":_=u*m.angle<0?-m._textRenderer.height*Math.cos(-m._textRenderer.angle)/2:-m.getHeight()+m._textRenderer.height*Math.cos(m._textRenderer.angle)/2;break;case"start":_=m.angle>0?-m._textRenderer.height*Math.cos(-m._textRenderer.angle)/2:-m.getHeight()+m._textRenderer.height*Math.cos(m._textRenderer.angle)/2;break;case"middle":default:_=-m.getHeight()/2}}else _=-m.getHeight()/2;g=this.u2p(m.value)+_+"px";m._elem.css("top",g),m.pack()}}if(h){var x=this._label._elem.outerHeight(!0);this._label._elem.css("top",n-d/2-x/2+"px"),"yaxis"==this.name?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}s=null};function y(t,e){var i=t/((e=e||7)-1),s=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/s;return s<1?r>5?10*s:r>2?5*s:r>1?2*s:s:r>5?10*s:r>4?5*s:r>3?4*s:r>2?3*s:r>1?2*s:s}function j(t,e){e=e||1;var i=Math.floor(Math.log(t)/Math.LN10),s=Math.pow(10,i),r=t/s;return((r/=e)<=.38?.1:r<=1.6?.2:r<=4?.5:r<=8?1:r<=16?2:5)*s}function D(t,e){return t-e}function M(t){if(null==t||"object"!=typeof t)return t;var e=new t.constructor;for(var i in t)e[i]=M(t[i]);return e}function q(t,e){if(null!=e&&"object"==typeof e)for(var i in e)"highlightColors"==i&&(t[i]=M(e[i])),null!=e[i]&&"object"==typeof e[i]?(t.hasOwnProperty(i)||(t[i]={}),q(t[i],e[i])):t[i]=e[i]}t.jqplot.LinearTickGenerator=function(e,i,s,r,a,n){if(a=null!==a&&a,n=null!==n&&!a&&n,e===i&&(i=i?0:1),i<e){var o=i;i=e,e=o}var h=[],l=j(i-e,s=s||1),d=t.jqplot.getSignificantFigures;if(null==r)if(a||n){if(a){h[0]=e,h[2]=Math.ceil((i-e)/l+1),h[1]=e+(h[2]-1)*l;var p=d(e).digitsRight,c=d(l).digitsRight;h[3]=p<c?k(l):"%."+p+"f",h[4]=l}else if(n){h[1]=i,h[2]=Math.ceil((i-e)/l+1),h[0]=i-(h[2]-1)*l;var u=d(i).digitsRight;c=d(l).digitsRight;h[3]=u<c?k(l):"%."+u+"f",h[4]=l}}else h[0]=Math.floor(e/l)*l,h[1]=Math.ceil(i/l)*l,h[2]=Math.round((h[1]-h[0])/l+1),h[3]=k(l),h[4]=l;else{var g=[];if(g[0]=Math.floor(e/l)*l,g[1]=Math.ceil(i/l)*l,g[2]=Math.round((g[1]-g[0])/l+1),g[3]=k(l),g[4]=l,g[2]===r)h=g;else{var f=y(g[1]-g[0],r);h[0]=g[0],h[2]=r,h[4]=f,h[3]=k(f),h[1]=h[0]+(h[2]-1)*h[4]}}return h},t.jqplot.LinearTickGenerator.bestLinearInterval=j,t.jqplot.LinearTickGenerator.bestInterval=y,t.jqplot.LinearTickGenerator.bestLinearComponents=function(t,e){var i,s=Math.floor(Math.log(t)/Math.LN10),r=Math.pow(10,s),a=t/r;return[(i=(a/=e)<=.38?.1:a<=1.6?.2:a<=4?.5:a<=8?1:a<=16?2:5)*r,i,r]},t.jqplot.LinearTickGenerator.bestConstrainedInterval=function(e,i,s){for(var r,a,n,o,h,l,d=Math.floor(s/2),p=Math.ceil(1.5*s),c=Number.MAX_VALUE,u=i-e,g=t.jqplot.getSignificantFigures,f=0,m=p-d+1;f<m;f++)a=g(r=u/((h=d+f)-1)),(r=Math.abs(s-h)+a.digitsRight)<c?(c=r,n=h,l=a.digitsRight):r===c&&a.digitsRight<l&&(n=h,l=a.digitsRight);return[e,i,n,0===(o=Math.max(l,Math.max(g(e).digitsRight,g(i).digitsRight)))?"%d":"%."+o+"f",r=u/(n-1)]},t.jqplot.MarkerRenderer=function(e){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new t.jqplot.ShadowRenderer,this.shapeRenderer=new t.jqplot.ShapeRenderer,t.extend(!0,this,e)},t.jqplot.MarkerRenderer.prototype.init=function(e){t.extend(!0,this,e);var i={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0};-1!=this.style.indexOf("filled")&&(i.fill=!0),-1!=this.style.indexOf("ircle")&&(i.isarc=!0,i.closePath=!1),this.shadowRenderer.init(i);var s={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0};-1!=this.style.indexOf("filled")&&(s.fill=!0),-1!=this.style.indexOf("ircle")&&(s.isarc=!0,s.closePath=!1),this.shapeRenderer.init(s)},t.jqplot.MarkerRenderer.prototype.drawDiamond=function(t,e,i,s,r){var a=this.size/2/1.2,n=this.size/2*1.2,o=[[t-a,e],[t,e+n],[t+a,e],[t,e-n]];this.shadow&&this.shadowRenderer.draw(i,o),this.shapeRenderer.draw(i,o,r)},t.jqplot.MarkerRenderer.prototype.drawPlus=function(e,i,s,r,a){var n=this.size/2*1,o=this.size/2*1,h=[[e,i-o],[e,i+o]],l=[[e+n,i],[e-n,i]],d=t.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(s,h,{closePath:!1}),this.shadowRenderer.draw(s,l,{closePath:!1})),this.shapeRenderer.draw(s,h,d),this.shapeRenderer.draw(s,l,d)},t.jqplot.MarkerRenderer.prototype.drawX=function(e,i,s,r,a){var n=this.size/2*1,o=this.size/2*1,h=t.extend(!0,{},this.options,{closePath:!1}),l=[[e-n,i-o],[e+n,i+o]],d=[[e-n,i+o],[e+n,i-o]];this.shadow&&(this.shadowRenderer.draw(s,l,{closePath:!1}),this.shadowRenderer.draw(s,d,{closePath:!1})),this.shapeRenderer.draw(s,l,h),this.shapeRenderer.draw(s,d,h)},t.jqplot.MarkerRenderer.prototype.drawDash=function(t,e,i,s,r){var a=this.size/2*1,n=(this.size,[[t-a,e],[t+a,e]]);this.shadow&&this.shadowRenderer.draw(i,n),this.shapeRenderer.draw(i,n,r)},t.jqplot.MarkerRenderer.prototype.drawLine=function(t,e,i,s,r){var a=[t,e];this.shadow&&this.shadowRenderer.draw(i,a),this.shapeRenderer.draw(i,a,r)},t.jqplot.MarkerRenderer.prototype.drawSquare=function(t,e,i,s,r){var a=this.size/2/1,n=this.size/2*1,o=[[t-a,e-n],[t-a,e+n],[t+a,e+n],[t+a,e-n]];this.shadow&&this.shadowRenderer.draw(i,o),this.shapeRenderer.draw(i,o,r)},t.jqplot.MarkerRenderer.prototype.drawCircle=function(t,e,i,s,r){var a=[t,e,this.size/2,0,2*Math.PI,!0];this.shadow&&this.shadowRenderer.draw(i,a),this.shapeRenderer.draw(i,a,r)},t.jqplot.MarkerRenderer.prototype.draw=function(t,e,i,s){if(null==(s=s||{}).show||0!=s.show)switch(s.color&&!s.fillStyle&&(s.fillStyle=s.color),s.color&&!s.strokeStyle&&(s.strokeStyle=s.color),this.style){case"diamond":this.drawDiamond(t,e,i,!1,s);break;case"filledDiamond":this.drawDiamond(t,e,i,!0,s);break;case"circle":this.drawCircle(t,e,i,!1,s);break;case"filledCircle":this.drawCircle(t,e,i,!0,s);break;case"square":this.drawSquare(t,e,i,!1,s);break;case"filledSquare":this.drawSquare(t,e,i,!0,s);break;case"x":this.drawX(t,e,i,!0,s);break;case"plus":this.drawPlus(t,e,i,!0,s);break;case"dash":this.drawDash(t,e,i,!0,s);break;case"line":this.drawLine(t,e,i,!1,s);break;default:this.drawDiamond(t,e,i,!1,s)}},t.jqplot.ShadowRenderer=function(e){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,t.extend(!0,this,e)},t.jqplot.ShadowRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.ShadowRenderer.prototype.draw=function(e,i,s){e.save();var r=null!=s?s:{},a=null!=r.fill?r.fill:this.fill,n=null!=r.fillRect?r.fillRect:this.fillRect,o=null!=r.closePath?r.closePath:this.closePath,h=null!=r.offset?r.offset:this.offset,l=null!=r.alpha?r.alpha:this.alpha,d=null!=r.depth?r.depth:this.depth,p=null!=r.isarc?r.isarc:this.isarc,c=null!=r.linePattern?r.linePattern:this.linePattern;e.lineWidth=null!=r.lineWidth?r.lineWidth:this.lineWidth,e.lineJoin=null!=r.lineJoin?r.lineJoin:this.lineJoin,e.lineCap=null!=r.lineCap?r.lineCap:this.lineCap,e.strokeStyle=r.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+l+")",e.fillStyle=r.fillStyle||this.fillStyle||"rgba(0,0,0,"+l+")";for(var u=0;u<d;u++){var g=t.jqplot.LinePattern(e,c);if(e.translate(Math.cos(this.angle*Math.PI/180)*h,Math.sin(this.angle*Math.PI/180)*h),g.beginPath(),p)e.arc(i[0],i[1],i[2],i[3],i[4],!0);else if(n)n&&e.fillRect(i[0],i[1],i[2],i[3]);else if(i&&i.length)for(var f=!0,m=0;m<i.length;m++)null!=i[m][0]&&null!=i[m][1]?f?(g.moveTo(i[m][0],i[m][1]),f=!1):g.lineTo(i[m][0],i[m][1]):f=!0;o&&g.closePath(),a?e.fill():e.stroke()}e.restore()},t.jqplot.ShapeRenderer=function(e){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",t.extend(!0,this,e)},t.jqplot.ShapeRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.ShapeRenderer.prototype.draw=function(e,i,s){e.save();var r=null!=s?s:{},a=null!=r.fill?r.fill:this.fill,n=null!=r.closePath?r.closePath:this.closePath,o=null!=r.fillRect?r.fillRect:this.fillRect,h=null!=r.strokeRect?r.strokeRect:this.strokeRect,l=null!=r.clearRect?r.clearRect:this.clearRect,d=null!=r.isarc?r.isarc:this.isarc,p=null!=r.linePattern?r.linePattern:this.linePattern,c=t.jqplot.LinePattern(e,p);if(e.lineWidth=r.lineWidth||this.lineWidth,e.lineJoin=r.lineJoin||this.lineJoin,e.lineCap=r.lineCap||this.lineCap,e.strokeStyle=r.strokeStyle||r.color||this.strokeStyle,e.fillStyle=r.fillStyle||this.fillStyle,e.beginPath(),d)return e.arc(i[0],i[1],i[2],i[3],i[4],!0),n&&e.closePath(),a?e.fill():e.stroke(),void e.restore();if(l)return e.clearRect(i[0],i[1],i[2],i[3]),void e.restore();if(o||h){if(o&&e.fillRect(i[0],i[1],i[2],i[3]),h)return e.strokeRect(i[0],i[1],i[2],i[3]),void e.restore()}else if(i&&i.length){for(var u=!0,g=0;g<i.length;g++)null!=i[g][0]&&null!=i[g][1]?u?(c.moveTo(i[g][0],i[g][1]),u=!1):c.lineTo(i[g][0],i[g][1]):u=!0;n&&c.closePath(),a?e.fill():e.stroke()}e.restore()},t.jqplot.TableLegendRenderer=function(){},t.jqplot.TableLegendRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.TableLegendRenderer.prototype.addrow=function(e,i,s,r){var a,n,o,h,l,d=s?this.rowSpacing+"px":"0px";o=document.createElement("tr"),(a=t(o)).addClass("jqplot-table-legend"),o=null,r?a.prependTo(this._elem):a.appendTo(this._elem),this.showSwatches&&((n=t(document.createElement("td"))).addClass("jqplot-table-legend jqplot-table-legend-swatch"),n.css({textAlign:"center",paddingTop:d}),(h=t(document.createElement("div"))).addClass("jqplot-table-legend-swatch-outline"),(l=t(document.createElement("div"))).addClass("jqplot-table-legend-swatch"),l.css({backgroundColor:i,borderColor:i}),a.append(n.append(h.append(l)))),this.showLabels&&((n=t(document.createElement("td"))).addClass("jqplot-table-legend jqplot-table-legend-label"),n.css("paddingTop",d),a.append(n),this.escapeHtml?n.text(e):n.html(e)),n=null,h=null,l=null,a=null,o=null},t.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var e=this._series,i=document.createElement("table");this._elem=t(i),this._elem.addClass("jqplot-table-legend");var s={position:"absolute"};this.background&&(s.background=this.background),this.border&&(s.border=this.border),this.fontSize&&(s.fontSize=this.fontSize),this.fontFamily&&(s.fontFamily=this.fontFamily),this.textColor&&(s.textColor=this.textColor),null!=this.marginTop&&(s.marginTop=this.marginTop),null!=this.marginBottom&&(s.marginBottom=this.marginBottom),null!=this.marginLeft&&(s.marginLeft=this.marginLeft),null!=this.marginRight&&(s.marginRight=this.marginRight);for(var r,a=!1,n=!1,o=0;o<e.length;o++)if(((r=e[o])._stack||r.renderer.constructor==t.jqplot.BezierCurveRenderer)&&(n=!0),r.show&&r.showLabel){var h=this.labels[o]||r.label.toString();if(h){var l=r.color;n&&o<e.length-1?a=!0:n&&o==e.length-1&&(a=!1),this.renderer.addrow.call(this,h,l,a,n),a=!0}for(var d=0;d<t.jqplot.addLegendRowHooks.length;d++){var p=t.jqplot.addLegendRowHooks[d].call(this,r);p&&(this.renderer.addrow.call(this,p.label,p.color,a),a=!0)}h=null}}return this._elem},t.jqplot.TableLegendRenderer.prototype.pack=function(t){if(this.show)if("insideGrid"==this.placement)switch(this.location){case"nw":var e=t.left,i=t.top;this._elem.css("left",e),this._elem.css("top",i);break;case"n":e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.top;this._elem.css("left",e),this._elem.css("top",i);break;case"ne":e=t.right,i=t.top;this._elem.css({right:e,top:i});break;case"e":e=t.right,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:e,top:i});break;case"se":e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i});break;case"s":e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"sw":e=t.left,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"w":e=t.left,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:e,top:i});break;default:e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i})}else if("outside"==this.placement)switch(this.location){case"nw":e=this._plotDimensions.width-t.left,i=t.top;this._elem.css("right",e),this._elem.css("top",i);break;case"n":e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.top;this._elem.css("left",e),this._elem.css("bottom",i);break;case"ne":e=this._plotDimensions.width-t.right,i=t.top;this._elem.css({left:e,top:i});break;case"e":e=this._plotDimensions.width-t.right,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:e,top:i});break;case"se":e=this._plotDimensions.width-t.right,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"s":e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.bottom;this._elem.css({left:e,top:i});break;case"sw":e=this._plotDimensions.width-t.left,i=t.bottom;this._elem.css({right:e,bottom:i});break;case"w":e=this._plotDimensions.width-t.left,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:e,top:i});break;default:e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i})}else switch(this.location){case"nw":this._elem.css({left:0,top:t.top});break;case"n":e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2;this._elem.css({left:e,top:t.top});break;case"ne":this._elem.css({right:0,top:t.top});break;case"e":i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:t.right,top:i});break;case"se":this._elem.css({right:t.right,bottom:t.bottom});break;case"s":e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2;this._elem.css({left:e,bottom:t.bottom});break;case"sw":this._elem.css({left:t.left,bottom:t.bottom});break;case"w":i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:t.left,top:i});break;default:this._elem.css({right:t.right,bottom:t.bottom})}},t.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},t.jqplot.ThemeEngine.prototype.init=function(){var e,i,s,r,a,n,o=new t.jqplot.Theme({_name:"Default"});for(e in o.target)o.target[e]="textColor"==e?this.target.css("color"):this.target.css(e);if(this.title.show&&this.title._elem)for(e in o.title)o.title[e]="textColor"==e?this.title._elem.css("color"):this.title._elem.css(e);for(e in o.grid)o.grid[e]=this.grid[e];if(null==o.grid.backgroundColor&&null!=this.grid.background&&(o.grid.backgroundColor=this.grid.background),this.legend.show&&this.legend._elem)for(e in o.legend)o.legend[e]="textColor"==e?this.legend._elem.css("color"):this.legend._elem.css(e);for(i=0;i<this.series.length;i++)for(e in(r=this.series[i]).renderer.constructor==t.jqplot.LineRenderer?o.series.push(new R):r.renderer.constructor==t.jqplot.BarRenderer?o.series.push(new I):r.renderer.constructor==t.jqplot.PieRenderer?o.series.push(new H):r.renderer.constructor==t.jqplot.DonutRenderer?o.series.push(new O):r.renderer.constructor==t.jqplot.FunnelRenderer?o.series.push(new A):r.renderer.constructor==t.jqplot.MeterGaugeRenderer?o.series.push(new L):o.series.push({}),o.series[i])o.series[i][e]=r[e];for(e in this.axes){if(n=this.axes[e],(a=o.axes[e]=new S).borderColor=n.borderColor,a.borderWidth=n.borderWidth,n._ticks&&n._ticks[0])for(s in a.ticks)n._ticks[0].hasOwnProperty(s)?a.ticks[s]=n._ticks[0][s]:n._ticks[0]._elem&&(a.ticks[s]=n._ticks[0]._elem.css(s));if(n._label&&n._label.show)for(s in a.label)n._label[s]?a.label[s]=n._label[s]:n._label._elem&&(a.label[s]="textColor"==s?n._label._elem.css("color"):n._label._elem.css(s))}this.themeEngine._add(o),this.themeEngine.activeTheme=this.themeEngine.themes[o._name]},t.jqplot.ThemeEngine.prototype.get=function(t){return t?this.themes[t]:this.activeTheme},t.jqplot.ThemeEngine.prototype.getThemeNames=function(){var t=[];for(var e in this.themes)t.push(e);return t.sort(D)},t.jqplot.ThemeEngine.prototype.getThemes=function(){var t=[],e=[];for(var i in this.themes)t.push(i);t.sort(D);for(var s=0;s<t.length;s++)e.push(this.themes[t[s]]);return e},t.jqplot.ThemeEngine.prototype.activate=function(e,i){var s=!1;if(!i&&this.activeTheme&&this.activeTheme._name&&(i=this.activeTheme._name),!this.themes.hasOwnProperty(i))throw new Error("No theme of that name");var r=this.themes[i];this.activeTheme=r;var a,n,o=["xaxis","x2axis","yaxis","y2axis"];for(n=0;n<o.length;n++){var h=o[n];null!=r.axesStyles.borderColor&&(e.axes[h].borderColor=r.axesStyles.borderColor),null!=r.axesStyles.borderWidth&&(e.axes[h].borderWidth=r.axesStyles.borderWidth)}for(var l in e.axes){var d=e.axes[l];if(d.show){var p=r.axes[l]||{},c=r.axesStyles,u=t.jqplot.extend(!0,{},p,c);if(a=null!=r.axesStyles.borderColor?r.axesStyles.borderColor:u.borderColor,null!=u.borderColor&&(d.borderColor=u.borderColor,s=!0),a=null!=r.axesStyles.borderWidth?r.axesStyles.borderWidth:u.borderWidth,null!=u.borderWidth&&(d.borderWidth=u.borderWidth,s=!0),d._ticks&&d._ticks[0])for(var g in u.ticks)null!=(a=u.ticks[g])&&(d.tickOptions[g]=a,d._ticks=[],s=!0);if(d._label&&d._label.show)for(var g in u.label)null!=(a=u.label[g])&&(d.labelOptions[g]=a,s=!0)}}for(var f in r.grid)null!=r.grid[f]&&(e.grid[f]=r.grid[f]);if(s||e.grid.draw(),e.legend.show)for(f in r.legend)null!=r.legend[f]&&(e.legend[f]=r.legend[f]);if(e.title.show)for(f in r.title)null!=r.title[f]&&(e.title[f]=r.title[f]);for(n=0;n<r.series.length;n++){var m={};for(f in r.series[n])null!=(a=null!=r.seriesStyles[f]?r.seriesStyles[f]:r.series[n][f])&&(m[f]=a,"color"==f?(e.series[n].renderer.shapeRenderer.fillStyle=a,e.series[n].renderer.shapeRenderer.strokeStyle=a,e.series[n][f]=a):"lineWidth"==f||"linePattern"==f?(e.series[n].renderer.shapeRenderer[f]=a,e.series[n][f]=a):"markerOptions"==f?(q(e.series[n].markerOptions,a),q(e.series[n].markerRenderer,a)):e.series[n][f]=a,s=!0)}for(f in s&&(e.target.empty(),e.draw()),r.target)null!=r.target[f]&&e.target.css(f,r.target[f])},t.jqplot.ThemeEngine.prototype._add=function(t,e){if(e&&(t._name=e),t._name||(t._name=Date.parse(new Date)),this.themes.hasOwnProperty(t._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");this.themes[t._name]=t},t.jqplot.ThemeEngine.prototype.remove=function(t){return"Default"!=t&&delete this.themes[t]},t.jqplot.ThemeEngine.prototype.newTheme=function(e,i){"object"==typeof e&&(i=i||e,e=null),e=i&&i._name?i._name:e||Date.parse(new Date);var s=this.copy(this.themes.Default._name,e);return t.jqplot.extend(s,i),s},t.jqplot.clone=M,t.jqplot.merge=q,t.jqplot.extend=function(){var i,s=arguments[0]||{},r=1,a=arguments.length,n=!1;for("boolean"==typeof s&&(n=s,s=arguments[1]||{},r=2),"object"!=typeof s&&"[object Function]"===!toString.call(s)&&(s={});r<a;r++)if(null!=(i=arguments[r]))for(var o in i){var h=s[o],l=i[o];s!==l&&(n&&l&&"object"==typeof l&&!l.nodeType?s[o]=t.jqplot.extend(n,h||(null!=l.length?[]:{}),l):l!==e&&(s[o]=l))}return s},t.jqplot.ThemeEngine.prototype.rename=function(t,e){if("Default"==t||"Default"==e)throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(e))throw new Error("jqplot.ThemeEngine Error: New name already in use.");if(this.themes.hasOwnProperty(t)){var i=this.copy(t,e);return this.remove(t),i}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")},t.jqplot.ThemeEngine.prototype.copy=function(e,i,s){if("Default"==i)throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(e)){var r="jqplot.ThemeEngine Error: Source name invalid";throw new Error(r)}if(this.themes.hasOwnProperty(i)){r="jqplot.ThemeEngine Error: Target name invalid";throw new Error(r)}var a=M(this.themes[e]);return a._name=i,t.jqplot.extend(!0,a,s),this._add(a),a},t.jqplot.Theme=function(e,i){"object"==typeof e&&(i=i||e,e=null),e=e||Date.parse(new Date),this._name=e,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},"string"==typeof i?this._name=i:"object"==typeof i&&t.jqplot.extend(!0,this,i)};var S=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new C,this.label=new T},C=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},T=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},R=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new P},P=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},I=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},H=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},O=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},A=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},L=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};t.fn.jqplotChildText=function(){return t(this).contents().filter((function(){return 3==this.nodeType})).text()},t.fn.jqplotGetComputedFontStyle=function(){for(var t=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle,e=t["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],i=[],s=0;s<e.length;++s){var r=String(t[e[s]]);r&&"normal"!=r&&i.push(r)}return i.join(" ")},t.fn.jqplotToImageCanvas=function(e){var i=null==(e=e||{}).x_offset?0:e.x_offset,s=null==e.y_offset?0:e.y_offset,r=null==e.backgroundColor?"rgb(255,255,255)":e.backgroundColor;if(0==t(this).width()||0==t(this).height())return null;if(t.jqplot.use_excanvas)return null;for(var a,n,o,h,l=document.createElement("canvas"),d=t(this).outerHeight(!0),p=t(this).outerWidth(!0),c=t(this).offset(),u=c.left,g=c.top,f=0,m=0,_=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"],x=0;x<_.length;x++)t(this).find("."+_[x]).each((function(){a=t(this).offset().top-g,n=t(this).offset().left-u,h=n+t(this).outerWidth(!0)+f,o=a+t(this).outerHeight(!0)+m,n<-f&&(p=p-f-n,f=-n),a<-m&&(d=d-m-a,m=-a),h>p&&(p=h),o>d&&(d=o)}));l.width=p+Number(i),l.height=d+Number(s);var b=l.getContext("2d");function v(e,i,s,r,a,n){for(var o=function(e){var i=parseInt(t(e).css("line-height"),10);return isNaN(i)&&(i=1.2*parseInt(t(e).css("font-size"),10)),i}(e),h=t(e).innerWidth(),l=(t(e).innerHeight(),s.split(/\s+/)),d=l.length,p="",c=[],u=a,g=r,m=0;m<d;m++)p+=l[m],i.measureText(p).width>h&&(c.push(m),p="",m--);if(0===c.length)"center"===t(e).css("textAlign")&&(g=r+(n-i.measureText(p).width)/2-f),i.fillText(s,g,a);else{p=l.slice(0,c[0]).join(" "),"center"===t(e).css("textAlign")&&(g=r+(n-i.measureText(p).width)/2-f),i.fillText(p,g,u),u+=o;m=1;for(var _=c.length;m<_;m++)p=l.slice(c[m-1],c[m]).join(" "),"center"===t(e).css("textAlign")&&(g=r+(n-i.measureText(p).width)/2-f),i.fillText(p,g,u),u+=o;p=l.slice(c[m-1],l.length).join(" "),"center"===t(e).css("textAlign")&&(g=r+(n-i.measureText(p).width)/2-f),i.fillText(p,g,u)}}function w(e,i,s){var r=e.tagName.toLowerCase(),a=t(e).position(),n=window.getComputedStyle?window.getComputedStyle(e,""):e.currentStyle,o=i+a.left+parseInt(n.marginLeft,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.paddingLeft,10),h=s+a.top+parseInt(n.marginTop,10)+parseInt(n.borderTopWidth,10)+parseInt(n.paddingTop,10),d=l.width;if("div"!=r&&"span"!=r||t(e).hasClass("jqplot-highlighter-tooltip"))if("table"===r&&t(e).hasClass("jqplot-table-legend")){b.strokeStyle=t(e).css("border-top-color"),b.fillStyle=t(e).css("background-color"),b.fillRect(o,h,t(e).innerWidth(),t(e).innerHeight()),parseInt(t(e).css("border-top-width"),10)>0&&b.strokeRect(o,h,t(e).innerWidth(),t(e).innerHeight()),t(e).find("div.jqplot-table-legend-swatch-outline").each((function(){var e=t(this);b.strokeStyle=e.css("border-top-color");var i=o+e.position().left,s=h+e.position().top;b.strokeRect(i,s,e.innerWidth(),e.innerHeight()),i+=parseInt(e.css("padding-left"),10),s+=parseInt(e.css("padding-top"),10);var r=e.innerHeight()-2*parseInt(e.css("padding-top"),10),a=e.innerWidth()-2*parseInt(e.css("padding-left"),10),n=e.children("div.jqplot-table-legend-swatch");b.fillStyle=n.css("background-color"),b.fillRect(i,s,a,r)})),t(e).find("td.jqplot-table-legend-label").each((function(){var e=t(this),i=o+e.position().left,s=h+e.position().top+parseInt(e.css("padding-top"),10);b.font=e.jqplotGetComputedFontStyle(),b.fillStyle=e.css("color"),v(e,b,e.text(),i,s,d)}))}else"canvas"==r&&b.drawImage(e,o,h);else{t(e).children().each((function(){w(this,o,h)}));var p=t(e).jqplotChildText();p&&(b.font=t(e).jqplotGetComputedFontStyle(),b.fillStyle=t(e).css("color"),v(e,b,p,o,h,d))}}return b.save(),b.fillStyle=r,b.fillRect(0,0,l.width,l.height),b.restore(),b.translate(f,m),b.textAlign="left",b.textBaseline="top",t(this).children().each((function(){w(this,i,s)})),l},t.fn.jqplotToImageStr=function(e){var i=t(this).jqplotToImageCanvas(e);return i?i.toDataURL("image/png"):null},t.fn.jqplotToImageElem=function(e){var i=document.createElement("img"),s=t(this).jqplotToImageStr(e);return i.src=s,i},t.fn.jqplotToImageElemStr=function(e){return"<img src="+t(this).jqplotToImageStr(e)+" />"},t.fn.jqplotSaveImage=function(){var e=t(this).jqplotToImageStr({});e&&(window.location.href=e.replace("image/png","image/octet-stream"))},t.fn.jqplotViewImage=function(){var e=t(this).jqplotToImageElemStr({});t(this).jqplotToImageStr({});if(e){var i=window.open("");i.document.open("image/png"),i.document.write(e),i.document.close(),i=null}};var F=function(){switch(this.syntax=F.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=F.regional.getLocale(),this.formatString="",this.defaultCentury=F.config.defaultCentury,arguments.length){case 0:break;case 1:if("[object Object]"==Y(arguments[0])&&"jsDate"!=arguments[0]._type){var t=this.options=arguments[0];this.syntax=t.syntax||this.syntax,this.defaultCentury=t.defaultCentury||this.defaultCentury,this.proxy=F.createDate(t.date)}else this.proxy=F.createDate(arguments[0]);break;default:for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,e.slice(0,3)),e.slice(3).length&&this.proxy.setHours.apply(this.proxy,e.slice(3))}};F.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},F.prototype.add=function(t,e){var i=G[e]||G.day;return"number"==typeof i?this.proxy.setTime(this.proxy.getTime()+i*t):i.add(this,t),this},F.prototype.clone=function(){return new F(this.proxy.getTime())},F.prototype.getUtcOffset=function(){return 6e4*this.proxy.getTimezoneOffset()},F.prototype.diff=function(t,e,i){if(null===(t=new F(t)))return null;var s=G[e]||G.day;if("number"==typeof s)var r=(this.proxy.getTime()-t.proxy.getTime())/s;else r=s.diff(this.proxy,t.proxy);return i?r:Math[r>0?"floor":"ceil"](r)},F.prototype.getAbbrDayName=function(){return F.regional[this.locale].dayNamesShort[this.proxy.getDay()]},F.prototype.getAbbrMonthName=function(){return F.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},F.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},F.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},F.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},F.prototype.getDate=function(){return this.proxy.getDate()},F.prototype.getDay=function(){return this.proxy.getDay()},F.prototype.getDayOfWeek=function(){var t=this.proxy.getDay();return 0===t?7:t},F.prototype.getDayOfYear=function(){var t=this.proxy,e=t-new Date(t.getFullYear()+"/1/1 GMT");return e+=6e4*t.getTimezoneOffset(),t=null,parseInt(e/6e4/60/24,10)+1},F.prototype.getDayName=function(){return F.regional[this.locale].dayNames[this.proxy.getDay()]},F.prototype.getFullWeekOfYear=function(){var t=this.proxy,e=this.getDayOfYear(),i=6-t.getDay();return parseInt((e+i)/7,10)},F.prototype.getFullYear=function(){return this.proxy.getFullYear()},F.prototype.getGmtOffset=function(){var t=this.proxy.getTimezoneOffset()/60,e=t<0?"+":"-";return t=Math.abs(t),e+W(Math.floor(t),2)+":"+W(t%1*60,2)},F.prototype.getHours=function(){return this.proxy.getHours()},F.prototype.getHours12=function(){var t=this.proxy.getHours();return t>12?t-12:0==t?12:t},F.prototype.getIsoWeek=function(){var t=this.proxy,e=t.getWeekOfYear(),i=new Date(t.getFullYear()+"/1/1").getDay(),s=e+(i>4||i<=1?0:1);return 53==s&&new Date(t.getFullYear()+"/12/31").getDay()<4?s=1:0===s&&(s=(t=new F(new Date(t.getFullYear()-1+"/12/31"))).getIsoWeek()),t=null,s},F.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},F.prototype.getMinutes=function(){return this.proxy.getMinutes()},F.prototype.getMonth=function(){return this.proxy.getMonth()},F.prototype.getMonthName=function(){return F.regional[this.locale].monthNames[this.proxy.getMonth()]},F.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},F.prototype.getSeconds=function(){return this.proxy.getSeconds()},F.prototype.getShortYear=function(){return this.proxy.getYear()%100},F.prototype.getTime=function(){return this.proxy.getTime()},F.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},F.prototype.getTimezoneName=function(){var t=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return t[1]||t[2]||"GMT"+this.getGmtOffset()},F.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},F.prototype.getWeekOfYear=function(){var t=this.getDayOfYear(),e=7-this.getDayOfWeek();return parseInt((t+e)/7,10)},F.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},F.prototype.getYear=function(){return this.proxy.getYear()},F.prototype.next=function(t){return t=t||"day",this.clone().add(1,t)},F.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if("[object Object]"==Y(arguments[0])&&"jsDate"!=arguments[0]._type){var t=this.options=arguments[0];this.syntax=t.syntax||this.syntax,this.defaultCentury=t.defaultCentury||this.defaultCentury,this.proxy=F.createDate(t.date)}else this.proxy=F.createDate(arguments[0]);break;default:for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,e.slice(0,3)),e.slice(3).length&&this.proxy.setHours.apply(this.proxy,e.slice(3))}return this},F.prototype.setDate=function(t){return this.proxy.setDate(t),this},F.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},F.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},F.prototype.setMilliseconds=function(t){return this.proxy.setMilliseconds(t),this},F.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},F.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},F.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},F.prototype.setTime=function(t){return this.proxy.setTime(t),this},F.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},F.prototype.strftime=function(t){return t=t||this.formatString||F.regional[this.locale].formatString,F.strftime(this,t,this.syntax)},F.prototype.toString=function(){return this.proxy.toString()},F.prototype.toYmdInt=function(){return 1e4*this.proxy.getFullYear()+100*this.getMonthNumber()+this.proxy.getDate()},F.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["كانون الثاني","شباط","آذار","نيسان","آذار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["السبت","الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],dayNamesShort:["سبت","أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"}},F.regional["en-US"]=F.regional["en-GB"]=F.regional.en,F.regional.getLocale=function(){var t=F.config.defaultLocale;return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(t=document.getElementsByTagName("html")[0].lang,F.regional.hasOwnProperty(t)||(t=F.config.defaultLocale)),t};var E=864e5,W=function(t,e){var i=e-(t=String(t)).length;return String(Math.pow(10,i)).slice(1).concat(t)},G={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:E,week:7*E,month:{add:function(t,e){G.year.add(t,Math[e>0?"floor":"ceil"](e/12));var i=t.getMonth()+e%12;12==i?(i=0,t.setYear(t.getFullYear()+1)):-1==i&&(i=11,t.setYear(t.getFullYear()-1)),t.setMonth(i)},diff:function(t,e){var i=t.getFullYear()-e.getFullYear();return t.getMonth()-e.getMonth()+12*i+(t.getDate()-e.getDate())/30}},year:{add:function(t,e){t.setYear(t.getFullYear()+Math[e>0?"floor":"ceil"](e))},diff:function(t,e){return G.month.diff(t,e)/12}}};for(var N in G)"s"!=N.substring(N.length-1)&&(G[N+"s"]=G[N]);var B=function(t,e,i){if(F.formats[i].shortcuts[e])return F.strftime(t,F.formats[i].shortcuts[e],i);var s=(F.formats[i].codes[e]||"").split("."),r=t["get"+s[0]]?t["get"+s[0]]():"";return s[1]&&(r=W(r,s[1])),r};function z(t,e){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function Y(t){return null===t?"[object Null]":Object.prototype.toString.call(t)}F.strftime=function(t,e,i,s){var r="perl",a=F.regional.getLocale();i&&F.formats.hasOwnProperty(i)?r=i:i&&F.regional.hasOwnProperty(i)&&(a=i),s&&F.formats.hasOwnProperty(s)?r=s:s&&F.regional.hasOwnProperty(s)&&(a=s),"[object Object]"==Y(t)&&"jsDate"==t._type||((t=new F(t)).locale=a),e||(e=t.formatString||F.regional[a].formatString);for(var n,o=e||"%Y-%m-%d",h="";o.length>0;)(n=o.match(F.formats[r].codes.matcher))?(h+=o.slice(0,n.index),h+=(n[1]||"")+B(t,n[2],r),o=o.slice(n.index+n[0].length)):(h+=o,o="");return h},F.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},F.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},F.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},F.createDate=function(t){if(null==t)return new Date;if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);var e,i=String(t).replace(/^\s*(.+)\s*$/g,"$1");if((e=(i=(i=i.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3")).replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3")).match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i))&&e.length>3){var s=parseFloat(e[3]),r=F.config.defaultCentury+s;r=String(r),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,e[1]+" "+e[2]+" "+r)}function a(t,e){var i,s,r,a,n=parseFloat(e[1]),o=parseFloat(e[2]),h=parseFloat(e[3]),l=F.config.defaultCentury;return n>31?(s=h,r=o,i=l+n):(s=o,r=n,i=l+h),a=r+"/"+s+"/"+i,t.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,a)}(e=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/))&&e.length>3&&(i=a(i,e)),(e=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/))&&e.length>3&&(i=a(i,e));for(var n,o,h,l=0,d=F.matchers.length,p=i;l<d;){if(o=Date.parse(p),!isNaN(o))return new Date(o);if("function"==typeof(n=F.matchers[l])){if((h=n.call(F,p))instanceof Date)return h}else p=i.replace(n[0],n[1]);l++}return NaN},F.daysInMonth=function(t,i){return 2==i?29==new Date(t,1,29).getDate()?29:28:[e,31,e,31,30,31,30,31,31,30,31,30,31][i]},F.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(t){var e=t.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(e){if(e[1]){var i=this.createDate(e[1]);if(isNaN(i))return}else{(i=new Date).setMilliseconds(0)}var s=parseFloat(e[2]);return e[6]&&(s="am"==e[6].toLowerCase()?12==s?0:s:12==s?12:s+12),i.setHours(s,parseInt(e[3]||0,10),parseInt(e[4]||0,10),1e3*(parseFloat(e[5]||0)||0)),i}return t},function(t){var e=t.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(e){if(e[1]){var i=this.createDate(e[1]);if(isNaN(i))return}else{(i=new Date).setMilliseconds(0)}var s=parseFloat(e[2]);return i.setHours(s,parseInt(e[3],10),parseInt(e[4],10),1e3*parseFloat(e[5])),i}return t},function(t){var e=t.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(e){var i,s,r,a=new Date,n=F.config.defaultCentury,o=parseFloat(e[1]),h=parseFloat(e[3]);return o>31?(s=h,i=n+o):(s=o,i=n+h),-1==(r=z(e[2],F.regional[F.regional.getLocale()].monthNamesShort))&&(r=z(e[2],F.regional[F.regional.getLocale()].monthNames)),a.setFullYear(i,r,s),a.setHours(0,0,0,0),a}return t}],t.jsDate=F,t.jqplot.sprintf=function(){function e(t,e,i,s){var r=t.length>=e?"":Array(1+e-t.length>>>0).join(i);return s?t+r:r+t}function i(e){for(var i=new String(e),s=10;s>0&&i!=(i=i.replace(/^(\d+)(\d{3})/,"$1"+t.jqplot.sprintf.thousandsSeparator+"$2"));s--);return i}function s(t,i,s,r,a,n){var o=r-t.length;if(o>0){var h=" ";n&&(h="&nbsp;"),t=s||!a?e(t,r,h,s):t.slice(0,i.length)+e("",o,"0",!0)+t.slice(i.length)}return t}function r(t,i,r,a,n,o,h,l){var d=t>>>0;return s(t=(r=r&&d&&{2:"0b",8:"0",16:"0x"}[i]||"")+e(d.toString(i),o||0,"0",!1),r,a,n,h,l)}function a(t,e,i,r,a,n){return null!=r&&(t=t.slice(0,r)),s(t,"",e,i,a,n)}var n=arguments,o=0,h=n[o++];return h.replace(t.jqplot.sprintf.regex,(function(h,l,d,p,c,u,g){if("%%"==h)return"%";for(var f=!1,m="",_=!1,x=!1,b=!1,v=!1,w=0;d&&w<d.length;w++)switch(d.charAt(w)){case" ":m=" ";break;case"+":m="+";break;case"-":f=!0;break;case"0":_=!0;break;case"#":x=!0;break;case"&":b=!0;break;case"'":v=!0}if((p=p?"*"==p?+n[o++]:"*"==p.charAt(0)?+n[p.slice(1,-1)]:+p:0)<0&&(p=-p,f=!0),!isFinite(p))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");u=u?"*"==u?+n[o++]:"*"==u.charAt(0)?+n[u.slice(1,-1)]:+u:"fFeE".indexOf(g)>-1?6:"d"==g?0:void 0;var k=l?n[l.slice(0,-1)]:n[o++];switch(g){case"s":return null==k?"":a(String(k),f,p,u,_,b);case"c":return a(String.fromCharCode(+k),f,p,u,_,b);case"b":return r(k,2,x,f,p,u,_,b);case"o":return r(k,8,x,f,p,u,_,b);case"x":return r(k,16,x,f,p,u,_,b);case"X":return r(k,16,x,f,p,u,_,b).toUpperCase();case"u":return r(k,10,x,f,p,u,_,b);case"i":var y=parseInt(+k,10);return isNaN(y)?"":s(k=(j=y<0?"-":m)+e(q=v?i(String(Math.abs(y))):String(Math.abs(y)),u,"0",!1),j,f,p,_,b);case"d":y=Math.round(+k);return isNaN(y)?"":s(k=(j=y<0?"-":m)+e(q=v?i(String(Math.abs(y))):String(Math.abs(y)),u,"0",!1),j,f,p,_,b);case"e":case"E":case"f":case"F":case"g":case"G":y=+k;if(isNaN(y))return"";var j=y<0?"-":m,D=["toExponential","toFixed","toPrecision"]["efg".indexOf(g.toLowerCase())],M=["toString","toUpperCase"]["eEfFgG".indexOf(g)%2],q=Math.abs(y)[D](u),S=s(k=j+(q=v?i(q):q),j,f,p,_,b)[M]();return"."!==t.jqplot.sprintf.decimalMark&&t.jqplot.sprintf.decimalMark!==t.jqplot.sprintf.thousandsSeparator?S.replace(/\./,t.jqplot.sprintf.decimalMark):S;case"p":case"P":y=+k;if(isNaN(y))return"";j=y<0?"-":m;var C=String(Number(Math.abs(y)).toExponential()).split(/e|E/),T=-1!=C[0].indexOf(".")?C[0].length-1:C[0].length,R=C[1]<0?-C[1]-1:0;if(Math.abs(y)<1)k=T+R<=u?j+Math.abs(y).toPrecision(T):T<=u-1?j+Math.abs(y).toExponential(T-1):j+Math.abs(y).toExponential(u-1);else{var P=T<=u?T:u;k=j+Math.abs(y).toPrecision(P)}M=["toString","toUpperCase"]["pP".indexOf(g)%2];return s(k,j,f,p,_,b)[M]();case"n":return"";default:return h}}))},t.jqplot.sprintf.thousandsSeparator=",",t.jqplot.sprintf.decimalMark=".",t.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,t.jqplot.getSignificantFigures=function(t){var e=String(Number(Math.abs(t)).toExponential()).split(/e|E/),i=-1!=e[0].indexOf(".")?e[0].length-1:e[0].length,s=e[1]<0?-e[1]-1:0,r=parseInt(e[1],10),a=r+1>0?r+1:0;return{significantDigits:i,digitsLeft:a,digitsRight:i<=a?0:i-r-1,zeros:s,exponent:r}},t.jqplot.getPrecision=function(e){return t.jqplot.getSignificantFigures(e).digitsRight}}(jQuery);var backCompat=!1!==$.uiBackCompat;$.jqplot.effects={effect:{}};var dataSpace="jqplot.storage.";function _normalizeArguments(t,e,i,s){return $.isPlainObject(t)||(t={effect:t},void 0===e&&(e={}),$.isFunction(e)&&(s=e,i=null,e={}),("number"===$.type(e)||$.fx.speeds[e])&&(s=i,i=e,e={}),$.isFunction(i)&&(s=i,i=null),e&&$.extend(t,e),i=i||e.duration,t.duration=$.fx.off?0:"number"==typeof i?i:i in $.fx.speeds?$.fx.speeds[i]:$.fx.speeds._default,t.complete=s||e.complete),t}function standardSpeed(t){return!(t&&"number"!=typeof t&&!$.fx.speeds[t])||"string"==typeof t&&!$.jqplot.effects.effect[t]&&(!backCompat||!$.jqplot.effects[t])}$.extend($.jqplot.effects,{version:"1.9pre",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(dataSpace+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.css(e[i],t.data(dataSpace+e[i]))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var e={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},r=document.activeElement;return t.wrap(i),(t[0]===r||$.contains(t[0],r))&&$(r).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):($.extend(e,{position:t.css("position"),zIndex:t.css("z-index")}),$.each(["top","left","bottom","right"],(function(i,s){e[s]=t.css(s),isNaN(parseInt(e[s],10))&&(e[s]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),i.css(e).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||$.contains(t[0],e))&&$(e).focus()),t}}),$.fn.extend({jqplotEffect:function(t,e,i,s){var r=_normalizeArguments.apply(this,arguments),a=r.mode,n=r.queue,o=$.jqplot.effects.effect[r.effect],h=!o&&backCompat&&$.jqplot.effects[r.effect];if($.fx.off||!o&&!h)return a?this[a](r.duration,r.complete):this.each((function(){r.complete&&r.complete.call(this)}));function l(t){var e=$(this),i=r.complete,s=r.mode;function a(){$.isFunction(i)&&i.call(e[0]),$.isFunction(t)&&t()}(e.is(":hidden")?"hide"===s:"show"===s)?a():o.call(e[0],r,a)}return o?!1===n?this.each(l):this.queue(n||"fx",l):h.call(this,{options:r,duration:r.duration,callback:r.complete,mode:r.mode})}});var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.jqplot.effects.effect.blind=function(t,e){var i,s,r,a=$(this),n=["position","top","bottom","left","right","height","width"],o=$.jqplot.effects.setMode(a,t.mode||"hide"),h=t.direction||"up",l=rvertical.test(h),d=l?"height":"width",p=l?"top":"left",c=rpositivemotion.test(h),u={},g="show"===o;a.parent().is(".ui-effects-wrapper")?$.jqplot.effects.save(a.parent(),n):$.jqplot.effects.save(a,n),a.show(),r=parseInt(a.css("top"),10),i=$.jqplot.effects.createWrapper(a).css({overflow:"hidden"}),s=l?i[d]()+r:i[d](),u[d]=g?String(s):"0",c||(a.css(l?"bottom":"right",0).css(l?"top":"left","").css({position:"absolute"}),u[p]=g?"0":String(s)),g&&(i.css(d,0),c||i.css(p,s)),i.animate(u,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===o&&a.hide(),$.jqplot.effects.restore(a,n),$.jqplot.effects.removeWrapper(a),e()}})};
!function(i){function t(i,e,s,h,r){var a=i,l=i-1,n="x"===r?0:1;return a>0?s*h.series[l]._plotData[e][n]<0?t(l,e,s,h,r):h.series[l].gridData[e][n]:0===n?h.series[a]._xaxis.series_u2p(0):h.series[a]._yaxis.series_u2p(0)}function e(t,e,s){for(var h=0;h<this.series.length;h++)this.series[h].renderer.constructor==i.jqplot.BarRenderer&&this.series[h].highlightMouseOver&&(this.series[h].highlightMouseDown=!1)}function s(){this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas&&(this.plugins.barRenderer.highlightCanvas.resetCanvas(),this.plugins.barRenderer.highlightCanvas=null),this.plugins.barRenderer={highlightedSeriesIndex:null},this.plugins.barRenderer.highlightCanvas=new i.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.barRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},(function(i){r(i.data.plot)}))}function h(i,t,e,s){var h=i.series[t],r=i.plugins.barRenderer.highlightCanvas;r._ctx.clearRect(0,0,r._ctx.canvas.width,r._ctx.canvas.height),h._highlightedPoint=e,i.plugins.barRenderer.highlightedSeriesIndex=t;var a={fillStyle:h.highlightColors[e]};h.renderer.shapeRenderer.draw(r._ctx,s,a),r=null}function r(i){var t=i.plugins.barRenderer.highlightCanvas;t._ctx.clearRect(0,0,t._ctx.canvas.width,t._ctx.canvas.height);for(var e=0;e<i.series.length;e++)i.series[e]._highlightedPoint=null;i.plugins.barRenderer.highlightedSeriesIndex=null,i.target.trigger("jqplotDataUnhighlight"),t=null}function a(i,t,e,s,a){if(s){var l=[s.seriesIndex,s.pointIndex,s.data],n=jQuery.Event("jqplotDataMouseOver");if(n.pageX=i.pageX,n.pageY=i.pageY,a.target.trigger(n,l),a.series[l[0]].highlightMouseOver&&(l[0]!=a.plugins.barRenderer.highlightedSeriesIndex||l[1]!=a.series[l[0]]._highlightedPoint)){var o=jQuery.Event("jqplotDataHighlight");o.which=i.which,o.pageX=i.pageX,o.pageY=i.pageY,a.target.trigger(o,l),h(a,s.seriesIndex,s.pointIndex,s.points)}}else null==s&&r(a)}function l(i,t,e,s,a){if(s){var l=[s.seriesIndex,s.pointIndex,s.data];if(a.series[l[0]].highlightMouseDown&&(l[0]!=a.plugins.barRenderer.highlightedSeriesIndex||l[1]!=a.series[l[0]]._highlightedPoint)){var n=jQuery.Event("jqplotDataHighlight");n.which=i.which,n.pageX=i.pageX,n.pageY=i.pageY,a.target.trigger(n,l),h(a,s.seriesIndex,s.pointIndex,s.points)}}else null==s&&r(a)}function n(i,t,e,s,h){var a=h.plugins.barRenderer.highlightedSeriesIndex;null!=a&&h.series[a].highlightMouseDown&&r(h)}function o(i,t,e,s,h){if(s){var r=[s.seriesIndex,s.pointIndex,s.data],a=jQuery.Event("jqplotDataClick");a.which=i.which,a.pageX=i.pageX,a.pageY=i.pageY,h.target.trigger(a,r)}}function d(i,t,e,s,h){if(s){var a=[s.seriesIndex,s.pointIndex,s.data],l=h.plugins.barRenderer.highlightedSeriesIndex;null!=l&&h.series[l].highlightMouseDown&&r(h);var n=jQuery.Event("jqplotDataRightClick");n.which=i.which,n.pageX=i.pageX,n.pageY=i.pageY,h.target.trigger(n,a)}}i.jqplot.BarRenderer=function(){i.jqplot.LineRenderer.call(this)},i.jqplot.BarRenderer.prototype=new i.jqplot.LineRenderer,i.jqplot.BarRenderer.prototype.constructor=i.jqplot.BarRenderer,i.jqplot.BarRenderer.prototype.init=function(t,h){this.barPadding=8,this.barMargin=10,this.barDirection="vertical",this.barWidth=null,this.shadowOffset=2,this.shadowDepth=5,this.shadowAlpha=.08,this.waterfall=!1,this.groups=1,this.varyBarColor=!1,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.transposedData=!0,this.renderer.animation={show:!1,direction:"down",speed:3e3,_supported:!0},this._type="bar",t.highlightMouseDown&&null==t.highlightMouseOver&&(t.highlightMouseOver=!1),i.extend(!0,this,t),i.extend(!0,this.renderer,t),this.fill=!0,"horizontal"===this.barDirection&&this.rendererOptions.animation&&null==this.rendererOptions.animation.direction&&(this.renderer.animation.direction="left"),this.waterfall&&(this.fillToZero=!1,this.disableStack=!0),"vertical"==this.barDirection?(this._primaryAxis="_xaxis",this._stackAxis="y",this.fillAxis="y"):(this._primaryAxis="_yaxis",this._stackAxis="x",this.fillAxis="x"),this._highlightedPoint=null,this._plotSeriesInfo=null,this._dataColors=[],this._barPoints=[];var r={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill};this.renderer.shapeRenderer.init(r);var g={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(g),h.postInitHooks.addOnce(e),h.postDrawHooks.addOnce(s),h.eventListenerHooks.addOnce("jqplotMouseMove",a),h.eventListenerHooks.addOnce("jqplotMouseDown",l),h.eventListenerHooks.addOnce("jqplotMouseUp",n),h.eventListenerHooks.addOnce("jqplotClick",o),h.eventListenerHooks.addOnce("jqplotRightClick",d)},i.jqplot.preSeriesInitHooks.push((function(t,e,s,h){if("horizontal"==this.rendererOptions.barDirection&&(this._stackAxis="x",this._primaryAxis="_yaxis"),1==this.rendererOptions.waterfall){this._data=i.extend(!0,[],this.data);for(var r=0,a=this.rendererOptions.barDirection&&"vertical"!==this.rendererOptions.barDirection&&!1!==this.transposedData?0:1,l=0;l<this.data.length;l++)r+=this.data[l][a],l>0&&(this.data[l][a]+=this.data[l-1][a]);this.data[this.data.length]=1==a?[this.data.length+1,r]:[r,this.data.length+1],this._data[this._data.length]=1==a?[this._data.length+1,r]:[r,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;var n=this.data.length,o=parseInt(n/this.rendererOptions.groups,10),d=0;for(l=o;l<n;l+=o)this.data.splice(l+d,0,[null,null]),d++;for(l=0;l<this.data.length;l++)"_xaxis"==this._primaryAxis?this.data[l][0]=l+1:this.data[l][1]=l+1}})),i.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){for(var t,e,s=0,h=0,r=this[this._primaryAxis],a=0;a<r._series.length;a++)(t=r._series[a])===this&&(e=a),t.renderer.constructor==i.jqplot.BarRenderer&&(s+=t.data.length,h+=1);return[s,h,e]},i.jqplot.BarRenderer.prototype.setBarWidth=function(){var i,t,e=this[this._primaryAxis],s=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);i=s[0],t=s[1];var h=(e.numberTicks-1)/2;return"xaxis"==e.name||"x2axis"==e.name?this._stack?this.barWidth=(e._offsets.max-e._offsets.min)/i*t-this.barMargin:this.barWidth=((e._offsets.max-e._offsets.min)/h-this.barPadding*(t-1)-2*this.barMargin)/t:this._stack?this.barWidth=(e._offsets.min-e._offsets.max)/i*t-this.barMargin:this.barWidth=((e._offsets.min-e._offsets.max)/h-this.barPadding*(t-1)-2*this.barMargin)/t,[i,t]},i.jqplot.BarRenderer.prototype.draw=function(e,s,h,r){var a=i.extend({},h),l=null!=a.shadow?a.shadow:this.shadow,n=null!=a.showLine?a.showLine:this.showLine;null!=a.fill?a.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;this._dataColors=[],this._barPoints=[],null==this.barWidth&&this.renderer.setBarWidth.call(this);(D=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this))[0];var o=D[1],d=D[2],g=[];if(this._stack?this._barNudge=0:this._barNudge=(-Math.abs(o/2-.5)+d)*(this.barWidth+this.barPadding),n){var p=new i.jqplot.ColorGenerator(this.negativeSeriesColors),u=new i.jqplot.ColorGenerator(this.seriesColors),f=p.get(this.index);this.useNegativeColors||(f=a.fillStyle);var c,_,x,b=a.fillStyle;if("vertical"==this.barDirection){for(var v=0;v<s.length;v++)if(this._stack||null!=this.data[v][1]){if(g=[],c=s[v][0]+this._barNudge,x=this._stack&&this._prevGridData.length?t(this.index,v,this._plotData[v][1],r,"y"):this.fillToZero?this._yaxis.series_u2p(0):this.waterfall&&v>0&&v<this.gridData.length-1?this.gridData[v-1][1]:this.waterfall&&0==v&&v<this.gridData.length-1||this.waterfall&&v==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?e.canvas.height:0:e.canvas.height,this.fillToZero&&this._plotData[v][1]<0||this.waterfall&&this._data[v][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?a.fillStyle=p.next():a.fillStyle=u.next():a.fillStyle=f:this.varyBarColor&&!this._stack?a.fillStyle=u.next():a.fillStyle=b,!this.fillToZero||this._plotData[v][1]>=0?(g.push([c-this.barWidth/2,x]),g.push([c-this.barWidth/2,s[v][1]]),g.push([c+this.barWidth/2,s[v][1]]),g.push([c+this.barWidth/2,x])):(g.push([c-this.barWidth/2,s[v][1]]),g.push([c-this.barWidth/2,x]),g.push([c+this.barWidth/2,x]),g.push([c+this.barWidth/2,s[v][1]])),this._barPoints.push(g),l&&!this._stack)delete(y=i.extend(!0,{},a)).fillStyle,this.renderer.shadowRenderer.draw(e,g,y);var w=a.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(e,g,a)}}else if("horizontal"==this.barDirection)for(v=0;v<s.length;v++)if(this._stack||null!=this.data[v][0]){var y;if(g=[],c=s[v][1]-this._barNudge,_=this._stack&&this._prevGridData.length?t(this.index,v,this._plotData[v][0],r,"x"):this.fillToZero?this._xaxis.series_u2p(0):this.waterfall&&v>0&&v<this.gridData.length-1?this.gridData[v-1][1]:this.waterfall&&0==v&&v<this.gridData.length-1||this.waterfall&&v==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:e.canvas.width:0,this.fillToZero&&this._plotData[v][1]<0||this.waterfall&&this._data[v][1]<0?this.varyBarColor&&!this._stack&&(this.useNegativeColors?a.fillStyle=p.next():a.fillStyle=u.next()):this.varyBarColor&&!this._stack?a.fillStyle=u.next():a.fillStyle=b,!this.fillToZero||this._plotData[v][0]>=0?(g.push([_,c+this.barWidth/2]),g.push([_,c-this.barWidth/2]),g.push([s[v][0],c-this.barWidth/2]),g.push([s[v][0],c+this.barWidth/2])):(g.push([s[v][0],c+this.barWidth/2]),g.push([s[v][0],c-this.barWidth/2]),g.push([_,c-this.barWidth/2]),g.push([_,c+this.barWidth/2])),this._barPoints.push(g),l&&!this._stack)delete(y=i.extend(!0,{},a)).fillStyle,this.renderer.shadowRenderer.draw(e,g,y);w=a.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(e,g,a)}}if(0==this.highlightColors.length)this.highlightColors=i.jqplot.computeHighlightColors(this._dataColors);else if("string"==typeof this.highlightColors){var D=this.highlightColors;this.highlightColors=[];for(v=0;v<this._dataColors.length;v++)this.highlightColors.push(D)}},i.jqplot.BarRenderer.prototype.drawShadow=function(i,e,s,h){var r,a,l,n=null!=s?s:{},o=(null!=n.shadow?n.shadow:this.shadow,null!=n.showLine?n.showLine:this.showLine);null!=n.fill?n.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;if(this._stack&&this.shadow){null==this.barWidth&&this.renderer.setBarWidth.call(this);var d=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);if(d[0],a=d[1],l=d[2],this._stack?this._barNudge=0:this._barNudge=(-Math.abs(a/2-.5)+l)*(this.barWidth+this.barPadding),o)if("vertical"==this.barDirection){for(var g=0;g<e.length;g++)if(null!=this.data[g][1]){r=[];var p,u=e[g][0]+this._barNudge;p=this._stack&&this._prevGridData.length?t(this.index,g,this._plotData[g][1],h,"y"):this.fillToZero?this._yaxis.series_u2p(0):i.canvas.height,r.push([u-this.barWidth/2,p]),r.push([u-this.barWidth/2,e[g][1]]),r.push([u+this.barWidth/2,e[g][1]]),r.push([u+this.barWidth/2,p]),this.renderer.shadowRenderer.draw(i,r,n)}}else if("horizontal"==this.barDirection)for(g=0;g<e.length;g++)if(null!=this.data[g][0]){r=[];var f;u=e[g][1]-this._barNudge;f=this._stack&&this._prevGridData.length?t(this.index,g,this._plotData[g][0],h,"x"):this.fillToZero?this._xaxis.series_u2p(0):0,r.push([f,u+this.barWidth/2]),r.push([e[g][0],u+this.barWidth/2]),r.push([e[g][0],u-this.barWidth/2]),r.push([f,u-this.barWidth/2]),this.renderer.shadowRenderer.draw(i,r,n)}}}}(jQuery);
!function(t){t.jqplot.CategoryAxisRenderer=function(e){t.jqplot.LinearAxisRenderer.call(this),this.sortMergedLabels=!1},t.jqplot.CategoryAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.CategoryAxisRenderer.prototype.constructor=t.jqplot.CategoryAxisRenderer,t.jqplot.CategoryAxisRenderer.prototype.init=function(e){this.groups=1,this.groupLabels=[],this._groupLabels=[],this._grouped=!1,this._barsPerGroup=null,t.extend(!0,this,{tickOptions:{formatString:"%d"}},e);for(var s=this._dataBounds,i=0;i<this._series.length;i++){var h=this._series[i];h.groups&&(this.groups=h.groups);for(var r=h.data,a=0;a<r.length;a++)"xaxis"==this.name||"x2axis"==this.name?((r[a][0]<s.min||null==s.min)&&(s.min=r[a][0]),(r[a][0]>s.max||null==s.max)&&(s.max=r[a][0])):((r[a][1]<s.min||null==s.min)&&(s.min=r[a][1]),(r[a][1]>s.max||null==s.max)&&(s.max=r[a][1]))}this.groupLabels.length&&(this.groups=this.groupLabels.length)},t.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){this._ticks;var e,s,i=this.ticks,h=this.name;this._dataBounds;if(i.length){if(this.groups>1&&!this._grouped){for(var r=i.length,a=0,l=f=parseInt(r/this.groups,10);l<r;l+=f)i.splice(l+a,0," "),a++;this._grouped=!0}this.min=.5,this.max=i.length+.5;var n=this.max-this.min;for(this.numberTicks=2*i.length+1,l=0;l<i.length;l++){s=this.min+2*l*n/(this.numberTicks-1),(k=new this.tickRenderer(this.tickOptions)).showLabel=!1,k.setTick(s,this.name),this._ticks.push(k),(k=new this.tickRenderer(this.tickOptions)).label=i[l],k.showMark=!1,k.showGridline=!1,k.setTick(s+.5,this.name),this._ticks.push(k)}(k=new this.tickRenderer(this.tickOptions)).showLabel=!1,k.setTick(s+1,this.name),this._ticks.push(k)}else{e="xaxis"==h||"x2axis"==h?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.min&&null!=this.max&&null!=this.tickInterval&&parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval&&(this.tickInterval=null);var o,p,_=[],u=0,m=!1;for(l=0;l<this._series.length;l++)for(var c=this._series[l],x=0;x<c.data.length;x++)p="xaxis"==this.name||"x2axis"==this.name?c.data[x][0]:c.data[x][1],-1==t.inArray(p,_)&&(m=!0,u+=1,_.push(p));m&&this.sortMergedLabels&&_.sort((function(t,e){return t-e})),this.ticks=_;for(l=0;l<this._series.length;l++)for(c=this._series[l],x=0;x<c.data.length;x++){p="xaxis"==this.name||"x2axis"==this.name?c.data[x][0]:c.data[x][1];var g=t.inArray(p,_)+1;"xaxis"==this.name||"x2axis"==this.name?c.data[x][0]=g:c.data[x][1]=g}if(this.groups>1&&!this._grouped){for(r=_.length,a=0,l=f=parseInt(r/this.groups,10);l<r;l+=f+1)_[l]=" ";this._grouped=!0}o=u+.5,null==this.numberTicks&&(this.numberTicks=2*u+1);n=o-.5;this.min=.5,this.max=o;var d=0,b=parseInt(3+e/10,10),f=parseInt(u/b,10);null==this.tickInterval&&(this.tickInterval=n/(this.numberTicks-1));for(l=0;l<this.numberTicks;l++){s=this.min+l*this.tickInterval;var k=new this.tickRenderer(this.tickOptions);l/2==parseInt(l/2,10)?(k.showLabel=!1,k.showMark=!0):(f>0&&d<f?(k.showLabel=!1,d+=1):(k.showLabel=!0,d=0),k.label=k.formatter(k.formatString,_[(l-1)/2]),k.showMark=!1,k.showGridline=!1),k.setTick(s,this.name),this._ticks.push(k)}}},t.jqplot.CategoryAxisRenderer.prototype.draw=function(e,s){if(this.show){this.renderer.createTicks.call(this);if(this._elem&&this._elem.emptyForce(),this._elem=this._elem||t('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>'),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show)(a=this._label.draw(e,s)).appendTo(this._elem);for(var i=this._ticks,h=0;h<i.length;h++){var r=i[h];if(r.showLabel&&(!r.isMinorTick||this.showMinorTicks))(a=r.draw(e,s)).appendTo(this._elem)}this._groupLabels=[];for(h=0;h<this.groupLabels.length;h++){var a;(a=t('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>')).html(this.groupLabels[h]),this._groupLabels.push(a),a.appendTo(this._elem)}}return this._elem},t.jqplot.CategoryAxisRenderer.prototype.set=function(){var e,s=0,i=0,h=0,r=null!=this._label&&this._label.show;if(this.show){for(var a=this._ticks,l=0;l<a.length;l++){var n=a[l];!n.showLabel||n.isMinorTick&&!this.showMinorTicks||(e="xaxis"==this.name||"x2axis"==this.name?n._elem.outerHeight(!0):n._elem.outerWidth(!0))>s&&(s=e)}var o=0;for(l=0;l<this._groupLabels.length;l++){var p=this._groupLabels[l];(e="xaxis"==this.name||"x2axis"==this.name?p.outerHeight(!0):p.outerWidth(!0))>o&&(o=e)}r&&(i=this._label._elem.outerWidth(!0),h=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(s+=o+h,this._elem.css({height:s+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(s+=o+h,this._elem.css({height:s+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(s+=o+i,this._elem.css({width:s+"px",left:"0px",top:"0px"}),r&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",i+"px")):(s+=o+i,this._elem.css({width:s+"px",right:"0px",top:"0px"}),r&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",i+"px"))}},t.jqplot.CategoryAxisRenderer.prototype.pack=function(e,s){var i,h=this._ticks,r=this.max,a=this.min,l=s.max,n=s.min,o=null!=this._label&&this._label.show;for(var p in e)this._elem.css(p,e[p]);this._offsets=s;var _=l-n,u=r-a;if(this.p2u=function(t){return(t-n)*u/_+a},this.u2p=function(t){return(t-a)*_/u+n},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(t-a)*_/u},this.series_p2u=function(t){return t*u/_+a}):(this.series_u2p=function(t){return(t-r)*_/u},this.series_p2u=function(t){return t*u/_+r}),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(i=0;i<h.length;i++){if((R=h[i]).show&&R.showLabel){if(R.constructor==t.jqplot.CanvasAxisTickRenderer&&R.angle){var m="xaxis"==this.name?1:-1;switch(R.labelPosition){case"auto":v=m*R.angle<0?-R.getWidth()+R._textRenderer.height*Math.sin(-R._textRenderer.angle)/2:-R._textRenderer.height*Math.sin(R._textRenderer.angle)/2;break;case"end":v=-R.getWidth()+R._textRenderer.height*Math.sin(-R._textRenderer.angle)/2;break;case"start":v=-R._textRenderer.height*Math.sin(R._textRenderer.angle)/2;break;case"middle":default:v=-R.getWidth()/2+R._textRenderer.height*Math.sin(-R._textRenderer.angle)/2}}else v=-R.getWidth()/2;var c=this.u2p(R.value)+v+"px";R._elem.css("left",c),R.pack()}}var x=["bottom",0];if(o){var g=this._label._elem.outerWidth(!0);this._label._elem.css("left",n+_/2-g/2+"px"),"xaxis"==this.name?(this._label._elem.css("bottom","0px"),x=["bottom",this._label._elem.outerHeight(!0)]):(this._label._elem.css("top","0px"),x=["top",this._label._elem.outerHeight(!0)]),this._label.pack()}var d=parseInt(this._ticks.length/this.groups,10);for(i=0;i<this._groupLabels.length;i++){for(var b=0,f=0,k=i*d;k<=(i+1)*d;k++){if(this._ticks[k]._elem&&" "!=this._ticks[k].label)b+=(p=(R=this._ticks[k]._elem).position()).left+R.outerWidth(!0)/2,f++}b/=f,this._groupLabels[i].css({left:b-this._groupLabels[i].outerWidth(!0)/2}),this._groupLabels[i].css(x[0],x[1])}}else{for(i=0;i<h.length;i++){if((R=h[i]).show&&R.showLabel){var v;if(R.constructor==t.jqplot.CanvasAxisTickRenderer&&R.angle){m="yaxis"==this.name?1:-1;switch(R.labelPosition){case"auto":case"end":v=m*R.angle<0?-R._textRenderer.height*Math.cos(-R._textRenderer.angle)/2:-R.getHeight()+R._textRenderer.height*Math.cos(R._textRenderer.angle)/2;break;case"start":v=R.angle>0?-R._textRenderer.height*Math.cos(-R._textRenderer.angle)/2:-R.getHeight()+R._textRenderer.height*Math.cos(R._textRenderer.angle)/2;break;case"middle":default:v=-R.getHeight()/2}}else v=-R.getHeight()/2;c=this.u2p(R.value)+v+"px";R._elem.css("top",c),R.pack()}}x=["left",0];if(o){var w=this._label._elem.outerHeight(!0);this._label._elem.css("top",l-_/2-w/2+"px"),"yaxis"==this.name?(this._label._elem.css("left","0px"),x=["left",this._label._elem.outerWidth(!0)]):(this._label._elem.css("right","0px"),x=["right",this._label._elem.outerWidth(!0)]),this._label.pack()}d=parseInt(this._ticks.length/this.groups,10);for(i=0;i<this._groupLabels.length;i++){for(b=0,f=0,k=i*d;k<=(i+1)*d;k++){var R;if(this._ticks[k]._elem&&" "!=this._ticks[k].label)b+=(p=(R=this._ticks[k]._elem).position()).top+R.outerHeight()/2,f++}b/=f,this._groupLabels[i].css({top:b-this._groupLabels[i].outerHeight()/2}),this._groupLabels[i].css(x[0],x[1])}}}}(jQuery);
!function(t){t.jqplot.PointLabels=function(e){this.show=t.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=t.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],t.extend(!0,this,e)};var e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},s=["se","s","sw","w","nw","n","ne","e"];t.jqplot.PointLabels.init=function(e,s,i,a,l){var o=t.extend(!0,{},i,a);o.pointLabels=o.pointLabels||{},this.renderer.constructor!==t.jqplot.BarRenderer||"horizontal"!==this.barDirection||o.pointLabels.location||(o.pointLabels.location="e"),this.plugins.pointLabels=new t.jqplot.PointLabels(o.pointLabels),this.plugins.pointLabels.setLabels.call(this)},t.jqplot.PointLabels.prototype.setLabels=function(){var e,s=this.plugins.pointLabels;if(e=null!=s.seriesLabelIndex?s.seriesLabelIndex:this.renderer.constructor===t.jqplot.BarRenderer&&"horizontal"===this.barDirection||0===this._plotData.length?0:this._plotData[0].length-1,s._labels=[],0===s.labels.length||s.labelsFromSeries)if(s.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var i=0;i<this._plotData.length;i++)s._labels.push(this._plotData[i][e])}else{var a=this.data;if(this.renderer.constructor===t.jqplot.BarRenderer&&this.waterfall&&(a=this._data),a.length&&a[0].length)for(i=0;i<a.length;i++)s._labels.push(a[i][e]);a=null}else s.labels.length&&(s._labels=s.labels)},t.jqplot.PointLabels.prototype.xOffset=function(t,e,s){var i;switch(e=e||this.location,s=s||this.xpadding,e){case"nw":i=-t.outerWidth(!0)-this.xpadding;break;case"n":i=-t.outerWidth(!0)/2;break;case"ne":case"e":case"se":i=this.xpadding;break;case"s":i=-t.outerWidth(!0)/2;break;case"sw":case"w":default:i=-t.outerWidth(!0)-this.xpadding}return i},t.jqplot.PointLabels.prototype.yOffset=function(t,e,s){var i;switch(e=e||this.location,s=s||this.xpadding,e){case"nw":case"n":case"ne":i=-t.outerHeight(!0)-this.ypadding;break;case"e":i=-t.outerHeight(!0)/2;break;case"se":case"s":case"sw":i=this.ypadding;break;case"w":i=-t.outerHeight(!0)/2;break;default:i=-t.outerHeight(!0)-this.ypadding}return i},t.jqplot.PointLabels.draw=function(i,a,l){var o=this.plugins.pointLabels;o.setLabels.call(this);for(var r=0;r<o._elems.length;r++)o._elems[r].emptyForce();if(o._elems.splice(0,o._elems.length),o.show){var n="_"+this._stackAxis+"axis";o.formatString||(o.formatString=this[n]._ticks[0].formatString,o.formatter=this[n]._ticks[0].formatter);for(var h,p,c=this._plotData,d=(this._prevPlotData,this._xaxis),b=this._yaxis,u=(r=0,o._labels.length);r<u;r++){var g=o._labels[r];o.hideZeros&&0==parseInt(o._labels[r],10)&&(g=""),null!=g&&(g=o.formatter(o.formatString,g)),p=document.createElement("div"),o._elems[r]=t(p),(h=o._elems[r]).addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+r),h.css("position","absolute"),h.insertAfter(i.canvas),o.escapeHTML?h.text(g):h.html(g);var f=o.location;(this.fillToZero&&c[r][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&c[r][0]<0||(this.waterfall&&parseInt(g,10))<0)&&(f=s[e[f]]);var _=d.u2p(c[r][0])+o.xOffset(h,f),L=b.u2p(c[r][1])+o.yOffset(h,f);this._stack&&!o.stackedValue&&("vertical"===this.barDirection?L=(this._barPoints[r][0][1]+this._barPoints[r][1][1])/2+l._gridPadding.top-.5*h.outerHeight(!0):_=(this._barPoints[r][2][0]+this._barPoints[r][0][0])/2+l._gridPadding.left-.5*h.outerWidth(!0)),this.renderer.constructor==t.jqplot.BarRenderer&&("vertical"==this.barDirection?_+=this._barNudge:L-=this._barNudge),h.css("left",_),h.css("top",L);var v=_+h.width(),m=L+h.height(),w=o.edgeTolerance,j=t(i.canvas).position().left,q=t(i.canvas).position().top,x=i.canvas.width+j,k=i.canvas.height+q;(_-w<j||L-w<q||v+w>x||m+w>k)&&h.remove(),h=null,p=null}}},t.jqplot.postSeriesInitHooks.push(t.jqplot.PointLabels.init),t.jqplot.postDrawSeriesHooks.push(t.jqplot.PointLabels.draw)}(jQuery);
$((function(){$.fn.jqplotToImage=function(t,e){if(0==$(this).width()||0==$(this).height())return null;var n=document.createElement("canvas");if(n.width=$(this).outerWidth()+Number(t),n.height=$(this).outerHeight()+Number(e),!n.getContext)return null;var i=n.getContext("2d");function r(t,e,n){var o=t.tagName.toLowerCase(),s=$(t).position(),a=getComputedStyle(t),h=e+s.left+parseInt(a.marginLeft)+parseInt(a.borderLeftWidth)+parseInt(a.paddingLeft),f=n+s.top+parseInt(a.marginTop)+parseInt(a.borderTopWidth)+parseInt(a.paddingTop);if("div"!=o&&"span"!=o||$(t).hasClass("jqplot-highlighter-tooltip"))"canvas"==o&&i.drawImage(t,h,f);else{$(t).children().each((function(){r(this,h,f)}));var l=$(t).childText();if(l){i.measureText(l);i.font=$(t).getComputedFontStyle(),i.fillText(l,h,f)}}}return i.textAlign="left",i.textBaseline="top",$(this).children().each((function(){r(this,t,e)})),n},$.fn.css2=jQuery.fn.css,$.fn.css=function(){return arguments.length?jQuery.fn.css2.apply(this,arguments):window.getComputedStyle(this[0])},$.fn.getComputedFontStyle=function(){for(var t=this.css(),e=["font-style","font-weight","font-size","font-family"],n=[],i=0;i<e.length;++i){(e=String(t[e[i]]))&&"normal"!=e&&n.push(e)}return n.join(" ")},$.fn.childText=function(){return $(this).contents().filter((function(){return 3==this.nodeType})).text()}}));
const hashActions={getHash:function(e){var t=location.hash;if(0===t.length)return!1;switch(t=t.substring(2).split("/"),e){case"app":return t[0];case"mapId":return!(!t[0]||"map"!=t[1]||!t[2])&&t[2];case"queryId":return!(!t[0]||"query"!=t[1]||!t[2])&&t[2];case"chartId":return!(!t[0]||"chart"!=t[1]||!t[2])&&t[2];case"readId":return!!(t[0]&&t[1]&&t[2])&&{app:t[0],table:t[1],id:t[2],isIdField:t[3]};default:return t}},map2action(){if(this.getHash("mapId"))core.getJSON("saved_queries_ctrl","getById",{id:this.getHash("mapId")},!1,(function(e){"success"==e.status&&core.runMod("geoface",[e.tb,e.text])}));else if(this.getHash("queryId"))core.getJSON("saved_queries_ctrl","getById",{id:this.getHash("queryId")},!1,(function(e){"success"===e.status?api.showResults(e.tb,"type=obj_encoded&obj_encoded="+e.obj_encoded,core.tr("saved_queries")+" ("+e.tb+")"):core.message(core.tr("saved_query_does_not_exist",[this.getHash("queryId")]),"error",!0)}));else if(this.getHash("chartId"))core.runMod("chart",["showChart",this.getHash("chartId")]);else if(this.getHash("readId")){const e=this.getHash("readId");api.record.read(prefix+e.table,[e.id],e.isIdField)}}};